const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-Bg5k1fBH.js","./index-WUGq-ct8.css","./RemoteAgentSetup-zaKd1y4T.js","./Keybindings-B3h1jpi_.js","./folder-opened-Bm8IVIHF.js","./file-paths-BcSg4gks.js","./folder-opened-tclW2Ian.css","./ButtonAugment-CSwi-JVg.js","./ButtonAugment-Bmxlb-xV.css","./pen-to-square-DVpukHrw.js","./index-CqmTMtlA.js","./Content-DlSDhH-b.js","./globals-D0QH3NT1.js","./Content-b_LtFw1A.css","./index-CgJL-5Be.css","./TextTooltipAugment-BspEVawc.js","./IconButtonAugment-CMGBc7C3.js","./IconButtonAugment-BTu-iglL.css","./TextTooltipAugment-DqxYn6Er.css","./exclamation-triangle-CVGAe7xx.js","./augment-logo-rit98iY0.js","./Keybindings-QF1KkJt-.css","./VSCodeCodicon-CcDUR7n0.js","./VSCodeCodicon-DVaocTud.css","./github-DJRJsxRC.js","./github-C69UsBAv.css","./index-CUDfp9dg.js","./circle-backslash-DcaYy8Cz.js","./CollapseButtonAugment-BGvJcqaG.js","./toggleHighContrast-CwIv4U26.js","./preload-helper-Dv6uf1Os.js","./toggleHighContrast-D4zjdeIP.css","./CollapseButtonAugment-CDwdKysb.css","./terminal-BosCzoBy.js","./design-system-init-CB2neNOj.js","./design-system-init-CRmW_T8r.css","./magnifying-glass-B45gORk9.js","./magnifying-glass-D5JCKRwC.css","./ellipsis-D4o8IzPJ.js","./isObjectLike-BM7wo5O1.js","./await_block-mV9LhbR_.js","./keypress-DD1aQVr0.js","./MaterialIcon-BhPUHxOM.js","./MaterialIcon-BO_oU5T3.css","./autofix-state-d-ymFdyn.js","./RemoteAgentSetup-k-emaGpv.css","./MessageList-CVy29LmZ.js","./MessageListBottomButton-Dfm2AIK9.js","./AugmentMessage-DPQ5COF7.js","./expand-DPRXx-qB.js","./IconFilePath-Db9jFTUr.js","./LanguageIcon-elXUw7jw.js","./LanguageIcon-D78BqCXT.css","./next-edit-types-904A5ehg.js","./IconFilePath-CiKel2Kp.css","./mcp-logo-BTaOefqG.js","./play-B7RwZVmm.js","./AugmentMessage-BM6hapz-.css","./MessageListBottomButton-B5kYEFqb.css","./MessageList-oOmgKMRz.css","./VirtualizedMessageList-BwGbyMM5.js","./VirtualizedMessageList-Dz2AHScg.css"])))=>i.map(i=>d[i]);
var Ld=Object.defineProperty;var Sd=(i,e,n)=>e in i?Ld(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n;var te=(i,e,n)=>Sd(i,typeof e!="symbol"?e+"":e,n);import{S as oe,d as re,e as ne,P as ze,y as F,j as A,a1 as Sr,E as Ne,k as M,l as H,V as je,W as He,X as Ue,b as d,t as p,m as w,h as Fe,n as N,z as y,A as b,B as x,ad as qe,a7 as Ze,a4 as de,a as K,c as Z,K as ft,ap as Zt,aq as tn,a9 as vt,Q as U,a0 as X,a2 as Te,G as ke,I as Nt,_ as lo,$ as bo,o as Ee,H as jt,u as Ht,v as Ut,w as Wt,p as rt,x as qt,q as wt,r as et,a5 as Oe,ai as Rd,R as rn,aN as Pd,aO as Nd,as as Ho,aj as cn,af as it,am as Fd,aa as en,ab as ot,Y as yt,ar as Uo,aK as Er,J as Hn,ag as Zn,aI as zs,ae as Ao,aC as yn,D as Dd,ak as Od,a6 as Kn,Z as Qn,N as Bd,O as zd,U as jd,T as Hd,ac as jo,aB as yi,F as js,a3 as ou,ao as ru,C as Hs,an as Cn,ah as Ud}from"./index-Bg5k1fBH.js";import"./design-system-init-CB2neNOj.js";import{W as dt,e as ct,u as Ti,o as iu,d as Wd,h as an,a as pt,i as su,O as on,M as Cr}from"./ButtonAugment-CSwi-JVg.js";import{T as ht,M as Wr}from"./TextTooltipAugment-BspEVawc.js";import{g as co,h as qd,b as Us,l as Gd,m as Vn,R as Ws,e as Rr,i as Gt,n as pi,I as Mr,a as qs,C as Bo,P as Ar,j as au,k as cu}from"./folder-opened-Bm8IVIHF.js";import{p as Ln,E as kt,d as Vd,q as Yd,R as uo,r as lu,t as xo,u as An,v as Tt,w as Xd,A as Ir,x as vn,y as Gs,j as uu,z as Kd,B as Zd,F as Qd,G as Pr,H as bi,I as Jd,i as ef,O as du,J as tf,K as Yo,L as nf,T as It,N as of,P as rf,M as Nr,D as Fr,Q as sf,U as fu,V as Li,W as Si,X as Ri,Y as Pi,Z as qr,_ as Ni,$ as Fi,a0 as mu,a1 as af,a2 as pu,a3 as $u,a4 as cf,a5 as lf,a6 as Go,a7 as hu,a8 as uf,a9 as df,aa as ff,ab as mf,ac as pf,ad as gu,ae as vu,af as $f,ag as xi,ah as $i,ai as hf,m as gf,C as vf,aj as wf,s as yf,ak as Wo}from"./circle-backslash-DcaYy8Cz.js";import{I as At}from"./IconButtonAugment-CMGBc7C3.js";import{P as wu,B as mo,L as bf,M as xf}from"./magnifying-glass-B45gORk9.js";import{R as wn,M as ko,d as _f,e as Cf}from"./CollapseButtonAugment-BGvJcqaG.js";import{s as Vs,f as _o}from"./index-CUDfp9dg.js";import{D as Ae,a as Mf,C as Af,T as Gr,S as kf,b as Ef}from"./index-CqmTMtlA.js";import{E as Eo}from"./ellipsis-D4o8IzPJ.js";import{C as bn,c as Xo,e as qo,T as Ys,d as Ko,a as If,R as Tf,G as yu}from"./github-DJRJsxRC.js";import{E as ln}from"./exclamation-triangle-CVGAe7xx.js";import{a as Lf,_ as Sf,c as Rf,i as Di}from"./isObjectLike-BM7wo5O1.js";import{a as Pt,H as Pf,o as Nf}from"./Content-DlSDhH-b.js";import{T as bu,Q as Oi,V as Ff,W as Df,X as Of,Y as Bf,Z as zf,_ as jf,x as Xs,R as Hf,B as Uf,P as Wf,A as qf,z as xu,F as Gf,G as Vf,H as Yf,J as Xf,$ as Kf,M as fo,I as _u,L as Zf,N as Qf,K as Jf,d as Cu,e as Mu}from"./Keybindings-B3h1jpi_.js";import{g as em}from"./globals-D0QH3NT1.js";import{h as Co,u as Vr}from"./await_block-mV9LhbR_.js";import{o as Rn}from"./keypress-DD1aQVr0.js";import{g as _i}from"./file-paths-BcSg4gks.js";import{_ as Yr}from"./preload-helper-Dv6uf1Os.js";import{M as Jn}from"./MaterialIcon-BhPUHxOM.js";import{P as Au,S as jn}from"./pen-to-square-DVpukHrw.js";import{A as wo}from"./autofix-state-d-ymFdyn.js";import{A as tm}from"./augment-logo-rit98iY0.js";import"./toggleHighContrast-CwIv4U26.js";function Un(i){return Array.isArray?Array.isArray(i):Iu(i)==="[object Array]"}const nm=1/0;function om(i){return i==null?"":function(e){if(typeof e=="string")return e;let n=e+"";return n=="0"&&1/e==-nm?"-0":n}(i)}function Sn(i){return typeof i=="string"}function ku(i){return typeof i=="number"}function rm(i){return i===!0||i===!1||function(e){return Eu(e)&&e!==null}(i)&&Iu(i)=="[object Boolean]"}function Eu(i){return typeof i=="object"}function fn(i){return i!=null}function hi(i){return!i.trim().length}function Iu(i){return i==null?i===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(i)}const im=i=>`Missing ${i} property in key`,sm=i=>`Property 'weight' in key '${i}' must be a positive integer`,Ks=Object.prototype.hasOwnProperty;class am{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(t=>{let o=Tu(t);this._keys.push(o),this._keyMap[o.id]=o,n+=o.weight}),this._keys.forEach(t=>{t.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Tu(i){let e=null,n=null,t=null,o=1,r=null;if(Sn(i)||Un(i))t=i,e=Zs(i),n=Ci(i);else{if(!Ks.call(i,"name"))throw new Error(im("name"));const s=i.name;if(t=s,Ks.call(i,"weight")&&(o=i.weight,o<=0))throw new Error(sm(s));e=Zs(s),n=Ci(s),r=i.getFn}return{path:e,id:n,weight:o,src:t,getFn:r}}function Zs(i){return Un(i)?i:i.split(".")}function Ci(i){return Un(i)?i.join("."):i}var Be={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(i,e)=>i.score===e.score?i.idx<e.idx?-1:1:i.score<e.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(i,e){let n=[],t=!1;const o=(r,s,c)=>{if(fn(r))if(s[c]){const a=r[s[c]];if(!fn(a))return;if(c===s.length-1&&(Sn(a)||ku(a)||rm(a)))n.push(om(a));else if(Un(a)){t=!0;for(let l=0,u=a.length;l<u;l+=1)o(a[l],s,c+1)}else s.length&&o(a,s,c+1)}else n.push(r)};return o(i,Sn(e)?e.split("."):e,0),t?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};const cm=/[^ ]+/g;class Bi{constructor({getFn:e=Be.getFn,fieldNormWeight:n=Be.fieldNormWeight}={}){this.norm=function(t=1,o=3){const r=new Map,s=Math.pow(10,o);return{get(c){const a=c.match(cm).length;if(r.has(a))return r.get(a);const l=1/Math.pow(a,.5*t),u=parseFloat(Math.round(l*s)/s);return r.set(a,u),u},clear(){r.clear()}}}(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,t)=>{this._keysMap[n.id]=t})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,Sn(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();Sn(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,t=this.size();n<t;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!fn(e)||hi(e))return;let t={v:e,i:n,n:this.norm.get(e)};this.records.push(t)}_addObject(e,n){let t={i:n,$:{}};this.keys.forEach((o,r)=>{let s=o.getFn?o.getFn(e):this.getFn(e,o.path);if(fn(s)){if(Un(s)){let c=[];const a=[{nestedArrIndex:-1,value:s}];for(;a.length;){const{nestedArrIndex:l,value:u}=a.pop();if(fn(u))if(Sn(u)&&!hi(u)){let f={v:u,i:l,n:this.norm.get(u)};c.push(f)}else Un(u)&&u.forEach((f,g)=>{a.push({nestedArrIndex:g,value:f})})}t.$[r]=c}else if(Sn(s)&&!hi(s)){let c={v:s,n:this.norm.get(s)};t.$[r]=c}}}),this.records.push(t)}toJSON(){return{keys:this.keys,records:this.records}}}function Lu(i,e,{getFn:n=Be.getFn,fieldNormWeight:t=Be.fieldNormWeight}={}){const o=new Bi({getFn:n,fieldNormWeight:t});return o.setKeys(i.map(Tu)),o.setSources(e),o.create(),o}function kr(i,{errors:e=0,currentLocation:n=0,expectedLocation:t=0,distance:o=Be.distance,ignoreLocation:r=Be.ignoreLocation}={}){const s=e/i.length;if(r)return s;const c=Math.abs(t-n);return o?s+c/o:c?1:s}const ao=32;function lm(i,e,n,{location:t=Be.location,distance:o=Be.distance,threshold:r=Be.threshold,findAllMatches:s=Be.findAllMatches,minMatchCharLength:c=Be.minMatchCharLength,includeMatches:a=Be.includeMatches,ignoreLocation:l=Be.ignoreLocation}={}){if(e.length>ao)throw new Error(`Pattern length exceeds max of ${ao}.`);const u=e.length,f=i.length,g=Math.max(0,Math.min(t,f));let h=r,k=g;const I=c>1||a,_=I?Array(f):[];let T;for(;(T=i.indexOf(e,k))>-1;){let ie=kr(e,{currentLocation:T,expectedLocation:g,distance:o,ignoreLocation:l});if(h=Math.min(ie,h),k=T+u,I){let le=0;for(;le<u;)_[T+le]=1,le+=1}}k=-1;let O=[],B=1,z=u+f;const fe=1<<u-1;for(let ie=0;ie<u;ie+=1){let le=0,Q=z;for(;le<Q;)kr(e,{errors:ie,currentLocation:g+Q,expectedLocation:g,distance:o,ignoreLocation:l})<=h?le=Q:z=Q,Q=Math.floor((z-le)/2+le);z=Q;let _e=Math.max(1,g-Q+1),ge=s?f:Math.min(g+Q,f)+u,be=Array(ge+2);be[ge+1]=(1<<ie)-1;for(let q=ge;q>=_e;q-=1){let Pe=q-1,Se=n[i.charAt(Pe)];if(I&&(_[Pe]=+!!Se),be[q]=(be[q+1]<<1|1)&Se,ie&&(be[q]|=(O[q+1]|O[q])<<1|1|O[q+1]),be[q]&fe&&(B=kr(e,{errors:ie,currentLocation:Pe,expectedLocation:g,distance:o,ignoreLocation:l}),B<=h)){if(h=B,k=Pe,k<=g)break;_e=Math.max(1,2*g-k)}}if(kr(e,{errors:ie+1,currentLocation:g,expectedLocation:g,distance:o,ignoreLocation:l})>h)break;O=be}const ye={isMatch:k>=0,score:Math.max(.001,B)};if(I){const ie=function(le=[],Q=Be.minMatchCharLength){let _e=[],ge=-1,be=-1,q=0;for(let Pe=le.length;q<Pe;q+=1){let Se=le[q];Se&&ge===-1?ge=q:Se||ge===-1||(be=q-1,be-ge+1>=Q&&_e.push([ge,be]),ge=-1)}return le[q-1]&&q-ge>=Q&&_e.push([ge,q-1]),_e}(_,c);ie.length?a&&(ye.indices=ie):ye.isMatch=!1}return ye}function um(i){let e={};for(let n=0,t=i.length;n<t;n+=1){const o=i.charAt(n);e[o]=(e[o]||0)|1<<t-n-1}return e}class Su{constructor(e,{location:n=Be.location,threshold:t=Be.threshold,distance:o=Be.distance,includeMatches:r=Be.includeMatches,findAllMatches:s=Be.findAllMatches,minMatchCharLength:c=Be.minMatchCharLength,isCaseSensitive:a=Be.isCaseSensitive,ignoreLocation:l=Be.ignoreLocation}={}){if(this.options={location:n,threshold:t,distance:o,includeMatches:r,findAllMatches:s,minMatchCharLength:c,isCaseSensitive:a,ignoreLocation:l},this.pattern=a?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(g,h)=>{this.chunks.push({pattern:g,alphabet:um(g),startIndex:h})},f=this.pattern.length;if(f>ao){let g=0;const h=f%ao,k=f-h;for(;g<k;)u(this.pattern.substr(g,ao),g),g+=ao;if(h){const I=f-ao;u(this.pattern.substr(I),I)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,includeMatches:t}=this.options;if(n||(e=e.toLowerCase()),this.pattern===e){let k={isMatch:!0,score:0};return t&&(k.indices=[[0,e.length-1]]),k}const{location:o,distance:r,threshold:s,findAllMatches:c,minMatchCharLength:a,ignoreLocation:l}=this.options;let u=[],f=0,g=!1;this.chunks.forEach(({pattern:k,alphabet:I,startIndex:_})=>{const{isMatch:T,score:O,indices:B}=lm(e,k,I,{location:o+_,distance:r,threshold:s,findAllMatches:c,minMatchCharLength:a,includeMatches:t,ignoreLocation:l});T&&(g=!0),f+=O,T&&B&&(u=[...u,...B])});let h={isMatch:g,score:g?f/this.chunks.length:1};return g&&t&&(h.indices=u),h}}class Yn{constructor(e){this.pattern=e}static isMultiMatch(e){return Qs(e,this.multiRegex)}static isSingleMatch(e){return Qs(e,this.singleRegex)}search(){}}function Qs(i,e){const n=i.match(e);return n?n[1]:null}class Ru extends Yn{constructor(e,{location:n=Be.location,threshold:t=Be.threshold,distance:o=Be.distance,includeMatches:r=Be.includeMatches,findAllMatches:s=Be.findAllMatches,minMatchCharLength:c=Be.minMatchCharLength,isCaseSensitive:a=Be.isCaseSensitive,ignoreLocation:l=Be.ignoreLocation}={}){super(e),this._bitapSearch=new Su(e,{location:n,threshold:t,distance:o,includeMatches:r,findAllMatches:s,minMatchCharLength:c,isCaseSensitive:a,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Pu extends Yn{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n,t=0;const o=[],r=this.pattern.length;for(;(n=e.indexOf(this.pattern,t))>-1;)t=n+r,o.push([n,t-1]);const s=!!o.length;return{isMatch:s,score:s?0:1,indices:o}}}const Mi=[class extends Yn{constructor(i){super(i)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(i){const e=i===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},Pu,class extends Yn{constructor(i){super(i)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(i){const e=i.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends Yn{constructor(i){super(i)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(i){const e=!i.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,i.length-1]}}},class extends Yn{constructor(i){super(i)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(i){const e=!i.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,i.length-1]}}},class extends Yn{constructor(i){super(i)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(i){const e=i.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[i.length-this.pattern.length,i.length-1]}}},class extends Yn{constructor(i){super(i)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(i){const e=i.indexOf(this.pattern)===-1;return{isMatch:e,score:e?0:1,indices:[0,i.length-1]}}},Ru],Js=Mi.length,dm=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,fm=new Set([Ru.type,Pu.type]);class mm{constructor(e,{isCaseSensitive:n=Be.isCaseSensitive,includeMatches:t=Be.includeMatches,minMatchCharLength:o=Be.minMatchCharLength,ignoreLocation:r=Be.ignoreLocation,findAllMatches:s=Be.findAllMatches,location:c=Be.location,threshold:a=Be.threshold,distance:l=Be.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:t,minMatchCharLength:o,findAllMatches:s,ignoreLocation:r,location:c,threshold:a,distance:l},this.pattern=n?e:e.toLowerCase(),this.query=function(u,f={}){return u.split("|").map(g=>{let h=g.trim().split(dm).filter(I=>I&&!!I.trim()),k=[];for(let I=0,_=h.length;I<_;I+=1){const T=h[I];let O=!1,B=-1;for(;!O&&++B<Js;){const z=Mi[B];let fe=z.isMultiMatch(T);fe&&(k.push(new z(fe,f)),O=!0)}if(!O)for(B=-1;++B<Js;){const z=Mi[B];let fe=z.isSingleMatch(T);if(fe){k.push(new z(fe,f));break}}}return k})}(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:t,isCaseSensitive:o}=this.options;e=o?e:e.toLowerCase();let r=0,s=[],c=0;for(let a=0,l=n.length;a<l;a+=1){const u=n[a];s.length=0,r=0;for(let f=0,g=u.length;f<g;f+=1){const h=u[f],{isMatch:k,indices:I,score:_}=h.search(e);if(!k){c=0,r=0,s.length=0;break}if(r+=1,c+=_,t){const T=h.constructor.type;fm.has(T)?s=[...s,...I]:s.push(I)}}if(r){let f={isMatch:!0,score:c/r};return t&&(f.indices=s),f}}return{isMatch:!1,score:1}}}const Ai=[];function ki(i,e){for(let n=0,t=Ai.length;n<t;n+=1){let o=Ai[n];if(o.condition(i,e))return new o(i,e)}return new Su(i,e)}const zi="$and",pm="$or",ea="$path",$m="$val",gi=i=>!(!i[zi]&&!i[pm]),ta=i=>({[zi]:Object.keys(i).map(e=>({[e]:i[e]}))});function Nu(i,e,{auto:n=!0}={}){const t=o=>{let r=Object.keys(o);const s=(a=>!!a[ea])(o);if(!s&&r.length>1&&!gi(o))return t(ta(o));if((a=>!Un(a)&&Eu(a)&&!gi(a))(o)){const a=s?o[ea]:r[0],l=s?o[$m]:o[a];if(!Sn(l))throw new Error((f=>`Invalid value for key ${f}`)(a));const u={keyId:Ci(a),pattern:l};return n&&(u.searcher=ki(l,e)),u}let c={children:[],operator:r[0]};return r.forEach(a=>{const l=o[a];Un(l)&&l.forEach(u=>{c.children.push(t(u))})}),c};return gi(i)||(i=ta(i)),t(i)}function hm(i,e){const n=i.matches;e.matches=[],fn(n)&&n.forEach(t=>{if(!fn(t.indices)||!t.indices.length)return;const{indices:o,value:r}=t;let s={indices:o,value:r};t.key&&(s.key=t.key.src),t.idx>-1&&(s.refIndex=t.idx),e.matches.push(s)})}function gm(i,e){e.score=i.score}class yo{constructor(e,n={},t){this.options={...Be,...n},this.options.useExtendedSearch,this._keyStore=new am(this.options.keys),this.setCollection(e,t)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof Bi))throw new Error("Incorrect 'index' type");this._myIndex=n||Lu(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){fn(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let t=0,o=this._docs.length;t<o;t+=1){const r=this._docs[t];e(r,t)&&(this.removeAt(t),t-=1,o-=1,n.push(r))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:t,includeScore:o,shouldSort:r,sortFn:s,ignoreFieldNorm:c}=this.options;let a=Sn(e)?Sn(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(l,{ignoreFieldNorm:u=Be.ignoreFieldNorm}){l.forEach(f=>{let g=1;f.matches.forEach(({key:h,norm:k,score:I})=>{const _=h?h.weight:null;g*=Math.pow(I===0&&_?Number.EPSILON:I,(_||1)*(u?1:k))}),f.score=g})}(a,{ignoreFieldNorm:c}),r&&a.sort(s),ku(n)&&n>-1&&(a=a.slice(0,n)),function(l,u,{includeMatches:f=Be.includeMatches,includeScore:g=Be.includeScore}={}){const h=[];return f&&h.push(hm),g&&h.push(gm),l.map(k=>{const{idx:I}=k,_={item:u[I],refIndex:I};return h.length&&h.forEach(T=>{T(k,_)}),_})}(a,this._docs,{includeMatches:t,includeScore:o})}_searchStringList(e){const n=ki(e,this.options),{records:t}=this._myIndex,o=[];return t.forEach(({v:r,i:s,n:c})=>{if(!fn(r))return;const{isMatch:a,score:l,indices:u}=n.searchIn(r);a&&o.push({item:r,idx:s,matches:[{score:l,value:r,norm:c,indices:u}]})}),o}_searchLogical(e){const n=Nu(e,this.options),t=(c,a,l)=>{if(!c.children){const{keyId:f,searcher:g}=c,h=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(a,f),searcher:g});return h&&h.length?[{idx:l,item:a,matches:h}]:[]}const u=[];for(let f=0,g=c.children.length;f<g;f+=1){const h=c.children[f],k=t(h,a,l);if(k.length)u.push(...k);else if(c.operator===zi)return[]}return u},o=this._myIndex.records,r={},s=[];return o.forEach(({$:c,i:a})=>{if(fn(c)){let l=t(n,c,a);l.length&&(r[a]||(r[a]={idx:a,item:c,matches:[]},s.push(r[a])),l.forEach(({matches:u})=>{r[a].matches.push(...u)}))}}),s}_searchObjectList(e){const n=ki(e,this.options),{keys:t,records:o}=this._myIndex,r=[];return o.forEach(({$:s,i:c})=>{if(!fn(s))return;let a=[];t.forEach((l,u)=>{a.push(...this._findMatches({key:l,value:s[u],searcher:n}))}),a.length&&r.push({idx:c,item:s,matches:a})}),r}_findMatches({key:e,value:n,searcher:t}){if(!fn(n))return[];let o=[];if(Un(n))n.forEach(({v:r,i:s,n:c})=>{if(!fn(r))return;const{isMatch:a,score:l,indices:u}=t.searchIn(r);a&&o.push({score:l,key:e,value:r,idx:s,norm:c,indices:u})});else{const{v:r,n:s}=n,{isMatch:c,score:a,indices:l}=t.searchIn(r);c&&o.push({score:a,key:e,value:r,norm:s,indices:l})}return o}}yo.version="7.0.0",yo.createIndex=Lu,yo.parseIndex=function(i,{getFn:e=Be.getFn,fieldNormWeight:n=Be.fieldNormWeight}={}){const{keys:t,records:o}=i,r=new Bi({getFn:e,fieldNormWeight:n});return r.setKeys(t),r.setIndexRecords(o),r},yo.config=Be,yo.parseQuery=Nu,function(...i){Ai.push(...i)}(mm);var Mt=(i=>(i.disableCopilot="ShouldDisableCopilot",i.disableCodeium="ShouldDisableCodeium",i.workspacePopulated="WorkspacePopulated",i.workspaceNotPopulated="WorkspaceNotPopulated",i.workspaceNotSelected="WorkspaceNotSelected",i.signInRequired="UserShouldSignIn",i.allActionsComplete="AllActionsComplete",i.syncingPermissionNeeded="SyncingPermissionNeeded",i.workspaceTooLarge="workspaceTooLarge",i.uploadingHomeDir="uploadingHomeDir",i))(Mt||{}),ji=(i=>(i.signInInProgress="SignInInProgress",i))(ji||{});let vm=class{constructor(){te(this,"subscribers",new Set);te(this,"_actions",[]);te(this,"_currentIndex",0);te(this,"subscribe",i=>(this.subscribers.add(i),i(this),()=>{this.subscribers.delete(i)}))}get currentCard(){return this.actions[this._currentIndex]}notifySubscribers(){this.subscribers.forEach(i=>i(this))}get actions(){return this._actions}handleMessageFromExtension(i){const e=i.data;return e.type===dt.mainPanelActions&&(this.onActionsUpdates(e.data),!0)}onActionsUpdates(i){this._actions=i,this._currentIndex=0,this.notifySubscribers()}nextAction(){this._currentIndex=(this._currentIndex+1)%this._actions.length,this.notifySubscribers()}prevAction(){this._currentIndex=(this._currentIndex-1+this._actions.length)%this._actions.length,this.notifySubscribers()}isCollapsible(i){return i===Mt.allActionsComplete}};const Ex=`Augment just finished syncing with your codebase! Here is a summary of what we saw:

`;class wm{constructor(e,n){te(this,"handleMessageFromExtension",e=>(e.data.type===dt.shouldShowSummary&&this.showProjectSummary(),!0));this._chatModel=e,this._flagsModel=n}async retryProjectSummary(e){const[n]=await Promise.all([this.generateQuestions(),this._chatModel.currentConversationModel.resendTurn(e)]);await this.attachQuestions(n)}async showProjectSummary(){const e=this.generateQuestions();await this.generateSummary();const n=await e;this.attachQuestions(n)}async generateQuestions(){const{responseText:e}=await this._chatModel.currentConversationModel.sendSilentExchange({request_message:"Give me the five most important questions a developer would need answered about this codebase. These questions should be separated by a newline. I want you to say absolutely nothing else.",model_id:this._flagsModel.modelDisplayNameToId.Overview??void 0,disableSelectedCodeDetails:!0,disableHistory:!0});return e.split(`
`).filter(n=>n.trim()!=="")}async generateSummary(){this._chatModel.extensionClient.showAugmentPanel(),await this._chatModel.currentConversationModel.sendExchange({chatItemType:Ln.summaryResponse,request_message:"Provide a short summary of this project",model_id:this._flagsModel.modelDisplayNameToId.Overview??void 0,status:kt.draft,disableSelectedCodeDetails:!0,disableHistory:!0})}async attachQuestions(e){const n=this._chatModel.currentConversationModel.chatHistory.findLast(Vd);n&&n.request_id&&e&&this._chatModel.currentConversationModel.updateChatItem(n.request_id,{questionsLoaded:!0,questions:e})}}function ym(i){let e,n,t,o;const r=i[12].default,s=ze(r,i,i[11],null);return{c(){e=F("div"),n=F("div"),s&&s.c(),A(n,"class",t=Sr(`c-card ${i[0]}`)+" svelte-1hp682e"),Ne(n,"highlighted",i[1]),Ne(n,"hasTop",i[8]),Ne(n,"hasBottom",i[7]),Ne(n,"hasLeft",i[6]),Ne(n,"hasRight",i[5]),Ne(n,"reserve-border-space",i[4]),A(e,"class","c-card-container svelte-1hp682e"),A(e,"style",i[2]),Ne(e,"overflow-visible",i[3])},m(c,a){M(c,e,a),H(e,n),s&&s.m(n,null),o=!0},p(c,[a]){s&&s.p&&(!o||2048&a)&&je(s,r,c,c[11],o?Ue(r,c[11],a,null):He(c[11]),null),(!o||1&a&&t!==(t=Sr(`c-card ${c[0]}`)+" svelte-1hp682e"))&&A(n,"class",t),(!o||3&a)&&Ne(n,"highlighted",c[1]),(!o||257&a)&&Ne(n,"hasTop",c[8]),(!o||129&a)&&Ne(n,"hasBottom",c[7]),(!o||65&a)&&Ne(n,"hasLeft",c[6]),(!o||33&a)&&Ne(n,"hasRight",c[5]),(!o||17&a)&&Ne(n,"reserve-border-space",c[4]),(!o||4&a)&&A(e,"style",c[2]),(!o||8&a)&&Ne(e,"overflow-visible",c[3])},i(c){o||(d(s,c),o=!0)},o(c){p(s,c),o=!1},d(c){c&&w(e),s&&s.d(c)}}}function bm(i,e,n){let t,o,r,s,c,{$$slots:a={},$$scope:l}=e,{class:u=""}=e,{highlighted:f=!1}=e,{style:g=""}=e,{overflowVisible:h=!1}=e,{borders:k=["top","bottom","left","right"]}=e,{reserveBorderSpace:I=!1}=e;return i.$$set=_=>{"class"in _&&n(0,u=_.class),"highlighted"in _&&n(1,f=_.highlighted),"style"in _&&n(2,g=_.style),"overflowVisible"in _&&n(3,h=_.overflowVisible),"borders"in _&&n(9,k=_.borders),"reserveBorderSpace"in _&&n(4,I=_.reserveBorderSpace),"$$scope"in _&&n(11,l=_.$$scope)},i.$$.update=()=>{512&i.$$.dirty&&n(10,t=k.map(_=>_.split("-")).flat()),1024&i.$$.dirty&&n(8,o=t.includes("top")),1024&i.$$.dirty&&n(7,r=t.includes("bottom")),1024&i.$$.dirty&&n(6,s=t.includes("left")),1024&i.$$.dirty&&n(5,c=t.includes("right"))},[u,f,g,h,I,c,s,r,o,k,t,l,a]}class Fu extends oe{constructor(e){super(),re(this,e,bm,ym,ne,{class:0,highlighted:1,style:2,overflowVisible:3,borders:9,reserveBorderSpace:4})}}function xm(i){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),A(n,"d","M256 0c-17.7 0-32 14.3-32 32l0 19.2C151 66 96 130.6 96 208l0 25.4c0 45.4-15.5 89.5-43.8 124.9L37.3 377c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6l400 0c9.2 0 17.6-5.3 21.6-13.6s2.9-18.2-2.9-25.4l-14.9-18.6C431.5 322.9 416 278.8 416 233.4l0-25.4c0-77.4-55-142-128-156.8L288 32c0-17.7-14.3-32-32-32zm0 96c61.9 0 112 50.1 112 112l0 25.4c0 47.9 13.9 94.6 39.7 134.6l-303.4 0c25.8-40 39.7-86.7 39.7-134.6l0-25.4c0-61.9 50.1-112 112-112zm64 352l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7s18.7-28.3 18.7-45.3zM113.4 15.4c-9.1-9.6-24.3-10-33.9-.8C30.5 61.2 0 127.1 0 200c0 13.3 10.7 24 24 24s24-10.7 24-24c0-59.3 24.8-112.7 64.6-150.6c9.6-9.1 10-24.3 .8-33.9zM399.4 49.4C439.2 87.3 464 140.7 464 200c0 13.3 10.7 24 24 24s24-10.7 24-24c0-72.9-30.5-138.8-79.4-185.4c-9.6-9.1-24.8-8.8-33.9 .8s-8.8 24.8 .8 33.9z"),A(e,"xmlns","http://www.w3.org/2000/svg"),A(e,"viewBox","0 0 512 512")},m(t,o){M(t,e,o),H(e,n)},p:N,i:N,o:N,d(t){t&&w(e)}}}class _m extends oe{constructor(e){super(),re(this,e,null,xm,ne,{})}}function Cm(i){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),A(n,"d","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L542.6 400c2.7-7.8 1.3-16.5-3.9-23l-14.9-18.6C495.5 322.9 480 278.8 480 233.4l0-33.4c0-75.8-55.5-138.6-128-150.1L352 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 17.9c-43.9 7-81.5 32.7-104.4 68.7L38.8 5.1zM221.7 148.4C239.6 117.1 273.3 96 312 96l8 0 8 0c57.4 0 104 46.6 104 104l0 33.4c0 32.7 6.4 64.8 18.7 94.5L221.7 148.4zM406.2 416l-60.9-48-176.9 0c21.2-32.8 34.4-70.3 38.4-109.1L160 222.1l0 11.4c0 45.4-15.5 89.5-43.8 124.9L101.3 377c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6l286.2 0zM384 448l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7s18.7-28.3 18.7-45.3z"),A(e,"xmlns","http://www.w3.org/2000/svg"),A(e,"viewBox","0 0 640 512")},m(t,o){M(t,e,o),H(e,n)},p:N,i:N,o:N,d(t){t&&w(e)}}}class Mm extends oe{constructor(e){super(),re(this,e,null,Cm,ne,{})}}function Am(i){let e,n;return e=new Mm({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function km(i){let e,n;return e=new _m({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Em(i){let e,n,t,o;const r=[km,Am],s=[];function c(a,l){return a[0]?0:1}return e=c(i),n=s[e]=r[e](i),{c(){n.c(),t=de()},m(a,l){s[e].m(a,l),M(a,t,l),o=!0},p(a,l){let u=e;e=c(a),e!==u&&(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),n=s[e],n||(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t))},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),s[e].d(a)}}}function Im(i){let e,n;return e=new At({props:{size:1,variant:"ghost-block",color:"neutral",$$slots:{default:[Em]},$$scope:{ctx:i}}}),e.$on("click",i[3]),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};257&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Tm(i){let e,n,t;return n=new ht({props:{content:i[1],$$slots:{default:[Im]},$$scope:{ctx:i}}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-notify-button svelte-1nip792")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p(o,[r]){const s={};2&r&&(s.content=o[1]),257&r&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function Lm(i,e,n){let t,o,r,s,{agentId:c}=e;const a=qe("remoteAgentsModel");Ze(i,a,u=>n(7,s=u));let l=!1;return i.$$set=u=>{"agentId"in u&&n(4,c=u.agentId)},i.$$.update=()=>{144&i.$$.dirty&&n(5,t=c??s.currentAgentId),128&i.$$.dirty&&n(6,o=s.newAgentDraft),224&i.$$.dirty&&(t?n(0,l=s.notificationSettings[t]??!1):o&&n(0,l=o.enableNotification)),1&i.$$.dirty&&n(1,r=l?"You'll be notified when the agent is ready for review. Click to turn off.":"Click to turn on notifications when the agent is ready for review.")},[l,r,a,function(){if(t)a.setNotificationEnabled(t,!l);else{const u=a.newAgentDraft;u&&a.setNewAgentDraft({...u,enableNotification:!l})}},c,t,o,s]}class Du extends oe{constructor(e){super(),re(this,e,Lm,Tm,ne,{agentId:4})}}function Sm(i){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),A(n,"fill-rule","evenodd"),A(n,"clip-rule","evenodd"),A(n,"d","M5.5 1C5.22386 1 5 1.22386 5 1.5C5 1.77614 5.22386 2 5.5 2H9.5C9.77614 2 10 1.77614 10 1.5C10 1.22386 9.77614 1 9.5 1H5.5ZM3 3.5C3 3.22386 3.22386 3 3.5 3H5H10H11.5C11.7761 3 12 3.22386 12 3.5C12 3.77614 11.7761 4 11.5 4H11V12C11 12.5523 10.5523 13 10 13H5C4.44772 13 4 12.5523 4 12V4L3.5 4C3.22386 4 3 3.77614 3 3.5ZM5 4H10V12H5V4Z"),A(n,"fill","currentColor"),A(e,"width","15"),A(e,"height","15"),A(e,"viewBox","0 0 15 15"),A(e,"fill","none"),A(e,"xmlns","http://www.w3.org/2000/svg")},m(t,o){M(t,e,o),H(e,n)},p:N,i:N,o:N,d(t){t&&w(e)}}}class Xr extends oe{constructor(e){super(),re(this,e,null,Sm,ne,{})}}function Rm(i){let e,n;return e=new Eo({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Pm(i){let e,n;return e=new At({props:{variant:"ghost-block",color:"neutral",size:1,title:"Agent options",$$slots:{default:[Rm]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};256&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Nm(i){let e;return{c(){e=X("Copy ID")},m(n,t){M(n,e,t)},p:N,d(n){n&&w(e)}}}function Fm(i){let e,n=i[3].get(i[0])+"";return{c(){e=X(n)},m(t,o){M(t,e,o)},p(t,o){9&o&&n!==(n=t[3].get(t[0])+"")&&Te(e,n)},d(t){t&&w(e)}}}function Dm(i){let e,n;function t(s,c){return 9&c&&(e=null),e==null&&(e=!!s[3].get(s[0])),e?Fm:Nm}let o=t(i,-1),r=o(i);return{c(){r.c(),n=de()},m(s,c){r.m(s,c),M(s,n,c)},p(s,c){o===(o=t(s,c))&&r?r.p(s,c):(r.d(1),r=o(s),r&&(r.c(),r.m(n.parentNode,n)))},d(s){s&&w(n),r.d(s)}}}function Om(i){let e,n;return e=new qd({props:{slot:"iconLeft"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function na(i){let e,n,t,o,r,s;return e=new Ae.Separator({}),t=new Ae.Label({props:{$$slots:{default:[Bm]},$$scope:{ctx:i}}}),r=new Ae.Item({props:{disabled:!0,$$slots:{default:[zm]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment),o=U(),y(r.$$.fragment)},m(c,a){b(e,c,a),M(c,n,a),b(t,c,a),M(c,o,a),b(r,c,a),s=!0},p(c,a){const l={};256&a&&(l.$$scope={dirty:a,ctx:c}),t.$set(l);const u={};258&a&&(u.$$scope={dirty:a,ctx:c}),r.$set(u)},i(c){s||(d(e.$$.fragment,c),d(t.$$.fragment,c),d(r.$$.fragment,c),s=!0)},o(c){p(e.$$.fragment,c),p(t.$$.fragment,c),p(r.$$.fragment,c),s=!1},d(c){c&&(w(n),w(o)),x(e,c),x(t,c),x(r,c)}}}function Bm(i){let e;return{c(){e=X("Branch")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function zm(i){let e;return{c(){e=X(i[1])},m(n,t){M(n,e,t)},p(n,t){2&t&&Te(e,n[1])},d(n){n&&w(e)}}}function jm(i){let e,n,t,o;e=new Ae.Item({props:{onSelect:i[6],$$slots:{iconLeft:[Om],default:[Dm]},$$scope:{ctx:i}}});let r=i[1]&&na(i);return{c(){y(e.$$.fragment),n=U(),r&&r.c(),t=de()},m(s,c){b(e,s,c),M(s,n,c),r&&r.m(s,c),M(s,t,c),o=!0},p(s,c){const a={};4&c&&(a.onSelect=s[6]),265&c&&(a.$$scope={dirty:c,ctx:s}),e.$set(a),s[1]?r?(r.p(s,c),2&c&&d(r,1)):(r=na(s),r.c(),d(r,1),r.m(t.parentNode,t)):r&&(K(),p(r,1,1,()=>{r=null}),Z())},i(s){o||(d(e.$$.fragment,s),d(r),o=!0)},o(s){p(e.$$.fragment,s),p(r),o=!1},d(s){s&&(w(n),w(t)),x(e,s),r&&r.d(s)}}}function Hm(i){let e,n,t,o;return e=new Ae.Trigger({props:{$$slots:{default:[Pm]},$$scope:{ctx:i}}}),t=new Ae.Content({props:{size:1,side:"bottom",align:"end",$$slots:{default:[jm]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};256&s&&(c.$$scope={dirty:s,ctx:r}),e.$set(c);const a={};271&s&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function Um(i){let e,n,t;function o(s){i[7](s)}let r={nested:!1,$$slots:{default:[Hm]},$$scope:{ctx:i}};return i[2]!==void 0&&(r.requestClose=i[2]),e=new Ae.Root({props:r}),ft.push(()=>Zt(e,"requestClose",o)),{c(){y(e.$$.fragment)},m(s,c){b(e,s,c),t=!0},p(s,[c]){const a={};271&c&&(a.$$scope={dirty:c,ctx:s}),!n&&4&c&&(n=!0,a.requestClose=s[2],tn(()=>n=!1)),e.$set(a)},i(s){t||(d(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function Wm(i,e,n){let t,{agentId:o}=e,{selectedBranch:r}=e,s=()=>{};const c=vt(new Map);function a(){navigator.clipboard.writeText(o),c.update(l=>(l.set(o,"Copied!"),l)),setTimeout(()=>{c.update(l=>(l.delete(o),l))},1e3)}return Ze(i,c,l=>n(3,t=l)),i.$$set=l=>{"agentId"in l&&n(0,o=l.agentId),"selectedBranch"in l&&n(1,r=l.selectedBranch)},[o,r,s,t,c,a,()=>{a(),s()},function(l){s=l,n(2,s)}]}class Ou extends oe{constructor(e){super(),re(this,e,Wm,Um,ne,{agentId:0,selectedBranch:1})}}function oa(i){let e,n,t,o,r;return{c(){e=F("div"),n=X(i[2]),A(e,"class",t="status-label status-label--"+i[0].toString()+" svelte-xrtdeo")},m(s,c){M(s,e,c),H(e,n),r=!0},p(s,c){(!r||4&c)&&Te(n,s[2]),(!r||1&c&&t!==(t="status-label status-label--"+s[0].toString()+" svelte-xrtdeo"))&&A(e,"class",t)},i(s){r||(s&&lo(()=>{r&&(o||(o=bo(e,Vs,{duration:100,axis:"x"},!0)),o.run(1))}),r=!0)},o(s){s&&(o||(o=bo(e,Vs,{duration:100,axis:"x"},!1)),o.run(0)),r=!1},d(s){s&&w(e),s&&o&&o.end()}}}function qm(i){let e,n,t,o,r,s,c,a,l=i[3]&&oa(i);return{c(){e=F("div"),n=F("div"),o=U(),l&&l.c(),A(n,"class",t="status-dot status-dot--"+i[0].toString()+" svelte-xrtdeo"),A(e,"class","status-indicator-container svelte-xrtdeo"),A(e,"role","status"),A(e,"aria-label",r="Agent status: "+i[2]),A(e,"title",s="Status: "+i[2])},m(u,f){M(u,e,f),H(e,n),H(e,o),l&&l.m(e,null),c||(a=[ke(e,"mouseenter",i[5]),ke(e,"mouseleave",i[6])],c=!0)},p(u,[f]){1&f&&t!==(t="status-dot status-dot--"+u[0].toString()+" svelte-xrtdeo")&&A(n,"class",t),u[3]?l?(l.p(u,f),8&f&&d(l,1)):(l=oa(u),l.c(),d(l,1),l.m(e,null)):l&&(K(),p(l,1,1,()=>{l=null}),Z()),4&f&&r!==(r="Agent status: "+u[2])&&A(e,"aria-label",r),4&f&&s!==(s="Status: "+u[2])&&A(e,"title",s)},i(u){d(l)},o(u){p(l)},d(u){u&&w(e),l&&l.d(),c=!1,Nt(a)}}}function Gm(i,e,n){let t,o,{status:r}=e,{isExpanded:s=!1}=e,c=!1;return i.$$set=a=>{"status"in a&&n(0,r=a.status),"isExpanded"in a&&n(4,s=a.isExpanded)},i.$$.update=()=>{18&i.$$.dirty&&n(3,t=s||c),1&i.$$.dirty&&n(2,o=Yd(r))},[r,c,o,t,s,()=>n(1,c=!0),()=>n(1,c=!1)]}class Vm extends oe{constructor(e){super(),re(this,e,Gm,qm,ne,{status:0,isExpanded:4})}}function Ym(i){let e,n,t=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 512 512"},i[0]],o={};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return{c(){e=Fe("svg"),n=new jt(!0),this.h()},l(r){e=Ht(r,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var s=Ut(e);n=Wt(s,!0),s.forEach(w),this.h()},h(){n.a=null,rt(e,o)},m(r,s){qt(r,e,s),n.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M248.4 84.3c1.6-2.7 4.5-4.3 7.6-4.3s6 1.6 7.6 4.3L461.9 410c1.4 2.3 2.1 4.9 2.1 7.5 0 8-6.5 14.5-14.5 14.5h-387c-8 0-14.5-6.5-14.5-14.5 0-2.7.7-5.3 2.1-7.5zm-41-25L9.1 385c-6 9.8-9.1 21-9.1 32.5C0 452 28 480 62.5 480h387c34.5 0 62.5-28 62.5-62.5 0-11.5-3.2-22.7-9.1-32.5L304.6 59.3C294.3 42.4 275.9 32 256 32s-38.3 10.4-48.6 27.3M288 368a32 32 0 1 0-64 0 32 32 0 1 0 64 0m-8-184c0-13.3-10.7-24-24-24s-24 10.7-24 24v96c0 13.3 10.7 24 24 24s24-10.7 24-24z"/>',e)},p(r,[s]){rt(e,o=wt(t,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 512 512"},1&s&&r[0]]))},i:N,o:N,d(r){r&&w(e)}}}function Xm(i,e,n){return i.$$set=t=>{n(0,e=Ee(Ee({},e),et(t)))},[e=et(e)]}class Hi extends oe{constructor(e){super(),re(this,e,Xm,Ym,ne,{})}}function ra(i,e,n){const t=i.slice();return t[55]=e[n],t[57]=n,t}function ia(i,e,n){const t=i.slice();return t[58]=e[n],t}function Km(i){let e;return{c(){e=X("Remote agents")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function sa(i){let e,n,t;return{c(){e=F("div"),n=F("div"),A(n,"class","stale-dot svelte-48rtod"),A(e,"class","stale-indicator svelte-48rtod"),A(e,"title",t="Data may be outdated. Last refreshed "+(i[3]>0?xo(new Date(i[3]).toISOString()):"never"))},m(o,r){M(o,e,r),H(e,n)},p(o,r){8&r[0]&&t!==(t="Data may be outdated. Last refreshed "+(o[3]>0?xo(new Date(o[3]).toISOString()):"never"))&&A(e,"title",t)},d(o){o&&w(e)}}}function aa(i){let e,n,t,o=i[9].idleStatus!==void 0&&ca(i),r=i[9].runningStatus!==void 0&&la(i);return{c(){e=F("div"),o&&o.c(),n=U(),r&&r.c(),A(e,"class","status-summary svelte-48rtod")},m(s,c){M(s,e,c),o&&o.m(e,null),H(e,n),r&&r.m(e,null),t=!0},p(s,c){s[9].idleStatus!==void 0?o?(o.p(s,c),512&c[0]&&d(o,1)):(o=ca(s),o.c(),d(o,1),o.m(e,n)):o&&(K(),p(o,1,1,()=>{o=null}),Z()),s[9].runningStatus!==void 0?r?(r.p(s,c),512&c[0]&&d(r,1)):(r=la(s),r.c(),d(r,1),r.m(e,null)):r&&(K(),p(r,1,1,()=>{r=null}),Z())},i(s){t||(d(o),d(r),t=!0)},o(s){p(o),p(r),t=!1},d(s){s&&w(e),o&&o.d(),r&&r.d()}}}function ca(i){let e,n,t,o,r,s,c;return r=new Oe({props:{size:1,color:"secondary",$$slots:{default:[Zm]},$$scope:{ctx:i}}}),{c(){e=F("div"),n=F("div"),o=U(),y(r.$$.fragment),A(n,"class",t="status-dot status-dot--"+i[9].idleStatus.toString()+" svelte-48rtod"),A(e,"class","status-summary-item svelte-48rtod")},m(a,l){M(a,e,l),H(e,n),H(e,o),b(r,e,null),c=!0},p(a,l){(!c||512&l[0]&&t!==(t="status-dot status-dot--"+a[9].idleStatus.toString()+" svelte-48rtod"))&&A(n,"class",t);const u={};512&l[0]|1073741824&l[1]&&(u.$$scope={dirty:l,ctx:a}),r.$set(u)},i(a){c||(d(r.$$.fragment,a),a&&lo(()=>{c&&(s||(s=bo(e,_o,{y:3},!0)),s.run(1))}),c=!0)},o(a){p(r.$$.fragment,a),a&&(s||(s=bo(e,_o,{y:3},!1)),s.run(0)),c=!1},d(a){a&&w(e),x(r),a&&s&&s.end()}}}function Zm(i){let e,n,t=i[9].idle+"";return{c(){e=X(t),n=X(" more idle")},m(o,r){M(o,e,r),M(o,n,r)},p(o,r){512&r[0]&&t!==(t=o[9].idle+"")&&Te(e,t)},d(o){o&&(w(e),w(n))}}}function la(i){let e,n,t,o,r,s,c;return r=new Oe({props:{size:1,color:"secondary",$$slots:{default:[Qm]},$$scope:{ctx:i}}}),{c(){e=F("div"),n=F("div"),o=U(),y(r.$$.fragment),A(n,"class",t="status-dot status-dot--"+i[9].runningStatus.toString()+" svelte-48rtod"),A(e,"class","status-summary-item svelte-48rtod")},m(a,l){M(a,e,l),H(e,n),H(e,o),b(r,e,null),c=!0},p(a,l){(!c||512&l[0]&&t!==(t="status-dot status-dot--"+a[9].runningStatus.toString()+" svelte-48rtod"))&&A(n,"class",t);const u={};512&l[0]|1073741824&l[1]&&(u.$$scope={dirty:l,ctx:a}),r.$set(u)},i(a){c||(d(r.$$.fragment,a),a&&lo(()=>{c&&(s||(s=bo(e,_o,{y:3},!0)),s.run(1))}),c=!0)},o(a){p(r.$$.fragment,a),a&&(s||(s=bo(e,_o,{y:3},!1)),s.run(0)),c=!1},d(a){a&&w(e),x(r),a&&s&&s.end()}}}function Qm(i){let e,n,t=i[9].running+"";return{c(){e=X(t),n=X(" more running")},m(o,r){M(o,e,r),M(o,n,r)},p(o,r){512&r[0]&&t!==(t=o[9].running+"")&&Te(e,t)},d(o){o&&(w(e),w(n))}}}function Jm(i){let e,n;return e=new wu({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function ua(i){let e,n,t=[],o=new Map,r=ct(i[10]);const s=c=>c[58].remote_agent_id;for(let c=0;c<r.length;c+=1){let a=ia(i,r,c),l=s(a);o.set(l,t[c]=ma(l,a))}return{c(){e=F("div");for(let c=0;c<t.length;c+=1)t[c].c();A(e,"class","agents-list svelte-48rtod"),rn(e,"height",(i[5]?i[16]:i[6])+"px")},m(c,a){M(c,e,a);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null);n=!0},p(c,a){805438724&a[0]&&(r=ct(c[10]),K(),t=Ti(t,a,s,1,c,r,o,e,iu,ma,null,ia),Z()),(!n||65632&a[0])&&rn(e,"height",(c[5]?c[16]:c[6])+"px")},i(c){if(!n){for(let a=0;a<r.length;a+=1)d(t[a]);n=!0}},o(c){for(let a=0;a<t.length;a+=1)p(t[a]);n=!1},d(c){c&&w(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function e1(i){let e,n=i[58].session_summary+"";return{c(){e=X(n)},m(t,o){M(t,e,o)},p(t,o){1024&o[0]&&n!==(n=t[58].session_summary+"")&&Te(e,n)},d(t){t&&w(e)}}}function t1(i){let e,n=xo(i[58].updated_at||i[58].started_at)+"";return{c(){e=X(n)},m(t,o){M(t,e,o)},p(t,o){1024&o[0]&&n!==(n=xo(t[58].updated_at||t[58].started_at)+"")&&Te(e,n)},d(t){t&&w(e)}}}function da(i){let e,n;return e=new Du({props:{agentId:i[58].remote_agent_id}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1024&o[0]&&(r.agentId=t[58].remote_agent_id),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function n1(i){let e,n;return e=new Xr({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function fa(i){let e,n,t,o,r,s,c=(i[58].status===wn.agentRunning||i[58].status===wn.agentStarting)&&da(i);return t=new At({props:{variant:"ghost-block",color:"neutral",size:1,disabled:i[17].has(i[58].remote_agent_id),title:"Delete agent",class:"c-agent-header__delete-btn",$$slots:{default:[n1]},$$scope:{ctx:i}}}),t.$on("click",function(...a){return i[46](i[58],...a)}),r=new Ou({props:{agentId:i[58].remote_agent_id}}),{c(){e=F("div"),c&&c.c(),n=U(),y(t.$$.fragment),o=U(),y(r.$$.fragment),A(e,"class","agent-actions svelte-48rtod")},m(a,l){M(a,e,l),c&&c.m(e,null),H(e,n),b(t,e,null),H(e,o),b(r,e,null),s=!0},p(a,l){(i=a)[58].status===wn.agentRunning||i[58].status===wn.agentStarting?c?(c.p(i,l),1024&l[0]&&d(c,1)):(c=da(i),c.c(),d(c,1),c.m(e,n)):c&&(K(),p(c,1,1,()=>{c=null}),Z());const u={};132096&l[0]&&(u.disabled=i[17].has(i[58].remote_agent_id)),1073741824&l[1]&&(u.$$scope={dirty:l,ctx:i}),t.$set(u);const f={};1024&l[0]&&(f.agentId=i[58].remote_agent_id),r.$set(f)},i(a){s||(d(c),d(t.$$.fragment,a),d(r.$$.fragment,a),s=!0)},o(a){p(c),p(t.$$.fragment,a),p(r.$$.fragment,a),s=!1},d(a){a&&w(e),c&&c.d(),x(t),x(r)}}}function ma(i,e){let n,t,o,r,s,c,a,l,u,f,g,h,k,I,_,T,O,B,z,fe,ye,ie,le=`${e[58].remote_agent_id}-${e[2]}-${e[10].length}`;c=new Vm({props:{status:e[58].status,isExpanded:e[8]>300}}),u=new Oe({props:{size:1,truncate:!0,$$slots:{default:[e1]},$$scope:{ctx:e}}}),k=new Oe({props:{size:1,color:"secondary",$$slots:{default:[t1]},$$scope:{ctx:e}}});let Q=fa(e);function _e(){return e[47](e[58])}function ge(...be){return e[48](e[58],...be)}return{key:i,first:null,c(){n=F("div"),t=F("div"),o=F("div"),r=F("div"),s=F("div"),y(c.$$.fragment),a=U(),l=F("div"),y(u.$$.fragment),g=U(),h=F("div"),y(k.$$.fragment),_=U(),Q.c(),T=U(),A(s,"class","agent-status svelte-48rtod"),A(l,"class","agent-title svelte-48rtod"),A(l,"title",f=e[58].session_summary),A(r,"class","agent-details--left svelte-48rtod"),A(h,"class","agent-time svelte-48rtod"),A(h,"title",I=`${e[58].updated_at?"Updated":"Created"} ${xo(e[58].updated_at||e[58].started_at)}`),A(o,"class","agent-details svelte-48rtod"),A(t,"class","agent-content svelte-48rtod"),A(n,"class",O="agent-row "+(e[2]===e[58].remote_agent_id?"agent-row--active":"")+" svelte-48rtod"),A(n,"role","button"),A(n,"tabindex","0"),this.first=n},m(be,q){M(be,n,q),H(n,t),H(t,o),H(o,r),H(r,s),b(c,s,null),H(r,a),H(r,l),b(u,l,null),H(o,g),H(o,h),b(k,h,null),H(t,_),Q.m(t,null),H(n,T),fe=!0,ye||(ie=[ke(n,"click",_e),ke(n,"keydown",ge)],ye=!0)},p(be,q){e=be;const Pe={};1024&q[0]&&(Pe.status=e[58].status),256&q[0]&&(Pe.isExpanded=e[8]>300),c.$set(Pe);const Se={};1024&q[0]|1073741824&q[1]&&(Se.$$scope={dirty:q,ctx:e}),u.$set(Se),(!fe||1024&q[0]&&f!==(f=e[58].session_summary))&&A(l,"title",f);const Ye={};1024&q[0]|1073741824&q[1]&&(Ye.$$scope={dirty:q,ctx:e}),k.$set(Ye),(!fe||1024&q[0]&&I!==(I=`${e[58].updated_at?"Updated":"Created"} ${xo(e[58].updated_at||e[58].started_at)}`))&&A(h,"title",I),1028&q[0]&&ne(le,le=`${e[58].remote_agent_id}-${e[2]}-${e[10].length}`)?(K(),p(Q,1,1,N),Z(),Q=fa(e),Q.c(),d(Q,1),Q.m(t,null)):Q.p(e,q),(!fe||1028&q[0]&&O!==(O="agent-row "+(e[2]===e[58].remote_agent_id?"agent-row--active":"")+" svelte-48rtod"))&&A(n,"class",O)},i(be){fe||(d(c.$$.fragment,be),d(u.$$.fragment,be),d(k.$$.fragment,be),d(Q),be&&lo(()=>{fe&&(z&&z.end(1),B=Pd(n,_o,{x:-2,duration:100}),B.start())}),fe=!0)},o(be){p(c.$$.fragment,be),p(u.$$.fragment,be),p(k.$$.fragment,be),p(Q),B&&B.invalidate(),be&&(z=Nd(n,_o,{x:-2,duration:100,delay:300})),fe=!1},d(be){be&&w(n),x(c),x(u),x(k),Q.d(be),be&&z&&z.end(),ye=!1,Nt(ie)}}}function o1(i){let e,n,t;return n=new Oe({props:{size:1,color:"secondary",$$slots:{default:[s1]},$$scope:{ctx:i}}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","empty-message svelte-48rtod")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p(o,r){const s={};1073741824&r[1]&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function r1(i){let e,n,t,o;const r=[c1,a1],s=[];function c(a,l){return a[1].length===0?0:1}return e=c(i),n=s[e]=r[e](i),{c(){n.c(),t=de()},m(a,l){s[e].m(a,l),M(a,t,l),o=!0},p(a,l){let u=e;e=c(a),e===u?s[e].p(a,l):(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),n=s[e],n?n.p(a,l):(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t))},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),s[e].d(a)}}}function i1(i){let e,n=[],t=new Map,o=ct(i[15]);const r=s=>s[57];for(let s=0;s<o.length;s+=1){let c=ra(i,o,s),a=r(c);t.set(a,n[s]=pa(a))}return{c(){e=F("div");for(let s=0;s<n.length;s+=1)n[s].c();A(e,"class","loading-state svelte-48rtod")},m(s,c){M(s,e,c);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null)},p(s,c){32768&c[0]&&(o=ct(s[15]),n=Ti(n,c,r,1,s,o,t,e,Wd,pa,null,ra))},i:N,o:N,d(s){s&&w(e);for(let c=0;c<n.length;c+=1)n[c].d()}}}function s1(i){let e;return{c(){e=X("Create a new agent to get started.")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function a1(i){let e,n,t,o,r;return n=new Hi({}),o=new Oe({props:{size:1,color:"error",$$slots:{default:[l1]},$$scope:{ctx:i}}}),{c(){e=F("div"),y(n.$$.fragment),t=U(),y(o.$$.fragment),A(e,"class","error-banner svelte-48rtod")},m(s,c){M(s,e,c),b(n,e,null),H(e,t),b(o,e,null),r=!0},p(s,c){const a={};16&c[0]|1073741824&c[1]&&(a.$$scope={dirty:c,ctx:s}),o.$set(a)},i(s){r||(d(n.$$.fragment,s),d(o.$$.fragment,s),r=!0)},o(s){p(n.$$.fragment,s),p(o.$$.fragment,s),r=!1},d(s){s&&w(e),x(n),x(o)}}}function c1(i){let e,n,t,o,r;return n=new Hi({}),{c(){e=F("div"),y(n.$$.fragment),t=X(`
          Failed to load threads. `),o=X(i[4]),A(e,"class","error-message svelte-48rtod")},m(s,c){M(s,e,c),b(n,e,null),H(e,t),H(e,o),r=!0},p(s,c){(!r||16&c[0])&&Te(o,s[4])},i(s){r||(d(n.$$.fragment,s),r=!0)},o(s){p(n.$$.fragment,s),r=!1},d(s){s&&w(e),x(n)}}}function l1(i){let e;return{c(){e=X(i[4])},m(n,t){M(n,e,t)},p(n,t){16&t[0]&&Te(e,n[4])},d(n){n&&w(e)}}}function pa(i,e){let n;return{key:i,first:null,c(){n=F("div"),n.innerHTML='<div class="agent-content svelte-48rtod"><div class="agent-details svelte-48rtod"><div class="agent-details--left svelte-48rtod"><div class="agent-status svelte-48rtod"><div class="skeleton-dot svelte-48rtod"></div></div> <div class="skeleton-text svelte-48rtod"></div></div></div></div> ',A(n,"class","agent-row skeleton-row svelte-48rtod"),this.first=n},m(t,o){M(t,n,o)},p(t,o){},d(t){t&&w(n)}}}function u1(i){let e,n,t,o,r,s,c,a,l,u,f,g,h,k,I,_,T,O,B,z,fe,ye;lo(i[45]),c=new Oe({props:{size:1,color:"secondary",$$slots:{default:[Km]},$$scope:{ctx:i}}});let ie=i[11]&&!i[13]&&sa(i),le=i[9]&&aa(i);g=new At({props:{variant:"ghost",color:"neutral",size:1,title:"New Agent",$$slots:{default:[Jm]},$$scope:{ctx:i}}}),g.$on("click",i[30]);let Q=!i[14]&&!i[12]&&ua(i);const _e=[i1,r1,o1],ge=[];function be(q,Pe){return q[14]?0:q[13]?1:q[12]?2:-1}return~(I=be(i))&&(_=ge[I]=_e[I](i)),{c(){e=F("div"),n=F("div"),t=F("div"),o=F("div"),r=F("div"),s=F("div"),y(c.$$.fragment),a=U(),ie&&ie.c(),l=U(),u=F("div"),le&&le.c(),f=U(),y(g.$$.fragment),h=U(),Q&&Q.c(),k=U(),_&&_.c(),T=U(),O=F("div"),O.innerHTML='<div class="resize-handle-line svelte-48rtod"></div>',A(s,"class","header-text svelte-48rtod"),A(r,"class","header-left svelte-48rtod"),A(u,"class","header-right svelte-48rtod"),A(o,"class","header svelte-48rtod"),A(t,"class","agents-list-container svelte-48rtod"),A(t,"role","region"),A(t,"aria-label","Remote agents list"),Ne(t,"is-dragging",i[7]),Ne(t,"is-hovered",i[5]),A(O,"class","resize-handle svelte-48rtod"),A(O,"role","separator"),A(O,"title","Drag to resize"),Ne(O,"resize-handle--dragging",i[7]),A(n,"class","remote-agent-threads svelte-48rtod"),lo(()=>i[49].call(n)),A(e,"class","remote-agent-threads-container svelte-48rtod")},m(q,Pe){M(q,e,Pe),H(e,n),H(n,t),H(t,o),H(o,r),H(r,s),b(c,s,null),H(s,a),ie&&ie.m(s,null),H(o,l),H(o,u),le&&le.m(u,null),H(u,f),b(g,u,null),H(t,h),Q&&Q.m(t,null),H(n,k),~I&&ge[I].m(n,null),H(n,T),H(n,O),B=Rd(n,i[49].bind(n)),z=!0,fe||(ye=[ke(window,"mousemove",i[26]),ke(window,"mouseup",i[27]),ke(window,"resize",i[22]),ke(window,"focus",i[31]),ke(window,"blur",i[32]),ke(window,"resize",i[45]),ke(t,"mouseenter",i[23]),ke(t,"mouseleave",i[24]),ke(O,"mousedown",i[25])],fe=!0)},p(q,Pe){const Se={};1073741824&Pe[1]&&(Se.$$scope={dirty:Pe,ctx:q}),c.$set(Se),q[11]&&!q[13]?ie?ie.p(q,Pe):(ie=sa(q),ie.c(),ie.m(s,null)):ie&&(ie.d(1),ie=null),q[9]?le?(le.p(q,Pe),512&Pe[0]&&d(le,1)):(le=aa(q),le.c(),d(le,1),le.m(u,f)):le&&(K(),p(le,1,1,()=>{le=null}),Z());const Ye={};1073741824&Pe[1]&&(Ye.$$scope={dirty:Pe,ctx:q}),g.$set(Ye),q[14]||q[12]?Q&&(K(),p(Q,1,1,()=>{Q=null}),Z()):Q?(Q.p(q,Pe),20480&Pe[0]&&d(Q,1)):(Q=ua(q),Q.c(),d(Q,1),Q.m(t,null)),(!z||128&Pe[0])&&Ne(t,"is-dragging",q[7]),(!z||32&Pe[0])&&Ne(t,"is-hovered",q[5]);let Xe=I;I=be(q),I===Xe?~I&&ge[I].p(q,Pe):(_&&(K(),p(ge[Xe],1,1,()=>{ge[Xe]=null}),Z()),~I?(_=ge[I],_?_.p(q,Pe):(_=ge[I]=_e[I](q),_.c()),d(_,1),_.m(n,T)):_=null),(!z||128&Pe[0])&&Ne(O,"resize-handle--dragging",q[7])},i(q){z||(d(c.$$.fragment,q),d(le),d(g.$$.fragment,q),d(Q),d(_),z=!0)},o(q){p(c.$$.fragment,q),p(le),p(g.$$.fragment,q),p(Q),p(_),z=!1},d(q){q&&w(e),x(c),ie&&ie.d(),le&&le.d(),x(g),Q&&Q.d(),~I&&ge[I].d(),B(),fe=!1,Nt(ye)}}}const zo=25;function d1(i,e,n){let t,o,r,s,c,a,l,u,f,g,h,k,I,_,T,O,B,z,fe,ye,ie,le,Q,_e,ge,be;const q=qe(uo.key);Ze(i,q,S=>n(44,ge=S));const Pe=vt(!1);Ze(i,Pe,S=>n(5,Q=S));const Se=vt(new Set);Ze(i,Se,S=>n(17,be=S));let Ye,Xe,Ge=!1,bt=vt(zo);Ze(i,bt,S=>n(6,_e=S));let Ce=0,Qe=0,Lt=!1;const $t=()=>{if(Ce>0&&!Ge&&!Lt){const S=Math.min(Ce>700?100:Ce>600?75:50,l,u);bt.set(S)}else Ho(bt,_e=Math.min(_e,l,Math.floor(Ce-250)),_e)},Vt=lu.debounce($t,100);async function P(S){Se.update(j=>{const V=new Set(j);return V.add(S),V});try{await q.deleteAgent(S),n(1,o=o.filter(j=>j.remote_agent_id!==S))}finally{Se.update(j=>{const V=new Set(j);return V.delete(S),V})}}function C(S){q.setCurrentAgent(S)}return i.$$.update=()=>{8192&i.$$.dirty[1]&&n(2,t=ge.currentAgentId),8192&i.$$.dirty[1]&&n(1,o=ge.agentOverviews||[]),8192&i.$$.dirty[1]&&n(4,r=ge.agentThreadsError),8192&i.$$.dirty[1]&&n(41,s=ge.isLoading),8192&i.$$.dirty[1]&&n(40,c=ge.hasFetchedOnce),8192&i.$$.dirty[1]&&n(3,a=ge.lastSuccessfulOverviewFetch),2&i.$$.dirty[0]&&n(43,l=o.length*zo),65&i.$$.dirty[0]|4096&i.$$.dirty[1]&&n(16,u=Math.max(_e,Math.min(l,Math.floor(Ce-250)))),1&i.$$.dirty[0]|4&i.$$.dirty[1]&&Ce>0&&!Lt&&$t(),2&i.$$.dirty[0]&&n(42,f=o.length),2048&i.$$.dirty[1]&&$t(),1536&i.$$.dirty[1]&&n(14,h=s&&!c),16&i.$$.dirty[0]|512&i.$$.dirty[1]&&n(13,k=!!r&&c),2&i.$$.dirty[0]|512&i.$$.dirty[1]&&n(12,I=o.length===0&&c),8&i.$$.dirty[0]&&n(39,_=a>0?Date.now()-a:0),256&i.$$.dirty[1]&&n(11,T=_>12e4),6&i.$$.dirty[0]&&n(36,O=(()=>{if(!t)return o;const S=o.find(V=>V.remote_agent_id===t),j=o.filter(V=>V.remote_agent_id!==t);return S?[S,...j]:o})()),64&i.$$.dirty[0]&&n(38,B=_e>1?Math.round(Math.max(0,_e)/zo):0),160&i.$$.dirty[1]&&n(37,z=Math.min(B,O.length)),32&i.$$.dirty[0]|96&i.$$.dirty[1]&&n(35,fe=Q?O.length:z),48&i.$$.dirty[1]&&n(10,ye=O.slice(0,fe)),48&i.$$.dirty[1]&&n(34,ie=O.slice(fe)),8&i.$$.dirty[1]&&n(9,le=(S=>{const j=S.filter(se=>se.status===wn.agentIdle),V=S.filter(se=>se.status===wn.agentRunning);return{idle:j.length,running:V.length,idleStatus:j.length>0?wn.agentIdle:void 0,runningStatus:V.length>0?wn.agentRunning:void 0}})(ie))},n(15,g=Array(3).fill(null)),[Ce,o,t,a,r,Q,_e,Ge,Qe,le,ye,T,I,k,h,g,u,be,q,Pe,Se,bt,Vt,function(){Pe.set(!0)},function(S){const j=S.relatedTarget;j&&(j.closest(".l-dropdown-menu-augment__contents")||j.closest(".dropdown-container")||document.querySelector(".l-dropdown-menu-augment__contents.is-open"))||Pe.set(!1)},function(S){n(7,Ge=!0),Ye=S.clientY,Xe=_e,S.preventDefault()},function(S){if(!Ge)return;const j=S.clientY-Ye,V=Xe+j,se=Math.round(V/zo)*zo;Ho(bt,_e=Math.max(25,Math.min(u,se)),_e)},function(){Ge&&n(33,Lt=!0),n(7,Ge=!1)},P,C,function(){q.setCurrentAgent(void 0)},function(){q.setIsPanelFocused(!0)},function(){q.setIsPanelFocused(!1)},Lt,ie,fe,O,z,B,_,c,s,f,l,ge,function(){n(0,Ce=window.innerHeight)},(S,j)=>{j.stopPropagation(),P(S.remote_agent_id)},S=>C(S.remote_agent_id),(S,j)=>j.key==="Enter"&&C(S.remote_agent_id),function(){Qe=this.clientWidth,n(8,Qe)}]}class f1 extends oe{constructor(e){super(),re(this,e,d1,u1,ne,{},null,[-1,-1])}}const m1=i=>({}),$a=i=>({slot:"icon"}),p1=i=>({}),ha=i=>({slot:"icon"});function $1(i){let e,n;return e=new bn({props:{variant:"soft",size:1,color:i[0],$$slots:{icon:[w1],default:[v1]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o&&(r.color=t[0]),74&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function h1(i){let e,n,t,o;return e=new bn({props:{variant:"soft",size:1,color:i[0],$$slots:{default:[y1]},$$scope:{ctx:i}}}),t=new bn({props:{variant:"soft",size:1,color:"info",$$slots:{icon:[x1],default:[b1]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};1&s&&(c.color=r[0]),66&s&&(c.$$scope={dirty:s,ctx:r}),e.$set(c);const a={};68&s&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function ga(i){let e,n;return e=new At({props:{variant:"ghost",color:"neutral",size:1,$$slots:{default:[g1]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};64&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function g1(i){let e,n;return e=new Xo({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function v1(i){let e,n,t,o;n=new ko({props:{markdown:i[1]}});let r=!!i[3]&&ga(i);return{c(){e=F("div"),y(n.$$.fragment),t=U(),r&&r.c(),A(e,"class","c-callout-wrapper svelte-fh6sa8")},m(s,c){M(s,e,c),b(n,e,null),H(e,t),r&&r.m(e,null),o=!0},p(s,c){const a={};2&c&&(a.markdown=s[1]),n.$set(a),s[3]?r?(r.p(s,c),8&c&&d(r,1)):(r=ga(s),r.c(),d(r,1),r.m(e,null)):r&&(K(),p(r,1,1,()=>{r=null}),Z())},i(s){o||(d(n.$$.fragment,s),d(r),o=!0)},o(s){p(n.$$.fragment,s),p(r),o=!1},d(s){s&&w(e),x(n),r&&r.d()}}}function w1(i){let e;const n=i[4].icon,t=ze(n,i,i[6],$a);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||64&r)&&je(t,n,o,o[6],e?Ue(n,o[6],r,m1):He(o[6]),$a)},i(o){e||(d(t,o),e=!0)},o(o){p(t,o),e=!1},d(o){t&&t.d(o)}}}function y1(i){let e,n;return e=new ko({props:{markdown:i[1]}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};2&o&&(r.markdown=t[1]),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function b1(i){let e,n;return e=new ko({props:{markdown:i[2]}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4&o&&(r.markdown=t[2]),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function x1(i){let e;const n=i[4].icon,t=ze(n,i,i[6],ha);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||64&r)&&je(t,n,o,o[6],e?Ue(n,o[6],r,p1):He(o[6]),ha)},i(o){e||(d(t,o),e=!0)},o(o){p(t,o),e=!1},d(o){t&&t.d(o)}}}function _1(i){let e,n,t,o,r;const s=[h1,$1],c=[];function a(f,g){return f[2]?0:1}n=a(i),t=c[n]=s[n](i);const l=i[4].default,u=ze(l,i,i[6],null);return{c(){e=F("div"),t.c(),o=U(),u&&u.c(),A(e,"class","c-base-card svelte-fh6sa8")},m(f,g){M(f,e,g),c[n].m(e,null),H(e,o),u&&u.m(e,null),r=!0},p(f,[g]){let h=n;n=a(f),n===h?c[n].p(f,g):(K(),p(c[h],1,1,()=>{c[h]=null}),Z(),t=c[n],t?t.p(f,g):(t=c[n]=s[n](f),t.c()),d(t,1),t.m(e,o)),u&&u.p&&(!r||64&g)&&je(u,l,f,f[6],r?Ue(l,f[6],g,null):He(f[6]),null)},i(f){r||(d(t),d(u,f),r=!0)},o(f){p(t),p(u,f),r=!1},d(f){f&&w(e),c[n].d(),u&&u.d(f)}}}function C1(i,e,n){let{$$slots:t={},$$scope:o}=e,{color:r}=e,{description:s}=e,{callout:c}=e,{onClose:a}=e;return i.$$set=l=>{"color"in l&&n(0,r=l.color),"description"in l&&n(1,s=l.description),"callout"in l&&n(2,c=l.callout),"onClose"in l&&n(3,a=l.onClose),"$$scope"in l&&n(6,o=l.$$scope)},[r,s,c,a,t,()=>a(),o]}let Kr=class extends oe{constructor(i){super(),re(this,i,C1,_1,ne,{color:0,description:1,callout:2,onClose:3})}};function M1(i){let e;return{c(){e=F("div"),e.innerHTML='<div class="c-progress-bar__bar svelte-dg8hvh"></div>',A(e,"class","c-progress-bar svelte-dg8hvh")},m(n,t){M(n,e,t)},p:N,i:N,o:N,d(n){n&&w(e)}}}class Bu extends oe{constructor(e){super(),re(this,e,null,M1,ne,{})}}function va(i,e,n){const t=i.slice();return t[9]=e[n].text,t[10]=e[n].action,t[11]=e[n].appearance,t}const A1=i=>({}),wa=i=>({slot:"icon"});function k1(i){let e,n,t=i[9]+"";return{c(){e=X(t),n=U()},m(o,r){M(o,e,r),M(o,n,r)},p(o,r){4&r&&t!==(t=o[9]+"")&&Te(e,t)},d(o){o&&(w(e),w(n))}}}function ya(i){let e,n;return e=new pt({props:{size:2,variant:"solid",color:i[11]?i[11]:"accent",class:"c-btns-card__button",title:i[9],$$slots:{default:[k1]},$$scope:{ctx:i}}}),e.$on("click",function(){return i[7](i[10])}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){i=t;const r={};4&o&&(r.color=i[11]?i[11]:"accent"),4&o&&(r.title=i[9]),260&o&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function ba(i){let e,n;return e=new Bu({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function E1(i){let e,n,t,o,r=ct(i[2]),s=[];for(let l=0;l<r.length;l+=1)s[l]=ya(va(i,r,l));const c=l=>p(s[l],1,1,()=>{s[l]=null});let a=i[3]&&ba();return{c(){e=F("div");for(let l=0;l<s.length;l+=1)s[l].c();n=U(),a&&a.c(),t=de(),A(e,"class","c-btns-card__buttons svelte-1701q2d")},m(l,u){M(l,e,u);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);M(l,n,u),a&&a.m(l,u),M(l,t,u),o=!0},p(l,u){if(36&u){let f;for(r=ct(l[2]),f=0;f<r.length;f+=1){const g=va(l,r,f);s[f]?(s[f].p(g,u),d(s[f],1)):(s[f]=ya(g),s[f].c(),d(s[f],1),s[f].m(e,null))}for(K(),f=r.length;f<s.length;f+=1)c(f);Z()}l[3]?a?8&u&&d(a,1):(a=ba(),a.c(),d(a,1),a.m(t.parentNode,t)):a&&(K(),p(a,1,1,()=>{a=null}),Z())},i(l){if(!o){for(let u=0;u<r.length;u+=1)d(s[u]);d(a),o=!0}},o(l){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)p(s[u]);p(a),o=!1},d(l){l&&(w(e),w(n),w(t)),cn(s,l),a&&a.d(l)}}}function I1(i){let e;const n=i[6].icon,t=ze(n,i,i[8],wa);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||256&r)&&je(t,n,o,o[8],e?Ue(n,o[8],r,A1):He(o[8]),wa)},i(o){e||(d(t,o),e=!0)},o(o){p(t,o),e=!1},d(o){t&&t.d(o)}}}function T1(i){let e,n;return e=new Kr({props:{color:i[1],description:i[0],callout:i[4],$$slots:{icon:[I1],default:[E1]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,[o]){const r={};2&o&&(r.color=t[1]),1&o&&(r.description=t[0]),16&o&&(r.callout=t[4]),268&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function L1(i,e,n){let{$$slots:t={},$$scope:o}=e,{description:r}=e,{color:s}=e,{buttons:c=[]}=e,{inProgress:a=!1}=e,{callout:l}=e;function u(f){an.postMessage({type:dt.mainPanelPerformAction,data:f})}return i.$$set=f=>{"description"in f&&n(0,r=f.description),"color"in f&&n(1,s=f.color),"buttons"in f&&n(2,c=f.buttons),"inProgress"in f&&n(3,a=f.inProgress),"callout"in f&&n(4,l=f.callout),"$$scope"in f&&n(8,o=f.$$scope)},[r,s,c,a,l,u,t,f=>u(f),o]}let Zo=class extends oe{constructor(i){super(),re(this,i,L1,T1,ne,{description:0,color:1,buttons:2,inProgress:3,callout:4})}};function S1(i){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),A(n,"fill-rule","evenodd"),A(n,"clip-rule","evenodd"),A(n,"d","M7.49991 0.876892C3.84222 0.876892 0.877075 3.84204 0.877075 7.49972C0.877075 11.1574 3.84222 14.1226 7.49991 14.1226C11.1576 14.1226 14.1227 11.1574 14.1227 7.49972C14.1227 3.84204 11.1576 0.876892 7.49991 0.876892ZM1.82707 7.49972C1.82707 4.36671 4.36689 1.82689 7.49991 1.82689C10.6329 1.82689 13.1727 4.36671 13.1727 7.49972C13.1727 10.6327 10.6329 13.1726 7.49991 13.1726C4.36689 13.1726 1.82707 10.6327 1.82707 7.49972ZM8.24992 4.49999C8.24992 4.9142 7.91413 5.24999 7.49992 5.24999C7.08571 5.24999 6.74992 4.9142 6.74992 4.49999C6.74992 4.08577 7.08571 3.74999 7.49992 3.74999C7.91413 3.74999 8.24992 4.08577 8.24992 4.49999ZM6.00003 5.99999H6.50003H7.50003C7.77618 5.99999 8.00003 6.22384 8.00003 6.49999V9.99999H8.50003H9.00003V11H8.50003H7.50003H6.50003H6.00003V9.99999H6.50003H7.00003V6.99999H6.50003H6.00003V5.99999Z"),A(n,"fill","currentColor"),A(e,"width","15"),A(e,"height","15"),A(e,"viewBox","0 0 15 15"),A(e,"fill","none"),A(e,"xmlns","http://www.w3.org/2000/svg")},m(t,o){M(t,e,o),H(e,n)},p:N,i:N,o:N,d(t){t&&w(e)}}}class po extends oe{constructor(e){super(),re(this,e,null,S1,ne,{})}}function R1(i){return{c:N,m:N,p:N,i:N,o:N,d:N}}function P1(i){let e,n;return e=new Kr({props:{color:"warning",description:"Current workspace contains your home directory. Augment cannot upload your home directory to the cloud. Please open a different workspace",$$slots:{icon:[j1]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};8&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function N1(i){let e,n;return e=new Kr({props:{color:"warning",description:`The workspace you have opened exceeds Augment's ${i[1].maxTrackableFileCount} file upload limit. Please use a .augmentignore or .gitignore to exclude files from being uploaded, or open a smaller workspace.`,$$slots:{icon:[H1]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};2&o&&(r.description=`The workspace you have opened exceeds Augment's ${t[1].maxTrackableFileCount} file upload limit. Please use a .augmentignore or .gitignore to exclude files from being uploaded, or open a smaller workspace.`),8&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function F1(i){let e,n;return e=new Zo({props:{color:"neutral",description:"To provide the best quality responses, Augment will index your code in our secure cloud. Your data always stays secure and private. [Learn More](https://docs.augmentcode.com/setup-augment/workspace-indexing)",callout:i[2].userTier==="community"?"You are subscribed to the Community plan, we may use any code you share to train our AI models.":void 0,buttons:[{text:"Enable Indexing",action:"grant-sync-permission"}],$$slots:{icon:[U1]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4&o&&(r.callout=t[2].userTier==="community"?"You are subscribed to the Community plan, we may use any code you share to train our AI models.":void 0),8&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function D1(i){let e,n;return e=new Zo({props:{color:"warning",description:"Codeium suggestions will collide with Augment's suggestions. Turn off Codeium to fix this.",buttons:[{text:"Disable Codeium",action:"disable-codeium"}],$$slots:{icon:[W1]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};8&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function O1(i){let e,n;return e=new Zo({props:{color:"warning",description:"GitHub Copilot suggestions will collide with Augment's suggestions. Turn off Copilot to fix this.",buttons:[{text:"Disable Github Copilot",action:"disable-github-copilot"}],$$slots:{icon:[q1]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};8&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function B1(i){let e,n;return e=new Zo({props:{color:"neutral",description:"Please complete the sign-in process in your browser.",buttons:[{text:"Cancel",action:"cancel-sign-in",appearance:"neutral"}],inProgress:!0,$$slots:{icon:[G1]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};8&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function z1(i){let e,n;return e=new Zo({props:{color:"neutral",description:"Welcome to Augment! Sign in to your existing account or create a new one to get started.",buttons:[{text:"Start using Augment",action:"sign-in"}],$$slots:{icon:[V1]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};8&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function j1(i){let e,n;return e=new ln({props:{slot:"icon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function H1(i){let e,n;return e=new ln({props:{slot:"icon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function U1(i){let e,n;return e=new po({props:{slot:"icon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function W1(i){let e,n;return e=new ln({props:{slot:"icon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function q1(i){let e,n;return e=new ln({props:{slot:"icon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function G1(i){let e,n;return e=new po({props:{slot:"icon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function V1(i){let e,n;return e=new po({props:{slot:"icon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Y1(i){let e,n,t,o;const r=[z1,B1,O1,D1,F1,N1,P1,R1],s=[];function c(a,l){return a[0]===Mt.signInRequired?0:a[0]===ji.signInInProgress?1:a[0]===Mt.disableCopilot?2:a[0]===Mt.disableCodeium?3:a[0]===Mt.syncingPermissionNeeded?4:a[0]===Mt.workspaceTooLarge?5:a[0]===Mt.uploadingHomeDir?6:a[0]===Mt.allActionsComplete?7:-1}return~(e=c(i))&&(n=s[e]=r[e](i)),{c(){n&&n.c(),t=de()},m(a,l){~e&&s[e].m(a,l),M(a,t,l),o=!0},p(a,[l]){let u=e;e=c(a),e===u?~e&&s[e].p(a,l):(n&&(K(),p(s[u],1,1,()=>{s[u]=null}),Z()),~e?(n=s[e],n?n.p(a,l):(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t)):n=null)},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),~e&&s[e].d(a)}}}function X1(i,e,n){let t,o=N,r=()=>(o(),o=it(c,a=>n(2,t=a)),c);i.$$.on_destroy.push(()=>o());let{card:s}=e,{flagsModel:c}=e;return r(),i.$$set=a=>{"card"in a&&n(0,s=a.card),"flagsModel"in a&&r(n(1,c=a.flagsModel))},[s,c,t]}let K1=class extends oe{constructor(i){super(),re(this,i,X1,Y1,ne,{card:0,flagsModel:1})}};var Z1=Lf,Q1=/\s/,J1=function(i){for(var e=i.length;e--&&Q1.test(i.charAt(e)););return e},ep=/^\s+/,tp=Sf,np=Rf,op=function(i){return i&&i.slice(0,J1(i)+1).replace(ep,"")},xa=Di,rp=function(i){return typeof i=="symbol"||np(i)&&tp(i)=="[object Symbol]"},ip=/^[-+]0x[0-9a-f]+$/i,sp=/^0b[01]+$/i,ap=/^0o[0-7]+$/i,cp=parseInt,lp=Di,vi=function(){return Z1.Date.now()},_a=function(i){if(typeof i=="number")return i;if(rp(i))return NaN;if(xa(i)){var e=typeof i.valueOf=="function"?i.valueOf():i;i=xa(e)?e+"":e}if(typeof i!="string")return i===0?i:+i;i=op(i);var n=sp.test(i);return n||ap.test(i)?cp(i.slice(2),n?2:8):ip.test(i)?NaN:+i},up=Math.max,dp=Math.min,fp=function(i,e,n){var t,o,r,s,c,a,l=0,u=!1,f=!1,g=!0;if(typeof i!="function")throw new TypeError("Expected a function");function h(O){var B=t,z=o;return t=o=void 0,l=O,s=i.apply(z,B)}function k(O){var B=O-a;return a===void 0||B>=e||B<0||f&&O-l>=r}function I(){var O=vi();if(k(O))return _(O);c=setTimeout(I,function(B){var z=e-(B-a);return f?dp(z,r-(B-l)):z}(O))}function _(O){return c=void 0,g&&t?h(O):(t=o=void 0,s)}function T(){var O=vi(),B=k(O);if(t=arguments,o=this,a=O,B){if(c===void 0)return function(z){return l=z,c=setTimeout(I,e),u?h(z):s}(a);if(f)return clearTimeout(c),c=setTimeout(I,e),h(a)}return c===void 0&&(c=setTimeout(I,e)),s}return e=_a(e)||0,lp(n)&&(u=!!n.leading,r=(f="maxWait"in n)?up(_a(n.maxWait)||0,e):r,g="trailing"in n?!!n.trailing:g),T.cancel=function(){c!==void 0&&clearTimeout(c),l=0,t=a=o=c=void 0},T.flush=function(){return c===void 0?s:_(vi())},T},mp=fp,pp=Di,$p=function(i,e,n){var t=!0,o=!0;if(typeof i!="function")throw new TypeError("Expected a function");return pp(n)&&(t="leading"in n?!!n.leading:t,o="trailing"in n?!!n.trailing:o),mp(i,e,{leading:t,maxWait:e,trailing:o})};const zu=Fd($p);class hp{constructor(e,n,t){te(this,"_agenticExchangeStatus",vt(Ir.notRunning));te(this,"_isCurrConversationAgentic",vt(!1));te(this,"_isAutoModeApproved",vt(!1));te(this,"_showAutoModeWarning");te(this,"_hasEverUsedAgent",vt(void 0));te(this,"_classifiedMemoriesMap",new Map);te(this,"_disposers",[]);te(this,"isAgenticTurnComplete",en(this._agenticExchangeStatus,e=>e===Ir.notRunning));te(this,"_lastConversation",vt({chat:void 0,agent:void 0}));te(this,"_shouldCreateNewConversation",()=>{const e=this._chatModel.currentConversationModel;return!vn.isEmpty(e)});te(this,"setToAgentic",async()=>{if(Tt(this._chatModel.currentConversationModel))return;const e=this._shouldCreateNewConversation(),n=ot(this._lastConversation).agent;let t;if(this._lastConversation.update(()=>({chat:this._chatModel.currentConversationModel.id,agent:void 0})),e||!n){const r=await this._create();r.extraData={isAgentConversation:!0},this._chatModel.deleteInvalidConversations("agent"),this._chatModel.currentConversationModel.setConversation(r),t=r.id}else this._chatModel.setCurrentConversation(n),t=n;this._chatModel.extensionClient.reportAgentSessionEvent({eventName:Rr.openedAgentConversation,conversationId:t});const o=this._chatModel.currentConversationModel.subscribe(async r=>{await this._maybeTriggerWelcomeMessage(r.id)&&o()})});te(this,"setToChat",()=>{if(!Tt(this._chatModel.currentConversationModel))return;const e=this._shouldCreateNewConversation(),n=ot(this._lastConversation).chat;if(this._lastConversation.update(()=>({chat:void 0,agent:this._chatModel.currentConversationModel.id})),e||!n){const t={...vn.create(),extraData:{isAgentConversation:!1}};this._chatModel.deleteInvalidConversations("chat"),this._chatModel.currentConversationModel.setConversation(t)}else this._chatModel.setCurrentConversation(n)});te(this,"_maybeTriggerWelcomeMessage",async e=>{var o;const n=this._chatModel.currentConversationModel;if(n.id!==e)return!1;if(await this.refreshHasEverUsedAgent(),!vn.isEmpty(n)||vn.isNamed(n)||((o=n.extraData)==null?void 0:o.hasAgentOnboarded)||ot(this._hasEverUsedAgent)||(this.setHasEverUsedAgent(!0),n.setName("Welcome to the Augment Agent"),n.extraData={isAgentConversation:!0,hasAgentOnboarded:!0},!su()))return!0;const t=await this._chatModel.extensionClient.getAgentOnboardingPrompt();return await n.sendExchange({chatItemType:Ln.agentOnboarding,request_message:t,status:kt.draft}),!0});te(this,"markDirty",()=>{const e=this._chatModel.currentConversationModel;e.extraData={...e.extraData,hasDirtyEdits:!0}});te(this,"markClean",()=>{const e=this._chatModel.currentConversationModel;e.extraData={...e.extraData,hasDirtyEdits:!1}});te(this,"_findAgentic",()=>this._chatModel.orderedConversations().find(Tt));te(this,"_findChat",()=>this._chatModel.orderedConversations().find(e=>!Tt(e)));te(this,"_create",async()=>({...vn.create({personaType:await this._chatModel.currentConversationModel.decidePersonaType()}),extraData:{isAgentConversation:!0,baselineTimestamp:0}}));te(this,"updateBaselineTimestamp",e=>{const n=Math.min(e,Date.now()),t=this._chatModel.currentConversationModel;Tt(t)&&(t.extraData={...t.extraData,baselineTimestamp:n})});te(this,"getBaselineTimestamp",()=>{const e=this._chatModel.currentConversationModel;return Tt(e)?e.extraData.baselineTimestamp??0:0});te(this,"getConversationId",()=>this._chatModel.currentConversationModel.id);te(this,"interruptAgent",async()=>{await this._toolsModel.interruptAllTools(),await this._chatModel.currentConversationModel.cancelMessage();const e=this._chatModel.currentConversationModel.lastExchange;e!=null&&e.request_id&&this._classifiedMemoriesMap.delete(e.request_id)});te(this,"_resetStateToDefaultValues",()=>{this.setHasEverUsedAgent(!1),this._chatModel.extensionClient.setAgentAutoModeApproved(!1),this._isAutoModeApproved.set(!1),this._chatModel.agentExecutionMode.set(An.manual)});te(this,"acceptAutoMode",()=>{this._chatModel.extensionClient.setAgentAutoModeApproved(!0),this._isAutoModeApproved.set(!0),this._chatModel.agentExecutionMode.set(An.auto)});te(this,"refreshAutoModeAcceptance",async()=>{const e=await this._chatModel.extensionClient.checkAgentAutoModeApproval();this._isAutoModeApproved.set(e)});te(this,"rejectAutoMode",()=>{this._chatModel.extensionClient.setAgentAutoModeApproved(!1),this._isAutoModeApproved.set(!1),this._chatModel.agentExecutionMode.set(An.manual)});te(this,"setHasEverUsedAgent",e=>{this._chatModel.extensionClient.setHasEverUsedAgent(e),this._hasEverUsedAgent.set(e)});te(this,"refreshHasEverUsedAgent",async()=>{if(ot(this.hasEverUsedAgent)!==void 0)return;const e=await this._chatModel.extensionClient.checkHasEverUsedAgent();ot(this.hasEverUsedAgent)===void 0&&this._hasEverUsedAgent.set(e)});var s;this._chatModel=e,this._toolsModel=n,this._checkpointStore=t,this._checkpointStore.registerAgentConversationModel(this);const o=Object.values(this._chatModel.conversations).some(c=>{var a;return(a=c.extraData)==null?void 0:a.isAgentConversation}),r=((s=this._chatModel.currentConversationModel.extraData)==null?void 0:s.isAgentConversation)===!0;(o||r)&&this.setHasEverUsedAgent(!0),this.refreshAutoModeAcceptance(),this.refreshHasEverUsedAgent(),this._showAutoModeWarning=en([this._isAutoModeApproved,this._chatModel.agentExecutionMode,this._isCurrConversationAgentic],([c,a,l])=>!c&&a===An.auto&&l),this._disposers.push(this._chatModel.currentConversationModel.subscribe(()=>{const c=this._chatModel.currentConversationModel,a=Tt(c);this._isCurrConversationAgentic.set(a)})),this._disposers.push(this._chatModel.currentConversationModel.subscribe(zu(()=>{const c=Xd(this._chatModel.currentConversationModel);this._agenticExchangeStatus.set(c)},1e3,{leading:!0,trailing:!0}))),this._disposers.push(this._isCurrConversationAgentic.subscribe(c=>{c?(this._chatModel.extensionClient.setChatMode(Us.agent),this._chatModel.specialContextInputModel.enableAgentMemories()):(this._chatModel.extensionClient.setChatMode(Us.chat),this._chatModel.specialContextInputModel.disableAgentMemories()),this._agenticExchangeStatus.set(Ir.notRunning)})),this._disposers.push(this._chatModel.currentConversationModel.onBeforeChangeConversation((c,a)=>{var l;if(Tt(c))return vn.isEmpty(a)&&((l=a.extraData)==null?void 0:l.isAgentConversation)!==!1&&this._chatModel.conversations[a.id]===void 0&&(a={...a,extraData:{...a.extraData,isAgentConversation:!0}}),a})),this._disposers.push(this._chatModel.currentConversationModel.subscribe(c=>{const a=c.lastExchange,l=this._chatModel.flags.memoryClassificationOnFirstToken;a&&a.request_id&&l&&(a.status===kt.sent&&a.response_text&&a.response_text.length>0&&!this._classifiedMemoriesMap.has(a.request_id)&&(this._classifiedMemoriesMap.set(a.request_id,!0),Gs(c,a)),!a.request_id||a.status!==kt.success&&a.status!==kt.failed&&a.status!==kt.cancelled||this._classifiedMemoriesMap.delete(a.request_id))})),this._disposers.push(this._chatModel.currentConversationModel.onSendExchange(c=>{this._chatModel.flags.memoryClassificationOnFirstToken||Gs(this._chatModel.currentConversationModel,c)})),this._disposers.push(this._chatModel.currentConversationModel.onNewConversation(()=>{const c=this._chatModel.currentConversationModel.id;this._chatModel.extensionClient.setCurrentConversation(c),Tt(this._chatModel.currentConversationModel)&&!this._chatModel.currentConversationModel.chatHistory.some(uu)&&this._checkpointStore.maybeCreateOriginalCheckpoint()})),this._chatModel.extensionClient.setCurrentConversation(this._chatModel.currentConversationModel.id),this._disposers.push(this.isAgenticTurnComplete.subscribe(c=>{var f,g;if(!c||!Tt(this._chatModel.currentConversationModel))return;const a=this._chatModel.currentConversationModel,l=Kd(a);if(!l)return;const u=Gd.create();u.setFlag(Vn.start);try{const h=(f=Zd(a))==null?void 0:f.request_id;h&&u.setRequestId(Vn.lastUserExchangeRequestId,h);const{memoriesRequestId:k,memory:I}=l;if(u.setRequestId(Vn.memoriesRequestId,k),!I)return void u.setFlag(Vn.emptyMemory);if(Qd(a))return void u.setFlag(Vn.agenticTurnHasRememberToolCall);if(this._chatModel.extensionClient.callTool(((g=a.lastExchange)==null?void 0:g.request_id)??"","remember","remember",{memory:I,caller:Ws.classify_and_distill,isComplexNewMemory:!1,memoriesRequestId:k},a.chatHistory.filter(_=>Pr(_)).map(bi),a.id),h){const _=Jd(a,h);u.setFlag(Vn.removeUserExchangeMemoryFailed,!_)}}catch{u.setFlag(Vn.exceptionThrown)}finally{u.setFlag(Vn.end),this._chatModel.extensionClient.reportAgentSessionEvent({eventName:Rr.flushMemories,conversationId:this._chatModel.currentConversationModel.id,eventData:{flushMemoriesData:u}})}})),this._disposers.push(this.isAgenticTurnComplete.subscribe(async c=>{if(c){const a=ot(this._checkpointStore.currentCheckpoint),l=ot(this._chatModel.currentConversationModel).id;await this._chatModel.extensionClient.hasChangesSince((a==null?void 0:a.fromTimestamp)??this.getBaselineTimestamp())&&l===ot(this._chatModel.currentConversationModel).id&&this._checkpointStore.createNewCheckpoint()}})),this._disposers.push(this._checkpointStore.targetCheckpointSummary.subscribe(()=>{ot(this._checkpointStore.targetCheckpointHasChanges)?this.markDirty():this.markClean()}))}get isCurrConversationAgentic(){return this._isCurrConversationAgentic}get agentExchangeStatus(){return this._agenticExchangeStatus}async distillMemory(e){const n=this._chatModel.currentConversationModel.chatHistory.find(o=>ef(o)&&o.request_id===e);if(!(n!=null&&n.request_message))return;const{responseText:t}=await this._chatModel.currentConversationModel.sendSilentExchange({request_message:n.request_message,disableRetrieval:!0,disableHistory:!1,disableSelectedCodeDetails:!0,memoriesInfo:{isDistill:!0}});try{const o=JSON.parse(t);o.content&&await this._chatModel.extensionClient.callTool(e,"remember","remember",{memory:o.content,caller:Ws.classify_and_distill,isComplexNewMemory:!1},this._chatModel.currentConversationModel.chatHistory.filter(Pr).map(bi),this._chatModel.currentConversationModel.id)}catch(o){console.warn("Failed to parse JSON from distill memory response",o)}}async resetOnboarding(){this._resetStateToDefaultValues();const e=this._chatModel.currentConversationModel;Tt(e)&&(e.extraData={...e.extraData,hasAgentOnboarded:!1},await this._maybeTriggerWelcomeMessage(e.id))}get showAutoModeWarning(){return this._showAutoModeWarning}get hasEverUsedAgent(){return this._hasEverUsedAgent}dispose(){this._disposers.forEach(e=>e()),this._disposers=[],this._classifiedMemoriesMap.clear()}}function Ca(i){let e,n;return e=new Kr({props:{color:"accent",description:"Agent Mode is now available",onClose:i[5],$$slots:{icon:[wp],default:[vp]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o&&(r.onClose=t[5]),65&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function gp(i){let e;return{c(){e=X("Try it out")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function vp(i){let e,n;return e=new pt({props:{size:2,variant:"solid",color:"accent",title:"Try it out",$$slots:{default:[gp]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};64&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function wp(i){let e,n;return e=new po({props:{slot:"icon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function yp(i){let e,n,t=i[0]&&Ca(i);return{c(){t&&t.c(),e=de()},m(o,r){t&&t.m(o,r),M(o,e,r),n=!0},p(o,[r]){o[0]?t?(t.p(o,r),1&r&&d(t,1)):(t=Ca(o),t.c(),d(t,1),t.m(e.parentNode,e)):t&&(K(),p(t,1,1,()=>{t=null}),Z())},i(o){n||(d(t),n=!0)},o(o){p(t),n=!1},d(o){o&&w(e),t&&t.d(o)}}}function bp(i,e,n){let t,o,r,s=N;i.$$.on_destroy.push(()=>s());const c=qe("agentConversationModel");return i.$$.update=()=>{8&i.$$.dirty&&n(0,o=r===!1)},n(1,t=c.hasEverUsedAgent),s(),s=it(t,a=>n(3,r=a)),[o,t,c,r,async()=>{n(0,o=!1),await c.setToAgentic()},async()=>{n(0,o=!1),c.setHasEverUsedAgent(!0)}]}class xp extends oe{constructor(e){super(),re(this,e,bp,yp,ne,{})}}function _p(i){let e,n,t=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 448 512"},i[0]],o={};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return{c(){e=Fe("svg"),n=new jt(!0),this.h()},l(r){e=Ht(r,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var s=Ut(e);n=Wt(s,!0),s.forEach(w),this.h()},h(){n.a=null,rt(e,o)},m(r,s){qt(r,e,s),n.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M337 81c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-143 143L97 127c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l80 80c9.4 9.4 24.6 9.4 33.9 0zm104 120c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-247 247L41 295c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9L143 465c9.4 9.4 24.6 9.4 33.9 0z"/>',e)},p(r,[s]){rt(e,o=wt(t,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 448 512"},1&s&&r[0]]))},i:N,o:N,d(r){r&&w(e)}}}function Cp(i,e,n){return i.$$set=t=>{n(0,e=Ee(Ee({},e),et(t)))},[e=et(e)]}class ju extends oe{constructor(e){super(),re(this,e,Cp,_p,ne,{})}}function Mp(i){let e,n,t=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 512 512"},i[0]],o={};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return{c(){e=Fe("svg"),n=new jt(!0),this.h()},l(r){e=Ht(r,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var s=Ut(e);n=Wt(s,!0),s.forEach(w),this.h()},h(){n.a=null,rt(e,o)},m(r,s){qt(r,e,s),n.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M135 369c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-87-87L424 248c22.1 0 40 17.9 40 40v168c0 13.3 10.7 24 24 24s24-10.7 24-24V288c0-48.6-39.4-88-88-88H81.9l87-87c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L7 207c-9.4 9.4-9.4 24.6 0 33.9z"/>',e)},p(r,[s]){rt(e,o=wt(t,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 512 512"},1&s&&r[0]]))},i:N,o:N,d(r){r&&w(e)}}}function Ap(i,e,n){return i.$$set=t=>{n(0,e=Ee(Ee({},e),et(t)))},[e=et(e)]}class Hu extends oe{constructor(e){super(),re(this,e,Ap,Mp,ne,{})}}function kp(i){let e,n,t;return e=new Hu({}),{c(){y(e.$$.fragment),n=X(`
      Discard All`)},m(o,r){b(e,o,r),M(o,n,r),t=!0},i(o){t||(d(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){o&&w(n),x(e,o)}}}function Ep(i){let e,n;return e=new ht({props:{triggerOn:[Pt.Hover],content:i[0]?"Discard all changes":"No changes to undo",$$slots:{default:[kp]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o&&(r.content=t[0]?"Discard all changes":"No changes to undo"),32&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Ip(i){let e,n,t;return e=new ju({}),{c(){y(e.$$.fragment),n=X(`
      Keep All`)},m(o,r){b(e,o,r),M(o,n,r),t=!0},i(o){t||(d(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){o&&w(n),x(e,o)}}}function Tp(i){let e,n;return e=new ht({props:{triggerOn:[Pt.Hover],content:i[0]?"Keep all changes and clear checkpoints":"No changes to keep",$$slots:{default:[Ip]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o&&(r.content=t[0]?"Keep all changes and clear checkpoints":"No changes to keep"),32&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Lp(i){let e,n,t,o,r;return n=new pt({props:{class:"c-bottom-controls__revert-btn",variant:"soft",color:"neutral",size:1,disabled:!i[0],$$slots:{default:[Ep]},$$scope:{ctx:i}}}),n.$on("click",i[2]),o=new pt({props:{class:"c-bottom-controls__accept-btn",variant:"soft",color:"success",size:1,disabled:!i[0],$$slots:{default:[Tp]},$$scope:{ctx:i}}}),o.$on("click",i[3]),{c(){e=F("div"),y(n.$$.fragment),t=U(),y(o.$$.fragment),A(e,"class","c-bottom-controls svelte-1pc5clx")},m(s,c){M(s,e,c),b(n,e,null),H(e,t),b(o,e,null),r=!0},p(s,[c]){const a={};1&c&&(a.disabled=!s[0]),33&c&&(a.$$scope={dirty:c,ctx:s}),n.$set(a);const l={};1&c&&(l.disabled=!s[0]),33&c&&(l.$$scope={dirty:c,ctx:s}),o.$set(l)},i(s){r||(d(n.$$.fragment,s),d(o.$$.fragment,s),r=!0)},o(s){p(n.$$.fragment,s),p(o.$$.fragment,s),r=!1},d(s){s&&w(e),x(n),x(o)}}}function Sp(i,e,n){let t;const o=qe("checkpointStore"),{targetCheckpointHasChanges:r}=o;return Ze(i,r,s=>n(0,t=s)),[t,r,async function(){await o.rejectAll()},async function(){await o.acceptAll()}]}class Rp extends oe{constructor(e){super(),re(this,e,Sp,Lp,ne,{})}}function Ma(i){let e,n;return e=new Oe({props:{class:"edit-item__added-lines",size:1,$$slots:{default:[Pp]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};5&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Pp(i){let e,n;return{c(){e=X("+"),n=X(i[0])},m(t,o){M(t,e,o),M(t,n,o)},p(t,o){1&o&&Te(n,t[0])},d(t){t&&(w(e),w(n))}}}function Aa(i){let e,n;return e=new Oe({props:{class:"edit-item__removed-lines",size:1,$$slots:{default:[Np]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};6&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Np(i){let e,n;return{c(){e=X("-"),n=X(i[1])},m(t,o){M(t,e,o),M(t,n,o)},p(t,o){2&o&&Te(n,t[1])},d(t){t&&(w(e),w(n))}}}function Fp(i){let e,n,t,o=i[0]>0&&Ma(i),r=i[1]>0&&Aa(i);return{c(){e=F("div"),o&&o.c(),n=U(),r&&r.c(),A(e,"class","edit-item__changes svelte-1k8sltp")},m(s,c){M(s,e,c),o&&o.m(e,null),H(e,n),r&&r.m(e,null),t=!0},p(s,[c]){s[0]>0?o?(o.p(s,c),1&c&&d(o,1)):(o=Ma(s),o.c(),d(o,1),o.m(e,n)):o&&(K(),p(o,1,1,()=>{o=null}),Z()),s[1]>0?r?(r.p(s,c),2&c&&d(r,1)):(r=Aa(s),r.c(),d(r,1),r.m(e,null)):r&&(K(),p(r,1,1,()=>{r=null}),Z())},i(s){t||(d(o),d(r),t=!0)},o(s){p(o),p(r),t=!1},d(s){s&&w(e),o&&o.d(),r&&r.d()}}}function Dp(i,e,n){let{totalAddedLines:t=0}=e,{totalRemovedLines:o=0}=e;return i.$$set=r=>{"totalAddedLines"in r&&n(0,t=r.totalAddedLines),"totalRemovedLines"in r&&n(1,o=r.totalRemovedLines)},[t,o]}class Ui extends oe{constructor(e){super(),re(this,e,Dp,Fp,ne,{totalAddedLines:0,totalRemovedLines:1})}}function Op(i){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),A(n,"d","M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z"),A(n,"fill","currentColor"),A(n,"fill-rule","evenodd"),A(n,"clip-rule","evenodd"),A(e,"width","15"),A(e,"height","15"),A(e,"viewBox","0 0 15 15"),A(e,"fill","none"),A(e,"xmlns","http://www.w3.org/2000/svg")},m(t,o){M(t,e,o),H(e,n)},p:N,i:N,o:N,d(t){t&&w(e)}}}class Bp extends oe{constructor(e){super(),re(this,e,null,Op,ne,{})}}function zp(i){let e,n;return e=new tf({props:{slot:"rightIcon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function jp(i){let e,n;return e=new Gt({props:{class:"edit-item__filespan",size:1,filepath:i[0].relPath,$$slots:{rightIcon:[zp]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o&&(r.filepath=t[0].relPath),256&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Hp(i){let e,n;return e=new ht({props:{delayDurationMs:1500,triggerOn:[Pt.Hover],content:i[0].relPath,$$slots:{default:[jp]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o&&(r.content=t[0].relPath),257&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function ka(i){let e,n;return e=new pt({props:{size:1,variant:"ghost",color:"neutral",$$slots:{default:[Wp]},$$scope:{ctx:i}}}),e.$on("click",function(){yt(i[4])&&i[4].apply(this,arguments)}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){i=t;const r={};258&o&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Up(i){let e,n;return e=new Ui({props:{totalAddedLines:i[1].totalAddedLines,totalRemovedLines:i[1].totalRemovedLines}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};2&o&&(r.totalAddedLines=t[1].totalAddedLines),2&o&&(r.totalRemovedLines=t[1].totalRemovedLines),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Wp(i){let e,n;return e=new ht({props:{triggerOn:[Pt.Hover],content:"View Diff",$$slots:{default:[Up]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};258&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Ea(i){let e,n,t,o;const r=[Gp,qp],s=[];function c(a,l){return a[3]?0:1}return e=c(i),n=s[e]=r[e](i),{c(){n.c(),t=de()},m(a,l){s[e].m(a,l),M(a,t,l),o=!0},p(a,l){let u=e;e=c(a),e===u?s[e].p(a,l):(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),n=s[e],n?n.p(a,l):(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t))},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),s[e].d(a)}}}function qp(i){let e,n;return e=new At({props:{size:1,variant:"ghost",color:"neutral",$$slots:{default:[Kp]},$$scope:{ctx:i}}}),e.$on("click",function(){yt(i[7])&&i[7].apply(this,arguments)}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){i=t;const r={};260&o&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Gp(i){let e,n;return e=new ht({props:{triggerOn:[Pt.Hover],content:"Changes applied",class:"edit-item__controls-container__applied",$$slots:{default:[Qp]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};256&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Vp(i){let e,n;return e=new Bp({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Yp(i){let e,n;return e=new Eo({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Xp(i){let e,n,t,o;const r=[Yp,Vp],s=[];function c(a,l){return a[2]?0:1}return e=c(i),n=s[e]=r[e](i),{c(){n.c(),t=de()},m(a,l){s[e].m(a,l),M(a,t,l),o=!0},p(a,l){let u=e;e=c(a),e!==u&&(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),n=s[e],n||(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t))},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),s[e].d(a)}}}function Kp(i){let e,n;return e=new ht({props:{triggerOn:[Pt.Hover],content:i[2]?"Applying changes...":"Apply changes",$$slots:{default:[Xp]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4&o&&(r.content=t[2]?"Applying changes...":"Apply changes"),260&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Zp(i){let e,n,t;return n=new Yo({}),{c(){e=X(`Applied
            `),y(n.$$.fragment)},m(o,r){M(o,e,r),b(n,o,r),t=!0},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n,o)}}}function Qp(i){let e,n;return e=new Oe({props:{size:1,$$slots:{default:[Zp]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};256&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Ia(i){let e,n;return e=new At({props:{size:1,variant:"ghost",color:"neutral",$$slots:{default:[e$]},$$scope:{ctx:i}}}),e.$on("click",function(){yt(i[5])&&i[5].apply(this,arguments)}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){i=t;const r={};256&o&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Jp(i){let e,n;return e=new du({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function e$(i){let e,n;return e=new ht({props:{triggerOn:[Pt.Hover],content:"Open File",$$slots:{default:[Jp]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};256&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Ta(i){let e,n;return e=new At({props:{size:1,variant:"ghost",color:"neutral",$$slots:{default:[n$]},$$scope:{ctx:i}}}),e.$on("click",function(){yt(i[6])&&i[6].apply(this,arguments)}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){i=t;const r={};256&o&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function t$(i){let e,n;return e=new Xr({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function n$(i){let e,n;return e=new ht({props:{triggerOn:[Pt.Hover],content:"Undo Changes",$$slots:{default:[t$]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};256&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function o$(i){let e,n,t,o,r,s,c,a,l;t=new pt({props:{class:"edit-item__file-button",size:1,variant:"ghost",color:"neutral",$$slots:{default:[Hp]},$$scope:{ctx:i}}}),t.$on("click",function(){yt(i[4])&&i[4].apply(this,arguments)});let u=i[1]&&ka(i),f=i[7]&&Ea(i),g=i[5]&&Ia(i),h=i[6]&&Ta(i);return{c(){e=F("div"),n=F("div"),y(t.$$.fragment),o=U(),u&&u.c(),r=U(),s=F("div"),f&&f.c(),c=U(),g&&g.c(),a=U(),h&&h.c(),A(n,"class","edit-item__info-container"),A(s,"class","edit-item__controls-container"),A(e,"class","edit-item__container svelte-17yiovs")},m(k,I){M(k,e,I),H(e,n),b(t,n,null),H(e,o),u&&u.m(e,null),H(e,r),H(e,s),f&&f.m(s,null),H(s,c),g&&g.m(s,null),H(s,a),h&&h.m(s,null),l=!0},p(k,[I]){i=k;const _={};257&I&&(_.$$scope={dirty:I,ctx:i}),t.$set(_),i[1]?u?(u.p(i,I),2&I&&d(u,1)):(u=ka(i),u.c(),d(u,1),u.m(e,r)):u&&(K(),p(u,1,1,()=>{u=null}),Z()),i[7]?f?(f.p(i,I),128&I&&d(f,1)):(f=Ea(i),f.c(),d(f,1),f.m(s,c)):f&&(K(),p(f,1,1,()=>{f=null}),Z()),i[5]?g?(g.p(i,I),32&I&&d(g,1)):(g=Ia(i),g.c(),d(g,1),g.m(s,a)):g&&(K(),p(g,1,1,()=>{g=null}),Z()),i[6]?h?(h.p(i,I),64&I&&d(h,1)):(h=Ta(i),h.c(),d(h,1),h.m(s,null)):h&&(K(),p(h,1,1,()=>{h=null}),Z())},i(k){l||(d(t.$$.fragment,k),d(u),d(f),d(g),d(h),l=!0)},o(k){p(t.$$.fragment,k),p(u),p(f),p(g),p(h),l=!1},d(k){k&&w(e),x(t),u&&u.d(),f&&f.d(),g&&g.d(),h&&h.d()}}}function r$(i,e,n){let{qualifiedPathName:t}=e,{lineChanges:o}=e,{isApplyPending:r=!1}=e,{hasApplied:s=!1}=e,{onClickReview:c}=e,{onClickFile:a}=e,{onClickRevert:l}=e,{onApplyChanges:u}=e;return i.$$set=f=>{"qualifiedPathName"in f&&n(0,t=f.qualifiedPathName),"lineChanges"in f&&n(1,o=f.lineChanges),"isApplyPending"in f&&n(2,r=f.isApplyPending),"hasApplied"in f&&n(3,s=f.hasApplied),"onClickReview"in f&&n(4,c=f.onClickReview),"onClickFile"in f&&n(5,a=f.onClickFile),"onClickRevert"in f&&n(6,l=f.onClickRevert),"onApplyChanges"in f&&n(7,u=f.onApplyChanges)},[t,o,r,s,c,a,l,u]}class i$ extends oe{constructor(e){super(),re(this,e,r$,o$,ne,{qualifiedPathName:0,lineChanges:1,isApplyPending:2,hasApplied:3,onClickReview:4,onClickFile:5,onClickRevert:6,onApplyChanges:7})}}function s$(i){let e,n,t,o,r=i[0]===1?"":"s";return{c(){e=X(i[0]),n=X(" file"),t=X(r),o=X(" changed")},m(s,c){M(s,e,c),M(s,n,c),M(s,t,c),M(s,o,c)},p(s,c){1&c&&Te(e,s[0]),1&c&&r!==(r=s[0]===1?"":"s")&&Te(t,r)},d(s){s&&(w(e),w(n),w(t),w(o))}}}function La(i){let e,n,t;return n=new Ui({props:{totalAddedLines:i[1].totalAddedLines,totalRemovedLines:i[1].totalRemovedLines}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-agent-edits-header__summary")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p(o,r){const s={};2&r&&(s.totalAddedLines=o[1].totalAddedLines),2&r&&(s.totalRemovedLines=o[1].totalRemovedLines),n.$set(s)},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function Sa(i){let e,n,t,o,r;return n=new pt({props:{class:"c-agent-edits-header__revert-btn",variant:"soft",color:"neutral",size:1,$$slots:{default:[c$]},$$scope:{ctx:i}}}),n.$on("click",function(){yt(i[4])&&i[4].apply(this,arguments)}),o=new pt({props:{class:"c-agent-edits-header__accept-btn",variant:"soft",color:"success",size:1,$$slots:{default:[u$]},$$scope:{ctx:i}}}),o.$on("click",function(){yt(i[5])&&i[5].apply(this,arguments)}),{c(){e=F("div"),y(n.$$.fragment),t=U(),y(o.$$.fragment),A(e,"class","c-agent-edits-header__actions")},m(s,c){M(s,e,c),b(n,e,null),H(e,t),b(o,e,null),r=!0},p(s,c){i=s;const a={};64&c&&(a.$$scope={dirty:c,ctx:i}),n.$set(a);const l={};64&c&&(l.$$scope={dirty:c,ctx:i}),o.$set(l)},i(s){r||(d(n.$$.fragment,s),d(o.$$.fragment,s),r=!0)},o(s){p(n.$$.fragment,s),p(o.$$.fragment,s),r=!1},d(s){s&&w(e),x(n),x(o)}}}function a$(i){let e,n,t,o;return e=new Hu({}),{c(){y(e.$$.fragment),n=U(),t=F("span"),t.textContent="Discard All",A(t,"class","c-agent-edits-header__revert-btn__text")},m(r,s){b(e,r,s),M(r,n,s),M(r,t,s),o=!0},p:N,i(r){o||(d(e.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),o=!1},d(r){r&&(w(n),w(t)),x(e,r)}}}function c$(i){let e,n;return e=new ht({props:{triggerOn:[Pt.Hover],content:"Discard all changes",$$slots:{default:[a$]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};64&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function l$(i){let e,n,t,o;return e=new ju({}),{c(){y(e.$$.fragment),n=U(),t=F("span"),t.textContent="Keep All",A(t,"class","c-agent-edits-header__accept-btn__text")},m(r,s){b(e,r,s),M(r,n,s),M(r,t,s),o=!0},p:N,i(r){o||(d(e.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),o=!1},d(r){r&&(w(n),w(t)),x(e,r)}}}function u$(i){let e,n;return e=new ht({props:{triggerOn:[Pt.Hover],content:"Keep all changes and clear checkpoints",$$slots:{default:[l$]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};64&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function d$(i){let e,n,t,o,r,s,c,a;t=new _f({props:{class:"c-agent-edits-header__collapse-btn"}}),r=new bu({props:{class:"c-agent-edits-header__info-container",size:1,$$slots:{text:[s$]},$$scope:{ctx:i}}});let l=i[3]&&La(i),u=i[2]&&i[3]&&Sa(i);return{c(){e=F("div"),n=F("div"),y(t.$$.fragment),o=U(),y(r.$$.fragment),s=U(),l&&l.c(),c=U(),u&&u.c(),A(n,"class","c-agent-edits-header__content"),A(e,"class","c-agent-edits-header svelte-r2jrog")},m(f,g){M(f,e,g),H(e,n),b(t,n,null),H(n,o),b(r,n,null),H(n,s),l&&l.m(n,null),H(e,c),u&&u.m(e,null),a=!0},p(f,[g]){const h={};65&g&&(h.$$scope={dirty:g,ctx:f}),r.$set(h),f[3]?l?(l.p(f,g),8&g&&d(l,1)):(l=La(f),l.c(),d(l,1),l.m(n,null)):l&&(K(),p(l,1,1,()=>{l=null}),Z()),f[2]&&f[3]?u?(u.p(f,g),12&g&&d(u,1)):(u=Sa(f),u.c(),d(u,1),u.m(e,null)):u&&(K(),p(u,1,1,()=>{u=null}),Z())},i(f){a||(d(t.$$.fragment,f),d(r.$$.fragment,f),d(l),d(u),a=!0)},o(f){p(t.$$.fragment,f),p(r.$$.fragment,f),p(l),p(u),a=!1},d(f){f&&w(e),x(t),x(r),l&&l.d(),u&&u.d()}}}function f$(i,e,n){let{filesCount:t}=e,{diffSummary:o}=e,{collapsed:r}=e,{hasChanges:s}=e,{onRevert:c}=e,{onKeep:a}=e;return i.$$set=l=>{"filesCount"in l&&n(0,t=l.filesCount),"diffSummary"in l&&n(1,o=l.diffSummary),"collapsed"in l&&n(2,r=l.collapsed),"hasChanges"in l&&n(3,s=l.hasChanges),"onRevert"in l&&n(4,c=l.onRevert),"onKeep"in l&&n(5,a=l.onKeep)},[t,o,r,s,c,a]}class m$ extends oe{constructor(e){super(),re(this,e,f$,d$,ne,{filesCount:0,diffSummary:1,collapsed:2,hasChanges:3,onRevert:4,onKeep:5})}}function Ra(i,e,n){const t=i.slice();return t[27]=e[n],t}function Pa(i){let e,n,t,o;function r(c){i[23](c)}let s={class:"c-agent-edits-container__block-container",$$slots:{footer:[w$],header:[v$],default:[g$]},$$scope:{ctx:i}};return i[5]!==void 0&&(s.collapsed=i[5]),n=new Cf({props:s}),ft.push(()=>Zt(n,"collapsed",r)),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-agent-edits-container svelte-19r1sqe")},m(c,a){M(c,e,a),b(n,e,null),o=!0},p(c,a){const l={};1073741925&a&&(l.$$scope={dirty:a,ctx:c}),!t&&32&a&&(t=!0,l.collapsed=c[5],tn(()=>t=!1)),n.$set(l)},i(c){o||(d(n.$$.fragment,c),o=!0)},o(c){p(n.$$.fragment,c),o=!1},d(c){c&&w(e),x(n)}}}function p$(i){let e,n,t;return n=new Oe({props:{size:1,color:"neutral",$$slots:{default:[h$]},$$scope:{ctx:i}}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-edits-list c-edits-list--empty svelte-19r1sqe")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p(o,r){const s={};1073741824&r&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function $$(i){let e,n,t,o=ct(i[0]),r=[];for(let c=0;c<o.length;c+=1)r[c]=Na(Ra(i,o,c));const s=c=>p(r[c],1,1,()=>{r[c]=null});return{c(){e=F("div"),n=F("div");for(let c=0;c<r.length;c+=1)r[c].c();A(n,"class","c-edits-section svelte-19r1sqe"),A(e,"class","c-edits-list svelte-19r1sqe")},m(c,a){M(c,e,a),H(e,n);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(n,null);t=!0},p(c,a){if(57345&a){let l;for(o=ct(c[0]),l=0;l<o.length;l+=1){const u=Ra(c,o,l);r[l]?(r[l].p(u,a),d(r[l],1)):(r[l]=Na(u),r[l].c(),d(r[l],1),r[l].m(n,null))}for(K(),l=o.length;l<r.length;l+=1)s(l);Z()}},i(c){if(!t){for(let a=0;a<o.length;a+=1)d(r[a]);t=!0}},o(c){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)p(r[a]);t=!1},d(c){c&&w(e),cn(r,c)}}}function h$(i){let e;return{c(){e=X("No changes to show")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function Na(i){let e,n;function t(){return i[20](i[27])}function o(){return i[21](i[27])}function r(){return i[22](i[27])}return e=new i$({props:{qualifiedPathName:i[27].qualifiedPathName,lineChanges:i[27].changesSummary,onClickFile:t,onClickReview:o,onClickRevert:r}}),{c(){y(e.$$.fragment)},m(s,c){b(e,s,c),n=!0},p(s,c){i=s;const a={};1&c&&(a.qualifiedPathName=i[27].qualifiedPathName),1&c&&(a.lineChanges=i[27].changesSummary),1&c&&(a.onClickFile=t),1&c&&(a.onClickReview=o),1&c&&(a.onClickRevert=r),e.$set(a)},i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){p(e.$$.fragment,s),n=!1},d(s){x(e,s)}}}function g$(i){let e,n,t,o;const r=[$$,p$],s=[];function c(a,l){return a[0].length>0?0:1}return e=c(i),n=s[e]=r[e](i),{c(){n.c(),t=de()},m(a,l){s[e].m(a,l),M(a,t,l),o=!0},p(a,l){let u=e;e=c(a),e===u?s[e].p(a,l):(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),n=s[e],n?n.p(a,l):(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t))},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),s[e].d(a)}}}function v$(i){let e,n;return e=new m$({props:{filesCount:i[0].length,diffSummary:i[2],collapsed:i[5],hasChanges:i[6],onRevert:i[16],onKeep:i[17],slot:"header"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o&&(r.filesCount=t[0].length),4&o&&(r.diffSummary=t[2]),32&o&&(r.collapsed=t[5]),64&o&&(r.hasChanges=t[6]),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function w$(i){let e,n;return e=new Rp({props:{slot:"footer"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function y$(i){let e,n,t=i[3]&&i[4]>0&&i[0].length>0&&Pa(i);return{c(){t&&t.c(),e=de()},m(o,r){t&&t.m(o,r),M(o,e,r),n=!0},p(o,[r]){o[3]&&o[4]>0&&o[0].length>0?t?(t.p(o,r),25&r&&d(t,1)):(t=Pa(o),t.c(),d(t,1),t.m(e.parentNode,e)):t&&(K(),p(t,1,1,()=>{t=null}),Z())},i(o){n||(d(t),n=!0)},o(o){p(t),n=!1},d(o){o&&w(e),t&&t.d(o)}}}function Ix(i){if(!i)return"";if(i===Number.MAX_SAFE_INTEGER)return"Now";const e=new Date(i),n=new Date,t=e.getHours(),o=`${t%12||12}:${e.getMinutes().toString().padStart(2,"0")}${t>=12?"PM":"AM"}`,r=Math.floor((n.getTime()-e.getTime())/864e5);return r===0?o:r===1?`Yesterday at ${o}`:`${r} days ago at ${o}`}function b$(i,e,n){let t,o,r,s,c,a,l,u,f,g,h=N;i.$$.on_destroy.push(()=>h());const k=qe("chatModel");Ze(i,k,Q=>n(18,c=Q));const I=qe("agentConversationModel"),_=qe("checkpointStore"),{targetCheckpointSummary:T,totalCheckpointCount:O,targetCheckpoint:B,targetCheckpointHasChanges:z}=_;Ze(i,T,Q=>n(19,a=Q)),Ze(i,O,Q=>n(4,u=Q)),Ze(i,B,Q=>n(24,s=Q)),Ze(i,z,Q=>n(6,g=Q));const{isCurrConversationAgentic:fe}=I;function ye(Q){k.extensionClient.openFile({repoRoot:Q.rootPath,pathName:Q.relPath,allowOutOfWorkspace:!0})}function ie(Q){const _e=I.getBaselineTimestamp();k.extensionClient.showAgentReview(Q,_e,s==null?void 0:s.toTimestamp,!1)}function le(Q){const _e=I.getBaselineTimestamp();_.revertDocumentToTimestamp(Q,_e)}return Ze(i,fe,Q=>n(3,l=Q)),i.$$.update=()=>{524288&i.$$.dirty&&n(0,t=a.filter(Q=>Q.changesSummary&&(Q.changesSummary.totalAddedLines>0||Q.changesSummary.totalRemovedLines>0))),1&i.$$.dirty&&n(2,o=t.reduce((Q,_e)=>{var ge,be;return Q.totalAddedLines+=((ge=_e.changesSummary)==null?void 0:ge.totalAddedLines)??0,Q.totalRemovedLines+=((be=_e.changesSummary)==null?void 0:be.totalRemovedLines)??0,Q},{totalAddedLines:0,totalRemovedLines:0})),262144&i.$$.dirty&&(n(1,r=c.isAgentEditsCollapsed),h(),h=it(r,Q=>n(5,f=Q)))},[t,r,o,l,u,f,g,k,T,O,B,z,fe,ye,ie,le,async function(){await _.rejectAll()},async function(){await _.acceptAll()},c,a,Q=>ye(Q.qualifiedPathName),Q=>ie(Q.qualifiedPathName),Q=>le(Q.qualifiedPathName),function(Q){f=Q,r.set(f)}]}class x$ extends oe{constructor(e){super(),re(this,e,b$,y$,ne,{})}}const _$=vt(!1);function C$(i){let e;return{c(){e=X("Drop images to attach as context")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function M$(i){let e;return{c(){e=X("(png, jpg, jpeg)")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function A$(i){let e,n,t,o,r;const s=i[7].default,c=ze(s,i,i[11],null),a=c||function(l){let u,f,g,h,k,I;return u=new nf({}),g=new Oe({props:{class:"c-rich-text-editor-dropzone__text",size:2,$$slots:{default:[C$]},$$scope:{ctx:l}}}),k=new Oe({props:{class:"c-rich-text-editor-dropzone__text",size:1,$$slots:{default:[M$]},$$scope:{ctx:l}}}),{c(){y(u.$$.fragment),f=U(),y(g.$$.fragment),h=U(),y(k.$$.fragment)},m(_,T){b(u,_,T),M(_,f,T),b(g,_,T),M(_,h,T),b(k,_,T),I=!0},p(_,T){const O={};2048&T&&(O.$$scope={dirty:T,ctx:_}),g.$set(O);const B={};2048&T&&(B.$$scope={dirty:T,ctx:_}),k.$set(B)},i(_){I||(d(u.$$.fragment,_),d(g.$$.fragment,_),d(k.$$.fragment,_),I=!0)},o(_){p(u.$$.fragment,_),p(g.$$.fragment,_),p(k.$$.fragment,_),I=!1},d(_){_&&(w(f),w(h)),x(u,_),x(g,_),x(k,_)}}}(i);return{c(){e=F("div"),n=F("div"),a&&a.c(),A(n,"class","c-rich-text-editor-dropzone__content svelte-1f75lrb"),A(e,"class","c-rich-text-editor-dropzone svelte-1f75lrb"),A(e,"role","button"),A(e,"tabindex","-1"),Ne(e,"is-active",i[0])},m(l,u){M(l,e,u),H(e,n),a&&a.m(n,null),t=!0,o||(r=[ke(window,"dragstart",i[10]),ke(window,"dragenter",i[5]),ke(window,"dragleave",i[3]),ke(window,"drop",i[4]),ke(window,"blur",i[4]),ke(e,"dragover",Uo(Er(i[8]))),ke(e,"dragenter",Uo(Er(i[9]))),ke(e,"drop",Uo(Er(i[2])))],o=!0)},p(l,[u]){c&&c.p&&(!t||2048&u)&&je(c,s,l,l[11],t?Ue(s,l[11],u,null):He(l[11]),null),(!t||1&u)&&Ne(e,"is-active",l[0])},i(l){t||(d(a,l),t=!0)},o(l){p(a,l),t=!1},d(l){l&&w(e),a&&a.d(l),o=!1,Nt(r)}}}const k$="application/x-augment/drag-origin/{}";function Fa(i){return k$.replace("{}",i.instanceId)}function E$(i,e,n){let{$$slots:t={},$$scope:o}=e,{draggingStore:r=_$}=e;const s=qe(Oi.CONTEXT_KEY);let c;return r.subscribe(a=>n(0,c=a)),i.$$set=a=>{"draggingStore"in a&&n(6,r=a.draggingStore),"$$scope"in a&&n(11,o=a.$$scope)},[c,s,function(a){var l,u,f,g,h;r.set(!1),(l=a.dataTransfer)!=null&&l.files&&((h=(u=s==null?void 0:s.commandManager.chain())==null?void 0:(f=u.command(({view:k,tr:I})=>{if(!k)return!0;const _=k.posAtCoords({left:a.clientX,top:a.clientY});if(_){const T=I.doc.resolve(_.pos);I.setSelection(Ff.create(I.doc,T.pos))}return!0})).insertImagesIntoEditor)==null||h.call(f,[...((g=a.dataTransfer)==null?void 0:g.files)??[]]))},function(a){a.relatedTarget&&a.relatedTarget!==document.body||r.set(!1)},()=>r.set(!1),a=>{var f;var l,u;l=a,u=s,(f=l.dataTransfer)!=null&&f.types.includes(Fa(u))||r.set(!0)},r,t,function(a){Hn.call(this,i,a)},function(a){Hn.call(this,i,a)},a=>function(l,u){var f;u.rootNode&&l.composedPath().includes(u.rootNode)&&((f=l.dataTransfer)==null||f.setData(Fa(u),u.instanceId))}(a,s),o]}class I$ extends oe{constructor(e){super(),re(this,e,E$,A$,ne,{draggingStore:6})}}const T$=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,L$=Df.create({name:"image",addOptions:()=>({inline:!1,allowBase64:!1,HTMLAttributes:{}}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null}}),parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:i}){return["img",Of(this.options.HTMLAttributes,i)]},addCommands(){return{setImage:i=>({commands:e})=>e.insertContent({type:this.name,attrs:i})}},addInputRules(){return[Bf({find:T$,type:this.type,getAttributes:i=>{const[,,e,n,t]=i;return{src:n,alt:e,title:t}}})]}});class Vo extends Error{constructor(n,t){super(t);te(this,"files");this.files=n,this.name="ImageError"}}class S$ extends Vo{constructor(e,n){const t=Math.round(e.size/1024);super([e],`Image "${e.name}" exceeds size limit of ${n}KB. Size: ${t}KB `)}}class R$ extends Vo{constructor(e){super([e],`File "${e.name}" is not an image`)}}class P$ extends Vo{constructor(e,n,t){const o=[`Up to ${e} images are supported.`,"- Existing count: "+(e-n.length),`- Accepted count: ${n.length}`,`- Rejected count: ${t.length}`,"Did not insert images:",...t.map(r=>`- ${r.name}`)].join(`
`);super(t,o)}}function N$(i,e){if(!function(n){return n.type.startsWith("image/")}(i))return new R$(i);if((e==null?void 0:e.maxImageSizeKb)!==void 0){const n=1024*e.maxImageSizeKb;if(i.size>n)return new S$(i,e.maxImageSizeKb)}return i}var sn=(i=>(i.collapsed="collapsed",i.preview="preview",i.full="full",i))(sn||{});function F$(i){let e,n,t,o={ctx:i,current:null,token:null,hasCatch:!1,pending:z$,then:B$,catch:O$,value:21,blocks:[,,,]};return Co(n=i[2](i[1]),o),{c(){e=de(),o.block.c()},m(r,s){M(r,e,s),o.block.m(r,o.anchor=s),o.mount=()=>e.parentNode,o.anchor=e,t=!0},p(r,s){i=r,o.ctx=i,6&s&&n!==(n=i[2](i[1]))&&Co(n,o)||Vr(o,i,s)},i(r){t||(d(o.block),t=!0)},o(r){for(let s=0;s<3;s+=1){const c=o.blocks[s];p(c)}t=!1},d(r){r&&w(e),o.block.d(r),o.token=null,o=null}}}function D$(i){let e,n,t;return n=new Zn({props:{size:2}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-image__loading-spinner svelte-1k5ybyc")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p:N,i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function O$(i){return{c:N,m:N,p:N,i:N,o:N,d:N}}function B$(i){let e,n;return{c(){e=F("img"),zs(e.src,n=i[21])||A(e,"src",n),A(e,"alt",""),A(e,"class","c-rich-text-editor-image")},m(t,o){M(t,e,o),i[14](e)},p(t,o){6&o&&!zs(e.src,n=t[21])&&A(e,"src",n)},i:N,o:N,d(t){t&&w(e),i[14](null)}}}function z$(i){let e,n,t;return n=new Zn({props:{size:2}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-image__loading-spinner svelte-1k5ybyc")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p:N,i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function j$(i){let e;return{c(){e=X(i[0])},m(n,t){M(n,e,t)},p(n,t){1&t&&Te(e,n[0])},d(n){n&&w(e)}}}function Da(i){let e,n,t={nested:!1,$$slots:{default:[K$]},$$scope:{ctx:i}};return e=new Ae.Root({props:t}),i[18](e),{c(){y(e.$$.fragment)},m(o,r){b(e,o,r),n=!0},p(o,r){const s={};4194392&r&&(s.$$scope={dirty:r,ctx:o}),e.$set(s)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){i[18](null),x(e,o)}}}function H$(i){let e,n;return e=new Eo({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function U$(i){let e,n;return e=new At({props:{size:1,color:"neutral",variant:i[3]==="collapsed"?"ghost-block":"solid",$$slots:{default:[H$]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};8&o&&(r.variant=t[3]==="collapsed"?"ghost-block":"solid"),4194304&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function W$(i){let e;return{c(){e=X("Image options")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function q$(i){let e;return{c(){e=X("Collapsed view")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function G$(i){let e;return{c(){e=X("Preview")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function V$(i){let e;return{c(){e=X("Full size")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function Oa(i){let e,n,t,o;return e=new Ae.Separator({}),t=new Ae.Item({props:{onSelect:i[4],color:"error",$$slots:{default:[Y$]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};16&s&&(c.onSelect=r[4]),4194304&s&&(c.$$scope={dirty:s,ctx:r}),t.$set(c)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function Y$(i){let e;return{c(){e=X("Remove image")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function X$(i){let e,n,t,o,r,s,c,a,l,u,f=i[6]();e=new Ae.Label({props:{$$slots:{default:[W$]},$$scope:{ctx:i}}}),t=new Ae.Item({props:{onSelect:i[15],highlight:i[3]===sn.collapsed,$$slots:{default:[q$]},$$scope:{ctx:i}}}),r=new Ae.Item({props:{onSelect:i[16],highlight:i[3]===sn.preview,$$slots:{default:[G$]},$$scope:{ctx:i}}}),c=new Ae.Item({props:{onSelect:i[17],highlight:i[3]===sn.full,$$slots:{default:[V$]},$$scope:{ctx:i}}});let g=f&&Oa(i);return{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment),o=U(),y(r.$$.fragment),s=U(),y(c.$$.fragment),a=U(),g&&g.c(),l=de()},m(h,k){b(e,h,k),M(h,n,k),b(t,h,k),M(h,o,k),b(r,h,k),M(h,s,k),b(c,h,k),M(h,a,k),g&&g.m(h,k),M(h,l,k),u=!0},p(h,k){const I={};4194304&k&&(I.$$scope={dirty:k,ctx:h}),e.$set(I);const _={};8&k&&(_.highlight=h[3]===sn.collapsed),4194304&k&&(_.$$scope={dirty:k,ctx:h}),t.$set(_);const T={};8&k&&(T.highlight=h[3]===sn.preview),4194304&k&&(T.$$scope={dirty:k,ctx:h}),r.$set(T);const O={};8&k&&(O.highlight=h[3]===sn.full),4194304&k&&(O.$$scope={dirty:k,ctx:h}),c.$set(O),64&k&&(f=h[6]()),f?g?(g.p(h,k),64&k&&d(g,1)):(g=Oa(h),g.c(),d(g,1),g.m(l.parentNode,l)):g&&(K(),p(g,1,1,()=>{g=null}),Z())},i(h){u||(d(e.$$.fragment,h),d(t.$$.fragment,h),d(r.$$.fragment,h),d(c.$$.fragment,h),d(g),u=!0)},o(h){p(e.$$.fragment,h),p(t.$$.fragment,h),p(r.$$.fragment,h),p(c.$$.fragment,h),p(g),u=!1},d(h){h&&(w(n),w(o),w(s),w(a),w(l)),x(e,h),x(t,h),x(r,h),x(c,h),g&&g.d(h)}}}function K$(i){let e,n,t,o;return e=new Ae.Trigger({props:{$$slots:{default:[U$]},$$scope:{ctx:i}}}),t=new Ae.Content({props:{size:1,side:"bottom",align:"end",$$slots:{default:[X$]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};4194312&s&&(c.$$scope={dirty:s,ctx:r}),e.$set(c);const a={};4194392&s&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function Z$(i){let e,n,t,o,r,s,c,a;const l=[D$,F$],u=[];function f(h,k){return h[5]?0:1}n=f(i),t=u[n]=l[n](i),s=new Oe({props:{size:i[3]==="collapsed"?2:1,class:"c-image__title",$$slots:{default:[j$]},$$scope:{ctx:i}}});let g=!i[5]&&Da(i);return{c(){e=F("div"),t.c(),o=U(),r=F("div"),y(s.$$.fragment),c=U(),g&&g.c(),A(r,"class","c-image__action-header svelte-1k5ybyc"),Ne(r,"is-active",i[7]),A(e,"class","c-image-container svelte-1k5ybyc"),Ne(e,"is-collapsed",i[3]==="collapsed"),Ne(e,"is-preview",i[3]==="preview"),Ne(e,"is-full",i[3]==="full")},m(h,k){M(h,e,k),u[n].m(e,null),H(e,o),H(e,r),b(s,r,null),H(r,c),g&&g.m(r,null),a=!0},p(h,k){let I=n;n=f(h),n===I?u[n].p(h,k):(K(),p(u[I],1,1,()=>{u[I]=null}),Z(),t=u[n],t?t.p(h,k):(t=u[n]=l[n](h),t.c()),d(t,1),t.m(e,o));const _={};8&k&&(_.size=h[3]==="collapsed"?2:1),4194305&k&&(_.$$scope={dirty:k,ctx:h}),s.$set(_),h[5]?g&&(K(),p(g,1,1,()=>{g=null}),Z()):g?(g.p(h,k),32&k&&d(g,1)):(g=Da(h),g.c(),d(g,1),g.m(r,null)),(!a||128&k)&&Ne(r,"is-active",h[7]),(!a||8&k)&&Ne(e,"is-collapsed",h[3]==="collapsed"),(!a||8&k)&&Ne(e,"is-preview",h[3]==="preview"),(!a||8&k)&&Ne(e,"is-full",h[3]==="full")},i(h){a||(d(t),d(s.$$.fragment,h),d(g),a=!0)},o(h){p(t),p(s.$$.fragment,h),p(g),a=!1},d(h){h&&w(e),u[n].d(),x(s),g&&g.d()}}}function Q$(i){let e,n,t,o;return e=new Mf({props:{insetContent:!0,interactive:!0,size:1,class:"c-image-renderer",$$slots:{default:[Z$]},$$scope:{ctx:i}}}),e.$on("click",i[19]),e.$on("keydown",i[20]),{c(){y(e.$$.fragment)},m(r,s){b(e,r,s),n=!0,t||(o=ke(window,"click",i[13],!0),t=!0)},p(r,[s]){const c={};4195327&s&&(c.$$scope={dirty:s,ctx:r}),e.$set(c)},i(r){n||(d(e.$$.fragment,r),n=!0)},o(r){p(e.$$.fragment,r),n=!1},d(r){x(e,r),t=!1,o()}}}function J$(i,e,n){let{title:t}=e,{src:o}=e,{loadImage:r}=e,{renderMode:s=sn.collapsed}=e,{removeImage:c}=e,{setImageMode:a}=e,{isLoading:l=!1}=e,{isEditable:u}=e;function f(_){a(_),k==null||k.requestClose()}function g(_){_.key!=="ArrowUp"&&_.key!=="ArrowDown"&&_.key!=="ArrowLeft"&&_.key!=="ArrowRight"||(n(7,I=!0),_.preventDefault(),_.stopPropagation())}let h,k,I=!1;return i.$$set=_=>{"title"in _&&n(0,t=_.title),"src"in _&&n(1,o=_.src),"loadImage"in _&&n(2,r=_.loadImage),"renderMode"in _&&n(3,s=_.renderMode),"removeImage"in _&&n(4,c=_.removeImage),"setImageMode"in _&&n(12,a=_.setImageMode),"isLoading"in _&&n(5,l=_.isLoading),"isEditable"in _&&n(6,u=_.isEditable)},[t,o,r,s,c,l,u,I,h,k,f,g,a,_=>{_.composedPath().some(T=>T===h)||n(7,I=!1)},function(_){ft[_?"unshift":"push"](()=>{h=_,n(8,h)})},()=>f(sn.collapsed),()=>f(sn.preview),()=>f(sn.full),function(_){ft[_?"unshift":"push"](()=>{k=_,n(9,k)})},_=>{n(7,I=!0),_.preventDefault()},_=>{g(_),Rn("Escape",()=>n(7,I=!1))(_)}]}class eh extends oe{constructor(e){super(),re(this,e,J$,Q$,ne,{title:0,src:1,loadImage:2,renderMode:3,removeImage:4,setImageMode:12,isLoading:5,isEditable:6})}}async function Uu(i,e=1024){return new Promise((n,t)=>{const o=document.createElement("canvas"),r=o.getContext("2d"),s=new Image;s.onload=()=>{let c=s.width,a=s.height;c>a?c>e&&(a=Math.round(a*(e/c)),c=e):a>e&&(c=Math.round(c*(e/a)),a=e),o.width=c,o.height=a,r?(r.drawImage(s,0,0,c,a),o.toBlob(l=>{l!=null?n(l):t(new Error("Failed to create blob"))})):t(new Error("Could not get canvas context"))},s.onerror=()=>t(new Error("Failed to load image")),s.src=URL.createObjectURL(i)})}const jr=class jr{constructor(e){te(this,"_tipTapExtension");te(this,"_editor");te(this,"_createTipTapExtension",()=>{const e=this.registerEditor,n=this.unregisterEditor,t=this.insertImagesIntoEditor;return L$.extend({addOptions(){var o;return{...(o=this.parent)==null?void 0:o.call(this),allowBase64:!0,preserveOnSplit:!1,defaultRenderMode:sn.collapsed}},addAttributes(){var o;return{...(o=this.parent)==null?void 0:o.call(this),renderMode:{default:sn.collapsed},title:{default:""},isLoading:{default:!1}}},onCreate(){var o;(o=this.parent)==null||o.call(this),e(this.editor)},onDestroy(){var o;(o=this.parent)==null||o.call(this),n()},addCommands(){var o;return{...(o=this.parent)==null?void 0:o.call(this),insertImagesIntoEditor:r=>({chain:s})=>s().command(()=>!!t(r)).focus("end").run()}},addNodeView:()=>this._createNodeView(),addProseMirrorPlugins(){var o;return[...((o=this.parent)==null?void 0:o.call(this))??[],new jf({key:jr.IMAGE_PASTE_HANDLER_PLUGIN_KEY,props:{handlePaste:(r,s)=>{var c,a;return(a=(c=s.clipboardData)==null?void 0:c.files)!=null&&a.length?t([...s.clipboardData.files]).okFiles.length>0&&(s.preventDefault(),!0):!1}}})]}})});te(this,"_createNodeView",()=>({node:e})=>{var o,r;const n=document.createElement("div"),t=new eh({target:n,props:{title:String(e.attrs.title),src:String(e.attrs.src),loadImage:((o=this._options)==null?void 0:o.renderImage)??(()=>Promise.resolve(void 0)),renderMode:e.attrs.renderMode,isLoading:!!e.attrs.isLoading,removeImage:async()=>{var s;if(this._editor){try{(s=this._options)!=null&&s.deleteImage&&await this._options.deleteImage(String(e.attrs.src))}catch(c){console.error("Failed to delete image:",c)}this._editor.chain().command(({tr:c,state:a})=>(a.doc.descendants((l,u)=>{if(e===l)return c.delete(u,u+l.nodeSize),!1}),!0)).focus("end").run()}},setImageMode:s=>{var a,l;if(!this._editor||e.attrs.renderMode===s)return;(function(u,f,g){u.chain().command(({tr:h,state:k})=>(k.doc.descendants((I,_)=>{if(f.type===I.type&&f.attrs.src===I.attrs.src)return h.setNodeMarkup(_,void 0,{...I.attrs,...g}),!1}),!0)).run()})(this._editor,e,{renderMode:s});const c=this._editor.getJSON();(l=(a=this._options)==null?void 0:a.changeImageMode)==null||l.call(a,c)},isEditable:((r=this._options)==null?void 0:r.isEditable)??(()=>!0)}});return{dom:n,destroy:()=>{t.$destroy()},update:s=>s.type.name==="image"&&(e=s,t.$set({src:String(s.attrs.src),renderMode:s.attrs.renderMode,isLoading:!!s.attrs.isLoading}),!0)}});te(this,"registerEditor",e=>{this._editor=e});te(this,"unregisterEditor",()=>{this._editor=void 0});te(this,"_getImageNodeCount",()=>{if(!this._editor)return;let e=0;return this._editor.state.doc.descendants(n=>{n.type.name==="image"&&e++}),e});te(this,"updateOptions",e=>{this._options={...e}});te(this,"insertImagesIntoEditor",e=>{const{validImages:n,errors:t}=this.validateImages(e),{imagesToInsert:o,errors:r}=this.checkImageCountLimit(n),s=[];for(const c of o){if(!this._editor)continue;const a=this._insertLoadingImage(this._editor,c.name);this._processImage(c,a).catch(l=>{s.push(new Vo([c],String(l)))})}return{errors:[...t,...r,...s],okFiles:o}});this._options=e,this._tipTapExtension=this._createTipTapExtension()}validateImages(e){const n=[],t=[];for(const o of e){const r=N$(o,this._options);r instanceof Vo?n.push(r):t.push(r)}return{validImages:t,errors:n}}checkImageCountLimit(e){var s;const n=this._getImageNodeCount()??0,t=(s=this._options)==null?void 0:s.maxImages;if(t===void 0||n+e.length<=t)return{imagesToInsert:e,errors:[]};const o=e.slice(0,t-n),r=e.slice(t-n);return{imagesToInsert:o,errors:[new P$(t,o,r)]}}async _processImage(e,n){var t,o;try{const r=await Uu(e);if(!r||!this._editor)return;const s=new File([r],e.name,{type:e.type}),c=await((o=(t=this._options)==null?void 0:t.saveImage)==null?void 0:o.call(t,s))??s.name;this._updateImageNode(n,{src:c,title:s.name,isLoading:!1})}catch(r){throw console.error("Could not process image: ",r),this._editor&&this._removeImageNode(n),r}}get tipTapExtension(){return this._tipTapExtension}_findImageNodeBySrc(e){if(!this._editor||!e)return null;let n=null;return this._editor.state.doc.descendants((t,o)=>t.type.name!=="image"||t.attrs.src!==e||(n={node:t,pos:o},!1)),n}_insertLoadingImage(e,n){const{from:t}=e.state.selection,o=`${n}-${Date.now()}-${Math.random().toString(36).substring(2)}`;return e.chain().command(({tr:r})=>{const s=t||r.doc.content.size;return r.insert(s,[e.schema.nodes.image.create({src:o,originalName:n,title:n,renderMode:sn.collapsed,isLoading:!0}),e.schema.nodes.paragraph.create({text:""})]),!0}).focus("end").run(),o}_updateImageNode(e,n){if(!this._editor)return;const t=this._findImageNodeBySrc(e);t&&this._editor.chain().command(({tr:o})=>(o.setNodeMarkup(t.pos,void 0,{...t.node.attrs,...n}),!0)).run()}_removeImageNode(e){if(!this._editor)return;const n=this._findImageNodeBySrc(e);n&&this._editor.chain().command(({tr:t})=>(t.delete(n.pos,n.pos+n.node.nodeSize),!0)).run()}static hasLoadingImages(e){if(!e)return!1;const n=t=>{var o;if(!t)return!1;if(t.type==="image"&&((o=t.attrs)!=null&&o.isLoading))return!0;if(t.content){if(!Array.isArray(t.content))return!1;for(const r of t.content)if(n(r))return!0}return!1};return n(e)}};te(jr,"IMAGE_PASTE_HANDLER_PLUGIN_KEY",new zf("augment-prosemirror-image-paste-handler"));let Dr=jr;function th(i,e,n){let{maxImages:t}=e,{saveImage:o}=e,{deleteImage:r}=e,{renderImage:s}=e,{isEditable:c=()=>!0}=e,{changeImageMode:a}=e;const l=new Dr({changeImageMode:a,maxImages:t,saveImage:o,deleteImage:r,renderImage:s,isEditable:c}),u=qe(Oi.CONTEXT_KEY).pluginManager.registerPlugin(l);return Ao(u),i.$$set=f=>{"maxImages"in f&&n(0,t=f.maxImages),"saveImage"in f&&n(1,o=f.saveImage),"deleteImage"in f&&n(2,r=f.deleteImage),"renderImage"in f&&n(3,s=f.renderImage),"isEditable"in f&&n(4,c=f.isEditable),"changeImageMode"in f&&n(5,a=f.changeImageMode)},[t,o,r,s,c,a]}let nh=class extends oe{constructor(i){super(),re(this,i,th,null,ne,{maxImages:0,saveImage:1,deleteImage:2,renderImage:3,isEditable:4,changeImageMode:5})}};function Ba(i,e){if(i.length<=e||i.length===0)return i;const n=i.split(`
`),t="... additional lines truncated ..."+(n[0].endsWith("\r")?"\r":"");let o="";if(n.length<2||n[0].length+n[n.length-1].length+t.length>e){const r=Math.floor(e/2);o=[i.slice(0,r),"<...>",i.slice(-r)].join("")}else{const r=[],s=[];let c=t.length+1;for(let a=0;a<Math.floor(n.length/2);a++){const l=n[a],u=n[n.length-1-a],f=l.length+u.length+2;if(c+f>e)break;c+=f,r.push(l),s.push(u)}r.push(t),r.push(...s.reverse()),o=r.join(`
`)}return o}function oh(i){var n;if(!i)return Mr.IMAGE_FORMAT_UNSPECIFIED;switch((n=i.split("/")[1])==null?void 0:n.toLowerCase()){case"jpeg":case"jpg":return Mr.JPEG;case"png":return Mr.PNG;default:return Mr.IMAGE_FORMAT_UNSPECIFIED}}async function rh(i,e,n,t=1024){try{const o=function(s,c,a){const l=atob(s);let u=l.length;const f=new Uint8Array(u);for(;u--;)f[u]=l.charCodeAt(u);return new File([f],c,{type:a})}(i,e,n),r=await Uu(o,t);return new Promise((s,c)=>{const a=new FileReader;a.onloadend=()=>{if(typeof a.result=="string"){const l=a.result.split(","),u=l.length>1?l[1]:a.result;s({dataUrl:u,mimeType:"image/png"})}else c(new Error("Failed to convert blob to data URL"))},a.onerror=l=>{c(new Error("FileReader error"))},a.readAsDataURL(r)})}catch(o){return console.error("Error scaling image:",o),{dataUrl:i,mimeType:n}}}async function ih(i,e=!0){if(!i.contentNodes||i.contentNodes.length===0)return i;const n=await async function(t,o=!0){const r=[];for(const s of t)if(s.type===qo.ContentImage&&s.image_content&&s.image_content.image_data){if(!o)continue;const c=s.image_content.image_data,a=s.image_content.media_type||"image/png",l=`image.${a.split("/")[1]||"png"}`,u=await rh(c,l,a);r.push({type:qo.ContentImage,image_content:{image_data:u.dataUrl,media_type:u.mimeType}})}else r.push(s);return r}(i.contentNodes,e);return{...i,contentNodes:n}}const Hr=class Hr{constructor(e,n,t){te(this,"_disposables",[]);te(this,"_activeTool");te(this,"_activeToolCancelled",!1);te(this,"_processLastExchange",(e,n)=>{var o;const t=(o=n.structured_output_nodes)==null?void 0:o.filter(r=>r.type===qs.TOOL_USE);for(const r of t??[]){const s=r.tool_use;if(s===void 0)continue;const c=this._conversationModel.getToolUseState(e,s.tool_use_id);c.phase===It.new&&this._validateAndCheckTool(e,s.tool_use_id,s.tool_name,JSON.parse(s.input_json),this._conversationModel.chatHistory.filter(a=>Pr(a)).map(bi)),this._markCancelledIfStale(e,s.tool_use_id,c.phase)}});te(this,"_validateAndCheckTool",async(e,n,t,o,r)=>{var l;const s=this._conversationModel.id;if(this._activeTool!==void 0)return void console.error("_validateAndCheckTool called while another tool is active",this._activeTool);this._activeTool={id:n,requestId:e,phase:It.checkingSafety},this._conversationModel.updateToolUseState({requestId:e,toolUseId:n,phase:It.checkingSafety});const c=await this._extensionClient.getToolIdentifier(t);if(!c.found)return this._activeTool=void 0,void this._reportToolError(e,n,`Tool "${t}" does not exist`);if(c.toolIdentifier.hostName===Ys.mcpHost){const u=this._conversationModel.lastExchange;if(u!=null&&u.structured_output_nodes){const f=u.structured_output_nodes.find(g=>{var h;return g.type===qs.TOOL_USE&&((h=g.tool_use)==null?void 0:h.tool_use_id)===n});f!=null&&f.tool_use&&c.mcpToolName&&c.mcpServerName&&(f.tool_use.mcp_server_name=c.mcpServerName,f.tool_use.mcp_tool_name=c.mcpToolName)}}if(ot(this._chatModel.agentExecutionMode)===An.auto&&((l=this._conversationModel.extraData)!=null&&l.isAgentConversation)&&c.toolIdentifier.hostName!==Ys.remoteToolHost)return this._activeTool=void 0,void await this.callTool(e,n,t,o,r,s);const a=await this._extensionClient.checkSafe(t,o);this._activeTool=void 0,a?await this.callTool(e,n,t,o,r,this._conversationModel.id):this._conversationModel.updateToolUseState({requestId:e,toolUseId:n,phase:It.runnable})});te(this,"_reportToolError",(e,n,t)=>{this._conversationModel.updateToolUseState({requestId:e,toolUseId:n,phase:It.error,result:{isError:!0,text:t}}),this._conversationModel.sendExchange({request_message:"",status:kt.draft,structured_request_nodes:[{id:1,type:Bo.TOOL_RESULT,tool_result_node:{content:t,is_error:!0,tool_use_id:n}}]})});te(this,"callTool",async(e,n,t,o,r,s)=>{if(this._activeTool!==void 0)return void console.error("callTool called while another tool is active","tried to run:",n,"active tool:",this._activeTool);this._conversationModel.updateToolUseState({requestId:e,toolUseId:n,phase:It.running}),this._activeTool={id:n,requestId:e,phase:It.running};let c=[];try{const u=function(k,I){if(k.contentNodes&&k.contentNodes.length>0){const _=k.contentNodes.map(T=>{if(T.type===qo.ContentText){let O="";return T.text_content&&(O=Ba(T.text_content,I/k.contentNodes.length)),{...T,text_content:O}}return T});return{...k,contentNodes:_}}return{...k,text:Ba(k.text,I)}}(await this._extensionClient.callTool(e,n,t,o,r,s),Hr.maxResultBytes),f=await ih(u,this._chatModel.flags.enableDebugFeatures);if(this._activeToolCancelled)return this._activeToolCancelled=!1,this._activeTool=void 0,void this._conversationModel.updateToolUseState({requestId:e,toolUseId:n,phase:It.cancelled,result:f});let g,h=f.isError?It.error:It.completed;this._conversationModel.updateToolUseState({requestId:e,toolUseId:n,phase:h,result:f}),f.contentNodes?(a=f.contentNodes,l=this._chatModel.flags.enableDebugFeatures,g=a.map(k=>k.type===qo.ContentText?{type:pi.CONTENT_TEXT,text_content:k.text_content}:k.type===qo.ContentImage&&k.image_content&&l?{type:pi.CONTENT_IMAGE,image_content:{image_data:k.image_content.image_data,format:oh(k.image_content.media_type)}}:{type:pi.CONTENT_TEXT,text_content:"[Error: Invalid content node]"}),c=[{id:1,type:Bo.TOOL_RESULT,tool_result_node:{content:"",is_error:f.isError,request_id:f.requestId,tool_use_id:n,content_nodes:g}}]):c=[{id:1,type:Bo.TOOL_RESULT,tool_result_node:{content:f.text,is_error:f.isError,request_id:f.requestId,tool_use_id:n}}]}catch(u){if(this._activeToolCancelled)return this._activeToolCancelled=!1,this._activeTool=void 0,void this._conversationModel.updateToolUseState({requestId:e,toolUseId:n,phase:It.cancelled});const f=u instanceof Error?u.message:String(u);this._conversationModel.updateToolUseState({requestId:e,toolUseId:n,phase:It.error,result:{isError:!0,text:f}}),c=[{id:1,type:Bo.TOOL_RESULT,tool_result_node:{content:f,is_error:!0,tool_use_id:n}}]}var a,l;this._activeTool=void 0,s===this._conversationModel.id&&this._conversationModel.sendExchange({request_message:"",status:kt.draft,structured_request_nodes:c})});te(this,"cancelToolRun",async(e,n)=>{this._activeTool!==void 0&&this._activeTool.requestId===e&&this._activeTool.id===n?(this._activeTool={id:n,requestId:e,phase:It.cancelling},this._conversationModel.updateToolUseState({requestId:e,toolUseId:n,phase:It.cancelling}),this._activeToolCancelled=!0,await this._extensionClient.cancelToolRun(e,n),this._activeTool=void 0):console.error("cancelToolRun called while another tool is active","tried to cancel:",n,"active tool:",this._activeTool)});te(this,"skipToolRun",async(e,n)=>{this._activeTool===void 0?(this._conversationModel.updateToolUseState({requestId:e,toolUseId:n,phase:It.cancelled}),this._conversationModel.sendExchange({request_message:"",status:kt.draft,structured_request_nodes:[{id:1,type:Bo.TOOL_RESULT,tool_result_node:{content:"Tool did not run. User clicked `Skip` to cancel.",is_error:!0,tool_use_id:n}}]})):console.error("skipToolRun called while another tool is active","tried to cancel:",n,"active tool:",this._activeTool)});te(this,"_markCancelledIfStale",(e,n,t)=>{this._activeTool!==void 0&&this._activeTool.id===n&&this._activeTool.requestId===e||t!==It.new&&t!==It.checkingSafety&&t!==It.cancelling&&t!==It.running||this._conversationModel.updateToolUseState({requestId:e,toolUseId:n,phase:It.cancelled})});te(this,"cancelActiveToolRun",async()=>{this._activeTool!==void 0&&await this.cancelToolRun(this._activeTool.requestId,this._activeTool.id)});te(this,"interruptAllTools",async()=>{of(this._conversationModel),await this.cancelActiveToolRun();const e=this._conversationModel.lastExchange;e&&!rf(e)&&this._conversationModel.addChatItem({request_id:crypto.randomUUID(),status:kt.cancelled,chatItemType:Ln.agenticTurnDelimiter})});te(this,"interruptToolsConversation",async()=>{await this._conversationModel.cancelMessage(),await this.interruptAllTools()});te(this,"dispose",()=>{this._disposables.forEach(e=>e.dispose())});let o;this._conversationModel=e,this._extensionClient=n,this._chatModel=t;const r=this._conversationModel.subscribe(a=>{const l=a.lastExchange;if(Pr(l)&&l.request_id!==void 0){const u=l.request_id;o!==u&&(this._processLastExchange(u,l),o=u)}}),s=this._conversationModel.onNewConversation(()=>{this._extensionClient.closeAllToolProcesses()}),c=this._conversationModel.onHistoryDelete(()=>{this.cancelActiveToolRun()});this._disposables.push({dispose:r},{dispose:s},{dispose:c})}async getToolCallCheckpoint(e){try{return await this._extensionClient.getToolCallCheckpoint(e)}catch(n){return void console.error("Failed to get tool call checkpoint:",n)}}};te(Hr,"maxResultBytes",65536);let Ei=Hr;function sh(i){let e;return{c(){e=F("i"),e.innerHTML='<span class="c-chaser__gradient svelte-1mwwr16"></span>',A(e,"class","c-chaser svelte-1mwwr16"),Ne(e,"c-chaser--active",i[4]),rn(e,"--chaser-color",i[0]),rn(e,"--chaser-speed",i[1]+"s"),rn(e,"--chaser-fade-speed",i[2]+"s"),rn(e,"--chaser-tail-length",i[3]+"%")},m(n,t){M(n,e,t)},p(n,[t]){16&t&&Ne(e,"c-chaser--active",n[4]),1&t&&rn(e,"--chaser-color",n[0]),2&t&&rn(e,"--chaser-speed",n[1]+"s"),4&t&&rn(e,"--chaser-fade-speed",n[2]+"s"),8&t&&rn(e,"--chaser-tail-length",n[3]+"%")},i:N,o:N,d(n){n&&w(e)}}}function ah(i,e,n){let t,{color:o="rgba(255, 255, 255, 0.5)"}=e,{speed:r=4}=e,{repeat:s=1}=e,{startOnMount:c=!1}=e,{fadeSpeed:a=.3}=e,{tailLength:l=5}=e,{onStopChaser:u=()=>{}}=e,f=!1,g=s==="infinite"?1/0:s;function h(){n(4,f=!0),clearTimeout(t),t=setTimeout(()=>{k()},1e3*r*g)}function k(){f&&(n(4,f=!1),clearTimeout(t),u())}return c&&h(),i.$$set=I=>{"color"in I&&n(0,o=I.color),"speed"in I&&n(1,r=I.speed),"repeat"in I&&n(5,s=I.repeat),"startOnMount"in I&&n(6,c=I.startOnMount),"fadeSpeed"in I&&n(2,a=I.fadeSpeed),"tailLength"in I&&n(3,l=I.tailLength),"onStopChaser"in I&&n(7,u=I.onStopChaser)},[o,r,a,l,f,s,c,u,h,k]}class Wu extends oe{constructor(e){super(),re(this,e,ah,sh,ne,{color:0,speed:1,repeat:5,startOnMount:6,fadeSpeed:2,tailLength:3,onStopChaser:7,startChaser:8,stopChaser:9})}get startChaser(){return this.$$.ctx[8]}get stopChaser(){return this.$$.ctx[9]}}function ch(i){let e,n,t=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 512 512"},i[0]],o={};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return{c(){e=Fe("svg"),n=new jt(!0),this.h()},l(r){e=Ht(r,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var s=Ut(e);n=Wt(s,!0),s.forEach(w),this.h()},h(){n.a=null,rt(e,o)},m(r,s){qt(r,e,s),n.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M160 368c26.5 0 48 21.5 48 48v16l72.5-54.4c8.3-6.2 18.4-9.6 28.8-9.6H448c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16zm48 124-.2.2-5.1 3.8-17.1 12.8c-4.8 3.6-11.3 4.2-16.8 1.5s-8.8-8.2-8.8-14.3v-80H64c-35.3 0-64-28.7-64-64V64C0 28.7 28.7 0 64 0h384c35.3 0 64 28.7 64 64v288c0 35.3-28.7 64-64 64H309.3z"/>',e)},p(r,[s]){rt(e,o=wt(t,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 512 512"},1&s&&r[0]]))},i:N,o:N,d(r){r&&w(e)}}}function lh(i,e,n){return i.$$set=t=>{n(0,e=Ee(Ee({},e),et(t)))},[e=et(e)]}class uh extends oe{constructor(e){super(),re(this,e,lh,ch,ne,{})}}function dh(i){let e,n,t=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 640 512"},i[0]],o={};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return{c(){e=Fe("svg"),n=new jt(!0),this.h()},l(r){e=Ht(r,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var s=Ut(e);n=Wt(s,!0),s.forEach(w),this.h()},h(){n.a=null,rt(e,o)},m(r,s){qt(r,e,s),n.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M410.8 134.2c-19.3 8.6-42 3.5-55.9-12.5C332.8 96.1 300.3 80 264 80c-66.3 0-120 53.7-120 120v.2c0 20.4-12.8 38.5-32 45.3-37.4 13.2-64 48.8-64 90.5 0 53 43 96 96 96h363.3c.6-.1 1.3-.1 1.9-.2 46.2-2.7 82.8-41 82.8-87.8 0-36-21.6-67.1-52.8-80.7-20.1-8.8-31.6-30-28.1-51.7.6-3.8.9-7.7.9-11.7 0-39.8-32.2-72-72-72-10.5 0-20.4 2.2-29.2 6.2zM512 479.8v.2H144C64.5 480 0 415.5 0 336c0-62.7 40.1-116 96-135.8v-.2c0-92.8 75.2-168 168-168 50.9 0 96.4 22.6 127.3 58.3C406.2 83.7 422.6 80 440 80c66.3 0 120 53.7 120 120 0 6.6-.5 13-1.5 19.3 48 21 81.5 68.9 81.5 124.7 0 72.4-56.6 131.6-128 135.8"/>',e)},p(r,[s]){rt(e,o=wt(t,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 640 512"},1&s&&r[0]]))},i:N,o:N,d(r){r&&w(e)}}}function fh(i,e,n){return i.$$set=t=>{n(0,e=Ee(Ee({},e),et(t)))},[e=et(e)]}class mh extends oe{constructor(e){super(),re(this,e,fh,dh,ne,{})}}function ph(i){let e,n,t=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 512 512"},i[0]],o={};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return{c(){e=Fe("svg"),n=new jt(!0),this.h()},l(r){e=Ht(r,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var s=Ut(e);n=Wt(s,!0),s.forEach(w),this.h()},h(){n.a=null,rt(e,o)},m(r,s){qt(r,e,s),n.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M322.3 268c9.4 2.6 19.3 4 29.7 4 60.5 0 109.8-48 111.9-108l-25.3 25.3c-12 12-28.3 18.7-45.3 18.7H368c-35.3 0-64-28.7-64-64v-25.4c0-17 6.7-33.3 18.7-45.3L348 48.1c-60 2-108 51.4-108 111.9 0 10.3 1.4 20.3 4 29.7 4.6 16.6-.2 34.4-12.4 46.6L57.1 410.7c-5.9 5.8-9.1 13.8-9.1 22.1C48 450 62 464 79.2 464c8.3 0 16.2-3.3 22.1-9.1l174.4-174.5c12.2-12.2 30-16.9 46.6-12.4M424.6 39.4l-67.9 67.9c-3 3-4.7 7.1-4.7 11.3V144c0 8.8 7.2 16 16 16h25.4c4.2 0 8.3-1.7 11.3-4.7l67.9-67.9c7.2-7.2 19.3-5.9 23.7 3.3 10.1 21 15.7 44.5 15.7 69.3 0 88.4-71.6 160-160 160-14.7 0-28.9-2-42.3-5.7L135.2 488.8a79.09 79.09 0 0 1-56 23.2C35.5 512 0 476.5 0 432.8c0-21 8.3-41.1 23.2-56l174.5-174.5c-3.7-13.4-5.7-27.6-5.7-42.3C192 71.6 263.6 0 352 0c24.8 0 48.3 5.7 69.3 15.7 9.2 4.4 10.5 16.5 3.3 23.7M88 408a16 16 0 1 1 0 32 16 16 0 1 1 0-32"/>',e)},p(r,[s]){rt(e,o=wt(t,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 512 512"},1&s&&r[0]]))},i:N,o:N,d(r){r&&w(e)}}}function $h(i,e,n){return i.$$set=t=>{n(0,e=Ee(Ee({},e),et(t)))},[e=et(e)]}class hh extends oe{constructor(e){super(),re(this,e,$h,ph,ne,{})}}function gh(i){let e,n,t=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 576 512"},i[0]],o={};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return{c(){e=Fe("svg"),n=new jt(!0),this.h()},l(r){e=Ht(r,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var s=Ut(e);n=Wt(s,!0),s.forEach(w),this.h()},h(){n.a=null,rt(e,o)},m(r,s){qt(r,e,s),n.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M234.7 42.7 197 56.8c-3 1.1-5 4-5 7.2s2 6.1 5 7.2l37.7 14.1 14.1 37.7c1.1 3 4 5 7.2 5s6.1-2 7.2-5l14.1-37.7L315 71.2c3-1.1 5-4 5-7.2s-2-6.1-5-7.2l-37.7-14.1L263.2 5c-1.1-3-4-5-7.2-5s-6.1 2-7.2 5zM461.4 48 496 82.6 386.2 192.3l-34.6-34.6zM80 429.4l237.7-237.7 34.6 34.6L114.6 464zM427.4 14.1 46.1 395.4c-18.7 18.7-18.7 49.1 0 67.9l34.6 34.6c18.7 18.7 49.1 18.7 67.9 0l381.3-381.4c18.7-18.7 18.7-49.1 0-67.9l-34.6-34.5c-18.7-18.7-49.1-18.7-67.9 0M7.5 117.2C3 118.9 0 123.2 0 128s3 9.1 7.5 10.8L64 160l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L128 160l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L128 96l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L64 96zm352 256c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L416 416l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L480 416l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L480 352l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L416 352z"/>',e)},p(r,[s]){rt(e,o=wt(t,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 576 512"},1&s&&r[0]]))},i:N,o:N,d(r){r&&w(e)}}}function vh(i,e,n){return i.$$set=t=>{n(0,e=Ee(Ee({},e),et(t)))},[e=et(e)]}class wh extends oe{constructor(e){super(),re(this,e,vh,gh,ne,{})}}function yh(i){let e,n,t,o,r,s;return e=new wh({}),t=new Oe({props:{size:2,$$slots:{default:[Ch]},$$scope:{ctx:i}}}),r=new Oe({props:{size:1,class:"c-mode-secondary-label",$$slots:{default:[Mh]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment),o=U(),y(r.$$.fragment)},m(c,a){b(e,c,a),M(c,n,a),b(t,c,a),M(c,o,a),b(r,c,a),s=!0},i(c){s||(d(e.$$.fragment,c),d(t.$$.fragment,c),d(r.$$.fragment,c),s=!0)},o(c){p(e.$$.fragment,c),p(t.$$.fragment,c),p(r.$$.fragment,c),s=!1},d(c){c&&(w(n),w(o)),x(e,c),x(t,c),x(r,c)}}}function bh(i){let e,n,t,o;return e=new hh({}),t=new Oe({props:{size:2,$$slots:{default:[Ah]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function xh(i){let e,n,t,o;return e=new uh({}),t=new Oe({props:{size:2,$$slots:{default:[kh]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function _h(i){let e,n,t,o;return e=new mh({}),t=new Oe({props:{size:2,$$slots:{default:[Eh]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function Ch(i){let e;return{c(){e=X("Agent")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function Mh(i){let e;return{c(){e=X("Auto")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function Ah(i){let e;return{c(){e=X("Agent")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function kh(i){let e;return{c(){e=X("Chat")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function Eh(i){let e;return{c(){e=X("Remote Agent")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function Ih(i){let e,n,t,o;const r=[_h,xh,bh,yh],s=[];function c(a,l){return a[2]?0:a[0]?a[1]===An.manual?2:a[1]===An.auto?3:-1:1}return~(n=c(i))&&(t=s[n]=r[n](i)),{c(){e=F("div"),t&&t.c(),A(e,"class","c-mode-display svelte-zm754")},m(a,l){M(a,e,l),~n&&s[n].m(e,null),o=!0},p(a,[l]){let u=n;n=c(a),n!==u&&(t&&(K(),p(s[u],1,1,()=>{s[u]=null}),Z()),~n?(t=s[n],t||(t=s[n]=r[n](a),t.c()),d(t,1),t.m(e,null)):t=null)},i(a){o||(d(t),o=!0)},o(a){p(t),o=!1},d(a){a&&w(e),~n&&s[n].d()}}}function Th(i,e,n){let{isAgentEnabled:t=!1}=e,{agentExecutionMode:o}=e,{isBackgroundAgent:r=!1}=e;return i.$$set=s=>{"isAgentEnabled"in s&&n(0,t=s.isAgentEnabled),"agentExecutionMode"in s&&n(1,o=s.agentExecutionMode),"isBackgroundAgent"in s&&n(2,r=s.isBackgroundAgent)},[t,o,r]}class qu extends oe{constructor(e){super(),re(this,e,Th,Ih,ne,{isAgentEnabled:0,agentExecutionMode:1,isBackgroundAgent:2})}}function Lh(i){let e,n,t;return n=new qu({props:{isAgentEnabled:i[2],agentExecutionMode:i[3],isBackgroundAgent:i[6]}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-mode-display-item svelte-e7nc78"),Ne(e,"c-mode-display-item--selected",i[5])},m(o,r){M(o,e,r),b(n,e,null),t=!0},p(o,r){const s={};4&r&&(s.isAgentEnabled=o[2]),8&r&&(s.agentExecutionMode=o[3]),64&r&&(s.isBackgroundAgent=o[6]),n.$set(s),(!t||32&r)&&Ne(e,"c-mode-display-item--selected",o[5])},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function Sh(i){let e,n;return e=new Ae.Item({props:{onSelect:i[0],$$slots:{default:[Lh]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o&&(r.onSelect=t[0]),236&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Rh(i){let e,n,t;return n=new ht({props:{triggerOn:[Pt.Hover],content:i[1],side:i[4],$$slots:{default:[Sh]},$$scope:{ctx:i}}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-mode-display-item-container svelte-e7nc78")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p(o,[r]){const s={};2&r&&(s.content=o[1]),16&r&&(s.side=o[4]),237&r&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function Ph(i,e,n){let{onSelect:t}=e,{tooltipContent:o=""}=e,{isAgentEnabled:r=!1}=e,{agentExecutionMode:s}=e,{tooltipSide:c="top"}=e,{selected:a=!1}=e,{isBackgroundAgent:l=!1}=e;return i.$$set=u=>{"onSelect"in u&&n(0,t=u.onSelect),"tooltipContent"in u&&n(1,o=u.tooltipContent),"isAgentEnabled"in u&&n(2,r=u.isAgentEnabled),"agentExecutionMode"in u&&n(3,s=u.agentExecutionMode),"tooltipSide"in u&&n(4,c=u.tooltipSide),"selected"in u&&n(5,a=u.selected),"isBackgroundAgent"in u&&n(6,l=u.isBackgroundAgent)},[t,o,r,s,c,a,l]}class Tr extends oe{constructor(e){super(),re(this,e,Ph,Rh,ne,{onSelect:0,tooltipContent:1,isAgentEnabled:2,agentExecutionMode:3,tooltipSide:4,selected:5,isBackgroundAgent:6})}}class Or{constructor(e,n,t){this._chatModel=e,this._agentConversationModel=n,this._remoteAgentsModel=t}setToChat(){this._remoteAgentsModel.setIsActive(!1),this._agentConversationModel.setToChat(),this._agentConversationModel.refreshAutoModeAcceptance(),this._chatModel.currentConversationModel.resetTotalCharactersCache()}async setToAgent(e){this._remoteAgentsModel.setIsActive(!1),await this._agentConversationModel.setToAgentic(),this._chatModel.agentExecutionMode.set(e),await this._agentConversationModel.refreshAutoModeAcceptance(),this._chatModel.currentConversationModel.resetTotalCharactersCache()}setToRemoteAgent(e){var n;if(this._remoteAgentsModel.setIsActive(!0),this._agentConversationModel.setToAgentic(),e)this._remoteAgentsModel.setCurrentAgent(e);else if(!((n=this._remoteAgentsModel)!=null&&n.currentAgent)){const t=this._remoteAgentsModel.agentOverviews.length>0?this._remoteAgentsModel.agentOverviews[0]:void 0;t&&this._remoteAgentsModel.setCurrentAgent(t.remote_agent_id)}this._chatModel.currentConversationModel.resetTotalCharactersCache()}handleMessageFromExtension(e){const n=e.data;return n.type===dt.remoteAgentSelectAgentId&&(this.setToRemoteAgent(n.data.agentId),!0)}}te(Or,"key","chatModeModel");function za(i){let e,n;return e=new Wu({props:{startOnMount:!0,repeat:"infinite"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Nh(i){let e,n;return e=new Ko({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Fh(i){let e,n;return e=new fu({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Dh(i){var g;let e,n,t,o,r,s,c,a=i[3]&&za();t=new qu({props:{isAgentEnabled:i[8],agentExecutionMode:i[9],isBackgroundAgent:(g=i[10])==null?void 0:g.isActive}});const l=[Fh,Nh],u=[];function f(h,k){return h[1]?0:1}return r=f(i),s=u[r]=l[r](i),{c(){a&&a.c(),e=U(),n=F("div"),y(t.$$.fragment),o=U(),s.c(),A(n,"class","c-toggle-mode-button__trigger-text")},m(h,k){a&&a.m(h,k),M(h,e,k),M(h,n,k),b(t,n,null),H(n,o),u[r].m(n,null),c=!0},p(h,k){var T;h[3]?a?8&k&&d(a,1):(a=za(),a.c(),d(a,1),a.m(e.parentNode,e)):a&&(K(),p(a,1,1,()=>{a=null}),Z());const I={};256&k&&(I.isAgentEnabled=h[8]),512&k&&(I.agentExecutionMode=h[9]),1024&k&&(I.isBackgroundAgent=(T=h[10])==null?void 0:T.isActive),t.$set(I);let _=r;r=f(h),r!==_&&(K(),p(u[_],1,1,()=>{u[_]=null}),Z(),s=u[r],s||(s=u[r]=l[r](h),s.c()),d(s,1),s.m(n,null))},i(h){c||(d(a),d(t.$$.fragment,h),d(s),c=!0)},o(h){p(a),p(t.$$.fragment,h),p(s),c=!1},d(h){h&&(w(e),w(n)),a&&a.d(h),x(t),u[r].d()}}}function Oh(i){let e,n;return e=new pt({props:{size:1,variant:i[3]?"soft":"ghost",color:"accent",$$slots:{default:[Dh]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};8&o&&(r.variant=t[3]?"soft":"ghost"),134219530&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function ja(i){let e,n;return e=new Tr({props:{onSelect:i[22],isBackgroundAgent:!0,tooltipSide:"right",tooltipContent:"Run background agents in the cloud"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Bh(i){let e,n,t,o,r,s,c,a;e=new Tr({props:{onSelect:i[19],isAgentEnabled:!1,tooltipSide:"right",tooltipContent:"Ask Augment"}}),t=new Tr({props:{onSelect:i[20],isAgentEnabled:!0,agentExecutionMode:An.manual,tooltipSide:"right",tooltipContent:"Require approval for some tools"}}),r=new Tr({props:{onSelect:i[21],isAgentEnabled:!0,agentExecutionMode:An.auto,tooltipSide:"right",tooltipContent:"Autorun all tools"}});let l=i[7]&&ja(i);return{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment),o=U(),y(r.$$.fragment),s=U(),l&&l.c(),c=de()},m(u,f){b(e,u,f),M(u,n,f),b(t,u,f),M(u,o,f),b(r,u,f),M(u,s,f),l&&l.m(u,f),M(u,c,f),a=!0},p(u,f){u[7]?l?(l.p(u,f),128&f&&d(l,1)):(l=ja(u),l.c(),d(l,1),l.m(c.parentNode,c)):l&&(K(),p(l,1,1,()=>{l=null}),Z())},i(u){a||(d(e.$$.fragment,u),d(t.$$.fragment,u),d(r.$$.fragment,u),d(l),a=!0)},o(u){p(e.$$.fragment,u),p(t.$$.fragment,u),p(r.$$.fragment,u),p(l),a=!1},d(u){u&&(w(n),w(o),w(s),w(c)),x(e,u),x(t,u),x(r,u),l&&l.d(u)}}}function zh(i){let e,n,t,o;return e=new Ae.Trigger({props:{$$slots:{default:[Oh]},$$scope:{ctx:i}}}),t=new Ae.Content({props:{size:1,side:"top",align:"start",$$slots:{default:[Bh]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};134219530&s&&(c.$$scope={dirty:s,ctx:r}),e.$set(c);const a={};134217856&s&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function jh(i){let e,n,t,o={onOpenChange:i[12],nested:!1,$$slots:{default:[zh]},$$scope:{ctx:i}};return n=new Ae.Root({props:o}),i[23](n),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-toggle-mode-button svelte-1hoi5c5")},m(r,s){M(r,e,s),b(n,e,null),t=!0},p(r,[s]){const c={};134219658&s&&(c.$$scope={dirty:s,ctx:r}),n.$set(c)},i(r){t||(d(n.$$.fragment,r),t=!0)},o(r){p(n.$$.fragment,r),t=!1},d(r){r&&w(e),i[23](null),x(n)}}}function Hh(i,e,n){let t,o,r,s,c,a,l,u,f,g,h=N,k=N,I=()=>(k(),k=it(O,q=>n(18,l=q)),O),_=N,T=N;i.$$.on_destroy.push(()=>h()),i.$$.on_destroy.push(()=>k()),i.$$.on_destroy.push(()=>_()),i.$$.on_destroy.push(()=>T());let{chatModel:O=qe("chatModel")}=e;I();let{agentConversationModel:B=qe("agentConversationModel")}=e;const z=qe(uo.key);Ze(i,z,q=>n(10,g=q));const fe=qe(Or.key),ye=qe(Nr)??vt(Fr);let ie,le=!1;function Q(){fe.setToChat(),ie==null||ie.requestClose(),be()}async function _e(q){await fe.setToAgent(q),n(3,c=!1),be(),ie==null||ie.requestClose()}function ge(){z?(fe.setToRemoteAgent(),be(),ie==null||ie.requestClose()):console.error("No remote agents model found")}function be(){ye.update(()=>z!=null&&z.isActive?sf:Fr)}return i.$$set=q=>{"chatModel"in q&&I(n(0,O=q.chatModel)),"agentConversationModel"in q&&n(16,B=q.agentConversationModel)},i.$$.update=()=>{262144&i.$$.dirty&&n(7,t=l.flags.enableBackgroundAgents),65536&i.$$.dirty&&(n(6,o=B.isCurrConversationAgentic),_(),_=it(o,q=>n(8,u=q))),262144&i.$$.dirty&&(n(5,r=l.agentExecutionMode),T(),T=it(r,q=>n(9,f=q))),65536&i.$$.dirty&&(n(4,s=B.hasEverUsedAgent),h(),h=it(s,q=>n(17,a=q))),131072&i.$$.dirty&&n(3,c=a===!1)},[O,le,ie,c,s,r,o,t,u,f,g,z,function(q){n(1,le=q)},Q,_e,ge,B,a,l,()=>Q(),()=>_e(An.manual),()=>_e(An.auto),()=>ge(),function(q){ft[q?"unshift":"push"](()=>{ie=q,n(2,ie)})}]}class Uh extends oe{constructor(e){super(),re(this,e,Hh,jh,ne,{chatModel:0,agentConversationModel:16})}}function Wh(i){let e,n,t=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 384 512"},i[0]],o={};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return{c(){e=Fe("svg"),n=new jt(!0),this.h()},l(r){e=Ht(r,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var s=Ut(e);n=Wt(s,!0),s.forEach(w),this.h()},h(){n.a=null,rt(e,o)},m(r,s){qt(r,e,s),n.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="m134.6 51.7-10.8 140.9c-1.1 14.6-8.8 27.8-20.9 36-23.9 16.2-41.8 40.8-49.1 70.3l-1.3 5.1H168v-88c0-13.3 10.7-24 24-24s24 10.7 24 24v88h115.5l-1.3-5.1c-7.4-29.5-25.2-54.1-49.1-70.2-12.1-8.2-19.8-21.5-20.9-36l-10.8-141c-.1-1.2-.1-2.5-.1-3.7H134.8c0 1.2 0 2.5-.1 3.7zM168 352H32c-9.9 0-19.2-4.5-25.2-12.3s-8.2-17.9-5.8-27.5l6.2-25c10.3-41.3 35.4-75.7 68.7-98.3L83.1 96l3.7-48H56c-4.4 0-8.6-1.2-12.2-3.3C36.8 40.5 32 32.8 32 24 32 10.7 42.7 0 56 0h272c13.3 0 24 10.7 24 24 0 8.8-4.8 16.5-11.8 20.7-3.6 2.1-7.7 3.3-12.2 3.3h-30.8l3.7 48 7.1 92.9c33.3 22.6 58.4 57.1 68.7 98.3l6.2 25c2.4 9.6.2 19.7-5.8 27.5S361.7 352 351.9 352h-136v136c0 13.3-10.7 24-24 24s-24-10.7-24-24V352z"/>',e)},p(r,[s]){rt(e,o=wt(t,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 384 512"},1&s&&r[0]]))},i:N,o:N,d(r){r&&w(e)}}}function qh(i,e,n){return i.$$set=t=>{n(0,e=Ee(Ee({},e),et(t)))},[e=et(e)]}let Gh=class extends oe{constructor(i){super(),re(this,i,qh,Wh,ne,{})}};function Vh(i){let e,n,t=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 384 512"},i[0]],o={};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return{c(){e=Fe("svg"),n=new jt(!0),this.h()},l(r){e=Ht(r,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var s=Ut(e);n=Wt(s,!0),s.forEach(w),this.h()},h(){n.a=null,rt(e,o)},m(r,s){qt(r,e,s),n.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M32 32C32 14.3 46.3 0 64 0h256c17.7 0 32 14.3 32 32s-14.3 32-32 32h-29.5l11.4 148.2c36.7 19.9 65.7 53.2 79.5 94.7l1 3c3.3 9.8 1.6 20.5-4.4 28.8S362.3 352 352 352H32c-10.3 0-19.9-4.9-26-13.3s-7.7-19.1-4.4-28.8l1-3c13.8-41.5 42.8-74.8 79.5-94.7L93.5 64H64c-17.7 0-32-14.3-32-32m128 352h64v96c0 17.7-14.3 32-32 32s-32-14.3-32-32z"/>',e)},p(r,[s]){rt(e,o=wt(t,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 384 512"},1&s&&r[0]]))},i:N,o:N,d(r){r&&w(e)}}}function Yh(i,e,n){return i.$$set=t=>{n(0,e=Ee(Ee({},e),et(t)))},[e=et(e)]}class Xh extends oe{constructor(e){super(),re(this,e,Yh,Vh,ne,{})}}function Kh(i){let e,n;return e=new Gh({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Zh(i){let e,n;return e=new Xh({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Qh(i){let e,n,t,o;const r=[Zh,Kh],s=[];function c(a,l){return a[0]?0:1}return n=c(i),t=s[n]=r[n](i),{c(){e=F("span"),t.c(),A(e,"class","c-pin-button svelte-16rnrv4")},m(a,l){M(a,e,l),s[n].m(e,null),o=!0},p(a,l){let u=n;n=c(a),n!==u&&(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),t=s[n],t||(t=s[n]=r[n](a),t.c()),d(t,1),t.m(e,null))},i(a){o||(d(t),o=!0)},o(a){p(t),o=!1},d(a){a&&w(e),s[n].d()}}}function Jh(i){let e,n;return e=new mo.IconButton({props:{color:"neutral",$$slots:{default:[Qh]},$$scope:{ctx:i}}}),e.$on("click",i[3]),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};17&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function eg(i){let e,n;return e=new ht({props:{content:i[2],$$slots:{default:[Jh]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,[o]){const r={};4&o&&(r.content=t[2]),19&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function tg(i,e,n){let{isPinned:t=!1}=e,{onPin:o}=e,{title:r=t?"Unpin":"Pin to context"}=e;return i.$$set=s=>{"isPinned"in s&&n(0,t=s.isPinned),"onPin"in s&&n(1,o=s.onPin),"title"in s&&n(2,r=s.title)},[t,o,r,s=>{s.stopPropagation(),o()}]}class ng extends oe{constructor(e){super(),re(this,e,tg,eg,ne,{isPinned:0,onPin:1,title:2})}}function og(i){let e,n,t=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 576 512"},i[0]],o={};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return{c(){e=Fe("svg"),n=new jt(!0),this.h()},l(r){e=Ht(r,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var s=Ut(e);n=Wt(s,!0),s.forEach(w),this.h()},h(){n.a=null,rt(e,o)},m(r,s){qt(r,e,s),n.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M156 32C100.6 32 48.8 46.6 27.1 53.6 10.3 59 0 74.5 0 91.1v312.4c0 26.1 24 44.2 48 40.2 19.8-3.3 54.8-7.7 100-7.7 54 0 97.5 25.5 112.5 35.6 7.5 5 16.8 8.4 27 8.4 11.5 0 21.6-4.2 29.3-9.9 13.4-9.8 52.3-34.1 111.2-34.1 47.7 0 80.5 4 99 7.2 23.9 4.1 49-13.8 49-40.6V91.1c0-16.5-10.3-32.1-27.1-37.5C527.2 46.6 475.4 32 420 32c-36.8 0-71.8 6.4-97.4 12.7-12.8 3.2-23.5 6.3-30.9 8.7-1.3.4-2.6.8-3.7 1.2-1.1-.4-2.4-.8-3.7-1.2-7.5-2.4-18.1-5.5-30.9-8.7C227.8 38.4 192.8 32 156 32m108 65.3v320.6c-26-13.7-67.2-29.9-116-29.9-42.9 0-77.4 3.7-100 7.1V97.3C70.3 90.6 112.4 80 156 80c31.6 0 62.6 5.6 85.9 11.3 8.6 2.1 16.1 4.2 22.1 6m48 319.2V97.3c6-1.8 13.5-3.9 22.1-6C357.4 85.6 388.4 80 420 80c43.6 0 85.7 10.6 108 17.3v297.4c-21.7-3.3-54.9-6.7-100-6.7-51.4 0-90.8 15-116 28.6z"/>',e)},p(r,[s]){rt(e,o=wt(t,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 576 512"},1&s&&r[0]]))},i:N,o:N,d(r){r&&w(e)}}}function rg(i,e,n){return i.$$set=t=>{n(0,e=Ee(Ee({},e),et(t)))},[e=et(e)]}class ig extends oe{constructor(e){super(),re(this,e,rg,og,ne,{})}}function sg(i){let e,n,t=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 384 512"},i[0]],o={};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return{c(){e=Fe("svg"),n=new jt(!0),this.h()},l(r){e=Ht(r,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var s=Ut(e);n=Wt(s,!0),s.forEach(w),this.h()},h(){n.a=null,rt(e,o)},m(r,s){qt(r,e,s),n.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M320 464c8.8 0 16-7.2 16-16V160h-80c-17.7 0-32-14.3-32-32V48H64c-8.8 0-16 7.2-16 16v384c0 8.8 7.2 16 16 16zM0 64C0 28.7 28.7 0 64 0h165.5c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64z"/>',e)},p(r,[s]){rt(e,o=wt(t,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 384 512"},1&s&&r[0]]))},i:N,o:N,d(r){r&&w(e)}}}function ag(i,e,n){return i.$$set=t=>{n(0,e=Ee(Ee({},e),et(t)))},[e=et(e)]}let Gu=class extends oe{constructor(i){super(),re(this,i,ag,sg,ne,{})}};function cg(i){let e,n,t=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 576 512"},i[0]],o={};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return{c(){e=Fe("svg"),n=new jt(!0),this.h()},l(r){e=Ht(r,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var s=Ut(e);n=Wt(s,!0),s.forEach(w),this.h()},h(){n.a=null,rt(e,o)},m(r,s){qt(r,e,s),n.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M384 480h48c11.4 0 21.9-6 27.6-15.9l112-192c5.8-9.9 5.8-22.1.1-32.1s-16.2-16-27.7-16H144c-11.4 0-21.9 6-27.6 15.9L48 357.1V96c0-8.8 7.2-16 16-16h117.5c4.2 0 8.3 1.7 11.3 4.7l26.5 26.5c21 21 49.5 32.8 79.2 32.8H416c8.8 0 16 7.2 16 16v32h48v-32c0-35.3-28.7-64-64-64H298.5c-17 0-33.3-6.7-45.3-18.7l-26.5-26.6c-12-12-28.3-18.7-45.3-18.7H64C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h23.7z"/>',e)},p(r,[s]){rt(e,o=wt(t,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 576 512"},1&s&&r[0]]))},i:N,o:N,d(r){r&&w(e)}}}function lg(i,e,n){return i.$$set=t=>{n(0,e=Ee(Ee({},e),et(t)))},[e=et(e)]}class ug extends oe{constructor(e){super(),re(this,e,lg,cg,ne,{})}}function dg(i){let e,n,t=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 512 512"},i[0]],o={};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return{c(){e=Fe("svg"),n=new jt(!0),this.h()},l(r){e=Ht(r,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var s=Ut(e);n=Wt(s,!0),s.forEach(w),this.h()},h(){n.a=null,rt(e,o)},m(r,s){qt(r,e,s),n.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H289.9L247 53.1A71.983 71.983 0 0 0 196.1 32zM48 96c0-8.8 7.2-16 16-16h132.1c6.4 0 12.5 2.5 17 7l45.3 45.3c7.5 7.5 17.7 11.7 28.3 11.7H448c8.8 0 16 7.2 16 16v256c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16zm305.2 168.2c6.3-3.6 9.5-11.2 6.8-17.9-1.7-4.3-3.7-8.4-5.9-12.4l-2-3.5c-2.4-4-5.1-7.9-7.9-11.5-4.5-5.7-12.6-6.8-18.9-3.1l-1.2.7c-8 4.6-17.9 3.5-25.9-1.2s-14.1-12.7-14.1-21.9V192c0-7.3-4.9-13.8-12.2-14.8-5.2-.7-10.5-1.1-15.8-1.1s-10.7.4-15.8 1.1c-7.2 1-12.2 7.5-12.2 14.8v1.4c0 9.3-6.1 17.3-14.1 21.9s-17.9 5.8-25.9 1.2l-1.2-.7c-6.3-3.6-14.4-2.6-18.9 3.1-2.9 3.7-5.5 7.5-8 11.5l-2 3.4c-2.2 4-4.2 8.2-5.9 12.5-2.7 6.8.4 14.3 6.8 17.9l1.2.7c8 4.6 12 13.8 12 23.1s-4 18.4-12 23.1l-1.2.7c-6.3 3.6-9.5 11.2-6.8 17.9 1.7 4.3 3.7 8.4 5.9 12.4l2.1 3.6c2.4 4 5 7.8 7.9 11.5 4.5 5.7 12.6 6.8 18.9 3.1l1.2-.7c8-4.6 17.9-3.5 25.9 1.2s14.1 12.7 14.1 21.9v1.4c0 7.3 4.9 13.8 12.2 14.8 5.2.7 10.5 1.1 15.8 1.1s10.7-.4 15.8-1.1c7.2-1 12.2-7.5 12.2-14.8v-1.4c0-9.3 6.1-17.3 14.1-21.9s17.9-5.8 25.9-1.2l1.2.7c6.3 3.6 14.4 2.6 18.9-3.1 2.9-3.6 5.5-7.5 7.9-11.4l2.1-3.6c2.2-4 4.2-8.1 5.9-12.4 2.7-6.8-.4-14.3-6.8-17.9l-1.2-.7c-8-4.6-12-13.8-12-23.1s4-18.5 12-23.1l1.2-.7zM221 288a35 35 0 1 1 70 0 35 35 0 1 1-70 0"/>',e)},p(r,[s]){rt(e,o=wt(t,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 512 512"},1&s&&r[0]]))},i:N,o:N,d(r){r&&w(e)}}}function fg(i,e,n){return i.$$set=t=>{n(0,e=Ee(Ee({},e),et(t)))},[e=et(e)]}class mg extends oe{constructor(e){super(),re(this,e,fg,dg,ne,{})}}function pg(i){let e,n;return e=new ig({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function $g(i){let e,n;return e=new mg({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function hg(i){let e,n;return e=new ug({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function gg(i){let e,n;return e=new Gu({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function vg(i){let e,n,t,o;const r=[gg,hg,$g,pg],s=[];function c(a,l){return a[0]==="file"?0:a[0]==="folder-opened"?1:a[0]==="root-folder"?2:a[0]==="book"?3:-1}return~(e=c(i))&&(n=s[e]=r[e](i)),{c(){n&&n.c(),t=de()},m(a,l){~e&&s[e].m(a,l),M(a,t,l),o=!0},p(a,[l]){let u=e;e=c(a),e!==u&&(n&&(K(),p(s[u],1,1,()=>{s[u]=null}),Z()),~e?(n=s[e],n||(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t)):n=null)},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),~e&&s[e].d(a)}}}function wg(i,e,n){let{icon:t}=e;return i.$$set=o=>{"icon"in o&&n(0,t=o.icon)},[t]}class yg extends oe{constructor(e){super(),re(this,e,wg,vg,ne,{icon:0})}}function Br(i){switch(i){case Ar.DEFAULT:return Xs;case Ar.PROTOTYPER:return Wf;case Ar.BRAINSTORM:return Uf;case Ar.REVIEWER:return Hf;default:return Xs}}function bg(i){let e,n=i[0].label+"";return{c(){e=X(n)},m(t,o){M(t,e,o)},p(t,o){1&o&&n!==(n=t[0].label+"")&&Te(e,n)},i:N,o:N,d(t){t&&w(e)}}}function xg(i){let e,n,t,o,r,s,c,a;return n=new qf({props:{heightPx:32,floatHeight:4,animationDuration:2.25,$$slots:{default:[Tg]},$$scope:{ctx:i}}}),r=new Oe({props:{size:2,weight:"medium",$$slots:{default:[Lg]},$$scope:{ctx:i}}}),c=new Oe({props:{size:1,$$slots:{default:[Sg]},$$scope:{ctx:i}}}),{c(){e=F("div"),y(n.$$.fragment),t=U(),o=F("div"),y(r.$$.fragment),s=U(),y(c.$$.fragment),A(e,"class","c-mention-hover-contents__personality-icon svelte-11069rs"),A(o,"class","c-mention-hover-contents__personality svelte-11069rs")},m(l,u){M(l,e,u),b(n,e,null),M(l,t,u),M(l,o,u),b(r,o,null),H(o,s),b(c,o,null),a=!0},p(l,u){const f={};3&u&&(f.$$scope={dirty:u,ctx:l}),n.$set(f);const g={};3&u&&(g.$$scope={dirty:u,ctx:l}),r.$set(g);const h={};3&u&&(h.$$scope={dirty:u,ctx:l}),c.$set(h)},i(l){a||(d(n.$$.fragment,l),d(r.$$.fragment,l),d(c.$$.fragment,l),a=!0)},o(l){p(n.$$.fragment,l),p(r.$$.fragment,l),p(c.$$.fragment,l),a=!1},d(l){l&&(w(e),w(t),w(o)),x(n),x(r),x(c)}}}function _g(i){var r,s;let e,n,t,o;return e=new xu({}),t=new Gt({props:{filepath:`${i[0].selection.pathName}:L${(r=i[0].selection.fullRange)==null?void 0:r.startLineNumber}-${(s=i[0].selection.fullRange)==null?void 0:s.endLineNumber}`}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(c,a){b(e,c,a),M(c,n,a),b(t,c,a),o=!0},p(c,a){var u,f;const l={};1&a&&(l.filepath=`${c[0].selection.pathName}:L${(u=c[0].selection.fullRange)==null?void 0:u.startLineNumber}-${(f=c[0].selection.fullRange)==null?void 0:f.endLineNumber}`),t.$set(l)},i(c){o||(d(e.$$.fragment,c),d(t.$$.fragment,c),o=!0)},o(c){p(e.$$.fragment,c),p(t.$$.fragment,c),o=!1},d(c){c&&w(n),x(e,c),x(t,c)}}}function Cg(i){let e,n,t=i[0].userGuidelines.overLimit&&Ha(i);return{c(){t&&t.c(),e=de()},m(o,r){t&&t.m(o,r),M(o,e,r),n=!0},p(o,r){o[0].userGuidelines.overLimit?t?(t.p(o,r),1&r&&d(t,1)):(t=Ha(o),t.c(),d(t,1),t.m(e.parentNode,e)):t&&(K(),p(t,1,1,()=>{t=null}),Z())},i(o){n||(d(t),n=!0)},o(o){p(t),n=!1},d(o){o&&w(e),t&&t.d(o)}}}function Mg(i){let e,n,t,o,r,s,c,a;return t=new Gf({}),r=new Gt({props:{class:"c-source-folder-item",filepath:i[0].sourceFolder.folderRoot}}),c=new Vf({props:{class:"guidelines-filespan",sourceFolder:i[0].sourceFolder}}),{c(){e=F("div"),n=F("div"),y(t.$$.fragment),o=U(),y(r.$$.fragment),s=U(),y(c.$$.fragment),A(n,"class","l-source-folder-name svelte-11069rs"),A(e,"class","l-mention-hover-contents__source-folder")},m(l,u){M(l,e,u),H(e,n),b(t,n,null),H(n,o),b(r,n,null),H(e,s),b(c,e,null),a=!0},p(l,u){const f={};1&u&&(f.filepath=l[0].sourceFolder.folderRoot),r.$set(f);const g={};1&u&&(g.sourceFolder=l[0].sourceFolder),c.$set(g)},i(l){a||(d(t.$$.fragment,l),d(r.$$.fragment,l),d(c.$$.fragment,l),a=!0)},o(l){p(t.$$.fragment,l),p(r.$$.fragment,l),p(c.$$.fragment,l),a=!1},d(l){l&&w(e),x(t),x(r),x(c)}}}function Ag(i){let e,n,t,o;return e=new Yf({}),t=new Gt({props:{filepath:i[0].externalSource.name}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};1&s&&(c.filepath=r[0].externalSource.name),t.$set(c)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function kg(i){let e,n,t,o;return e=new au({}),t=new Gt({props:{filepath:i[0].folder.pathName}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};1&s&&(c.filepath=r[0].folder.pathName),t.$set(c)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function Eg(i){let e,n,t,o;return e=new cu({}),t=new Gt({props:{filepath:i[0].recentFile.pathName}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};1&s&&(c.filepath=r[0].recentFile.pathName),t.$set(c)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function Ig(i){let e,n,t,o;return e=new cu({}),t=new Gt({props:{filepath:i[0].file.pathName}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};1&s&&(c.filepath=r[0].file.pathName),t.$set(c)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function Tg(i){let e,n,t;var o=Br(i[0].personality.type);return o&&(e=yn(o,{})),{c(){e&&y(e.$$.fragment),n=de()},m(r,s){e&&b(e,r,s),M(r,n,s),t=!0},p(r,s){if(1&s&&o!==(o=Br(r[0].personality.type))){if(e){K();const c=e;p(c.$$.fragment,1,0,()=>{x(c,1)}),Z()}o?(e=yn(o,{}),y(e.$$.fragment),d(e.$$.fragment,1),b(e,n.parentNode,n)):e=null}},i(r){t||(e&&d(e.$$.fragment,r),t=!0)},o(r){e&&p(e.$$.fragment,r),t=!1},d(r){r&&w(n),e&&x(e,r)}}}function Lg(i){let e,n=i[0].label+"";return{c(){e=X(n)},m(t,o){M(t,e,o)},p(t,o){1&o&&n!==(n=t[0].label+"")&&Te(e,n)},d(t){t&&w(e)}}}function Sg(i){let e,n=i[0].personality.description+"";return{c(){e=X(n)},m(t,o){M(t,e,o)},p(t,o){1&o&&n!==(n=t[0].personality.description+"")&&Te(e,n)},d(t){t&&w(e)}}}function Ha(i){let e,n,t,o;return e=new ln({props:{class:"c-mention-hover-contents__guidelines-warning-icon"}}),t=new Gt({props:{filepath:`Guidelines exceeded length limit of ${i[0].userGuidelines.lengthLimit} characters`}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};1&s&&(c.filepath=`Guidelines exceeded length limit of ${r[0].userGuidelines.lengthLimit} characters`),t.$set(c)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function Rg(i){let e,n,t,o,r,s,c,a,l,u,f,g;const h=[Ig,Eg,kg,Ag,Mg,Cg,_g,xg,bg],k=[];function I(_,T){return 1&T&&(n=null),1&T&&(t=null),1&T&&(o=null),1&T&&(r=null),1&T&&(s=null),1&T&&(c=null),1&T&&(a=null),1&T&&(l=null),n==null&&(n=!(!_[0]||!Li(_[0]))),n?0:(t==null&&(t=!(!_[0]||!Si(_[0]))),t?1:(o==null&&(o=!(!_[0]||!Ri(_[0]))),o?2:(r==null&&(r=!(!_[0]||!Pi(_[0]))),r?3:(s==null&&(s=!(!_[0]||!qr(_[0]))),s?4:(c==null&&(c=!!(_[0]&&Ni(_[0])&&_[0].userGuidelines.enabled)),c?5:(a==null&&(a=!(!_[0]||!Fi(_[0]))),a?6:(l==null&&(l=!(!_[0]||!mu(_[0]))),l?7:8)))))))}return u=I(i,-1),f=k[u]=h[u](i),{c(){e=F("div"),f.c(),A(e,"class","c-mention-hover-contents svelte-11069rs")},m(_,T){M(_,e,T),k[u].m(e,null),g=!0},p(_,[T]){let O=u;u=I(_,T),u===O?k[u].p(_,T):(K(),p(k[O],1,1,()=>{k[O]=null}),Z(),f=k[u],f?f.p(_,T):(f=k[u]=h[u](_),f.c()),d(f,1),f.m(e,null))},i(_){g||(d(f),g=!0)},o(_){p(f),g=!1},d(_){_&&w(e),k[u].d()}}}function Pg(i,e,n){let{option:t}=e;return i.$$set=o=>{"option"in o&&n(0,t=o.option)},[t]}class Qo extends oe{constructor(e){super(),re(this,e,Pg,Rg,ne,{option:0})}}function Ng(i){let e,n,t=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 384 512"},i[0]],o={};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return{c(){e=Fe("svg"),n=new jt(!0),this.h()},l(r){e=Ht(r,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var s=Ut(e);n=Wt(s,!0),s.forEach(w),this.h()},h(){n.a=null,rt(e,o)},m(r,s){qt(r,e,s),n.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M345 137c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-119 119L73 103c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l119 119L39 375c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l119-119L311 409c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-119-119z"/>',e)},p(r,[s]){rt(e,o=wt(t,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 384 512"},1&s&&r[0]]))},i:N,o:N,d(r){r&&w(e)}}}function Fg(i,e,n){return i.$$set=t=>{n(0,e=Ee(Ee({},e),et(t)))},[e=et(e)]}class Vu extends oe{constructor(e){super(),re(this,e,Fg,Ng,ne,{})}}const Dg=i=>({}),Ua=i=>({slot:"chaser"}),Og=i=>({}),Wa=i=>({}),Bg=i=>({}),qa=i=>({slot:"leftButtons"}),zg=i=>({}),Ga=i=>({});function Va(i){let e,n;return e=new Hi({props:{class:"c-pulse-chip-warning-icon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function jg(i){let e,n,t;const o=i[4].default,r=ze(o,i,i[5],null);let s=i[3]&&Va();return{c(){e=F("div"),r&&r.c(),n=U(),s&&s.c(),A(e,"class","c-context-badge__content svelte-gkpz0s")},m(c,a){M(c,e,a),r&&r.m(e,null),H(e,n),s&&s.m(e,null),t=!0},p(c,a){r&&r.p&&(!t||32&a)&&je(r,o,c,c[5],t?Ue(o,c[5],a,null):He(c[5]),null),c[3]?s?8&a&&d(s,1):(s=Va(),s.c(),d(s,1),s.m(e,null)):s&&(K(),p(s,1,1,()=>{s=null}),Z())},i(c){t||(d(r,c),d(s),t=!0)},o(c){p(r,c),p(s),t=!1},d(c){c&&w(e),r&&r.d(c),s&&s.d()}}}function Hg(i){let e;const n=i[4].chaser,t=ze(n,i,i[5],Ua);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||32&r)&&je(t,n,o,o[5],e?Ue(n,o[5],r,Dg):He(o[5]),Ua)},i(o){e||(d(t,o),e=!0)},o(o){p(t,o),e=!1},d(o){t&&t.d(o)}}}function Ug(i){let e;const n=i[4].leftIcon,t=ze(n,i,i[5],Wa),o=t||function(r){let s,c;return s=new Gu({}),{c(){y(s.$$.fragment)},m(a,l){b(s,a,l),c=!0},i(a){c||(d(s.$$.fragment,a),c=!0)},o(a){p(s.$$.fragment,a),c=!1},d(a){x(s,a)}}}();return{c(){o&&o.c()},m(r,s){o&&o.m(r,s),e=!0},p(r,s){t&&t.p&&(!e||32&s)&&je(t,n,r,r[5],e?Ue(n,r[5],s,Og):He(r[5]),Wa)},i(r){e||(d(o,r),e=!0)},o(r){p(o,r),e=!1},d(r){o&&o.d(r)}}}function Wg(i){let e;const n=i[4].leftButtons,t=ze(n,i,i[5],qa),o=t||function(r){let s,c,a;return c=new mo.IconButton({props:{disabled:!0,$$slots:{default:[Ug]},$$scope:{ctx:r}}}),{c(){s=F("div"),y(c.$$.fragment),A(s,"class","c-context-badge__left-icon svelte-gkpz0s")},m(l,u){M(l,s,u),b(c,s,null),a=!0},p(l,u){const f={};32&u&&(f.$$scope={dirty:u,ctx:l}),c.$set(f)},i(l){a||(d(c.$$.fragment,l),a=!0)},o(l){p(c.$$.fragment,l),a=!1},d(l){l&&w(s),x(c)}}}(i);return{c(){o&&o.c()},m(r,s){o&&o.m(r,s),e=!0},p(r,s){t?t.p&&(!e||32&s)&&je(t,n,r,r[5],e?Ue(n,r[5],s,Bg):He(r[5]),qa):o&&o.p&&(!e||32&s)&&o.p(r,e?s:-1)},i(r){e||(d(o,r),e=!0)},o(r){p(o,r),e=!1},d(r){o&&o.d(r)}}}function Ya(i){let e,n;return e=new mo.IconButton({props:{class:"c-context-badge__remove-btn",title:i[2].title,size:i[1],variant:"ghost",color:"neutral",$$slots:{default:[qg]},$$scope:{ctx:i}}}),e.$on("click",function(){yt(i[2].onRemove)&&i[2].onRemove.apply(this,arguments)}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){i=t;const r={};4&o&&(r.title=i[2].title),2&o&&(r.size=i[1]),32&o&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function qg(i){let e,n;return e=new Vu({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Gg(i){let e,n,t;const o=i[4].rightButtons,r=ze(o,i,i[5],Ga);let s=i[2]&&Ya(i);return{c(){r&&r.c(),e=U(),s&&s.c(),n=de()},m(c,a){r&&r.m(c,a),M(c,e,a),s&&s.m(c,a),M(c,n,a),t=!0},p(c,a){r&&r.p&&(!t||32&a)&&je(r,o,c,c[5],t?Ue(o,c[5],a,zg):He(c[5]),Ga),c[2]?s?(s.p(c,a),4&a&&d(s,1)):(s=Ya(c),s.c(),d(s,1),s.m(n.parentNode,n)):s&&(K(),p(s,1,1,()=>{s=null}),Z())},i(c){t||(d(r,c),d(s),t=!0)},o(c){p(r,c),p(s),t=!1},d(c){c&&(w(e),w(n)),r&&r.d(c),s&&s.d(c)}}}function Vg(i){let e,n,t;return n=new mo.Root({props:{color:i[0],size:i[1],$$slots:{rightButtons:[Gg],leftButtons:[Wg],chaser:[Hg],default:[jg]},$$scope:{ctx:i}}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-context-badge svelte-gkpz0s")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p(o,[r]){const s={};1&r&&(s.color=o[0]),2&r&&(s.size=o[1]),46&r&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function Yg(i,e,n){let{$$slots:t={},$$scope:o}=e,{color:r="neutral"}=e,{size:s=1}=e,{removeBtn:c}=e,{showWarning:a}=e;return i.$$set=l=>{"color"in l&&n(0,r=l.color),"size"in l&&n(1,s=l.size),"removeBtn"in l&&n(2,c=l.removeBtn),"showWarning"in l&&n(3,a=l.showWarning),"$$scope"in l&&n(5,o=l.$$scope)},[r,s,c,a,t,o]}class eo extends oe{constructor(e){super(),re(this,e,Yg,Vg,ne,{color:0,size:1,removeBtn:2,showWarning:3})}}function Xg(i){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),A(n,"fill-rule","evenodd"),A(n,"clip-rule","evenodd"),A(n,"d","M7.07095 0.650238C6.67391 0.650238 6.32977 0.925096 6.24198 1.31231L6.0039 2.36247C5.6249 2.47269 5.26335 2.62363 4.92436 2.81013L4.01335 2.23585C3.67748 2.02413 3.23978 2.07312 2.95903 2.35386L2.35294 2.95996C2.0722 3.2407 2.0232 3.6784 2.23493 4.01427L2.80942 4.92561C2.62307 5.2645 2.47227 5.62594 2.36216 6.00481L1.31209 6.24287C0.924883 6.33065 0.650024 6.6748 0.650024 7.07183V7.92897C0.650024 8.32601 0.924883 8.67015 1.31209 8.75794L2.36228 8.99603C2.47246 9.375 2.62335 9.73652 2.80979 10.0755L2.2354 10.9867C2.02367 11.3225 2.07267 11.7602 2.35341 12.041L2.95951 12.6471C3.24025 12.9278 3.67795 12.9768 4.01382 12.7651L4.92506 12.1907C5.26384 12.377 5.62516 12.5278 6.0039 12.6379L6.24198 13.6881C6.32977 14.0753 6.67391 14.3502 7.07095 14.3502H7.92809C8.32512 14.3502 8.66927 14.0753 8.75705 13.6881L8.99505 12.6383C9.37411 12.5282 9.73573 12.3773 10.0748 12.1909L10.986 12.7653C11.3218 12.977 11.7595 12.928 12.0403 12.6473L12.6464 12.0412C12.9271 11.7604 12.9761 11.3227 12.7644 10.9869L12.1902 10.076C12.3768 9.73688 12.5278 9.37515 12.638 8.99596L13.6879 8.75794C14.0751 8.67015 14.35 8.32601 14.35 7.92897V7.07183C14.35 6.6748 14.0751 6.33065 13.6879 6.24287L12.6381 6.00488C12.528 5.62578 12.3771 5.26414 12.1906 4.92507L12.7648 4.01407C12.9766 3.6782 12.9276 3.2405 12.6468 2.95975L12.0407 2.35366C11.76 2.07292 11.3223 2.02392 10.9864 2.23565L10.0755 2.80989C9.73622 2.62328 9.37437 2.47229 8.99505 2.36209L8.75705 1.31231C8.66927 0.925096 8.32512 0.650238 7.92809 0.650238H7.07095ZM4.92053 3.81251C5.44724 3.44339 6.05665 3.18424 6.71543 3.06839L7.07095 1.50024H7.92809L8.28355 3.06816C8.94267 3.18387 9.5524 3.44302 10.0794 3.81224L11.4397 2.9547L12.0458 3.56079L11.1882 4.92117C11.5573 5.44798 11.8164 6.0575 11.9321 6.71638L13.5 7.07183V7.92897L11.932 8.28444C11.8162 8.94342 11.557 9.55301 11.1878 10.0798L12.0453 11.4402L11.4392 12.0462L10.0787 11.1886C9.55192 11.5576 8.94241 11.8166 8.28355 11.9323L7.92809 13.5002H7.07095L6.71543 11.932C6.0569 11.8162 5.44772 11.5572 4.92116 11.1883L3.56055 12.046L2.95445 11.4399L3.81213 10.0794C3.4431 9.55266 3.18403 8.94326 3.06825 8.2845L1.50002 7.92897V7.07183L3.06818 6.71632C3.18388 6.05765 3.44283 5.44833 3.81171 4.92165L2.95398 3.561L3.56008 2.95491L4.92053 3.81251ZM9.02496 7.50008C9.02496 8.34226 8.34223 9.02499 7.50005 9.02499C6.65786 9.02499 5.97513 8.34226 5.97513 7.50008C5.97513 6.65789 6.65786 5.97516 7.50005 5.97516C8.34223 5.97516 9.02496 6.65789 9.02496 7.50008ZM9.92496 7.50008C9.92496 8.83932 8.83929 9.92499 7.50005 9.92499C6.1608 9.92499 5.07513 8.83932 5.07513 7.50008C5.07513 6.16084 6.1608 5.07516 7.50005 5.07516C8.83929 5.07516 9.92496 6.16084 9.92496 7.50008Z"),A(n,"fill","currentColor"),A(e,"width","15"),A(e,"height","15"),A(e,"viewBox","0 0 15 15"),A(e,"fill","none"),A(e,"xmlns","http://www.w3.org/2000/svg")},m(t,o){M(t,e,o),H(e,n)},p:N,i:N,o:N,d(t){t&&w(e)}}}class Kg extends oe{constructor(e){super(),re(this,e,null,Xg,ne,{})}}function Xa(i,e,n){const t=i.slice();return t[1]=e[n],t}function Zg(i){let e;return{c(){e=X("Repos")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function Qg(i){let e,n=i[1].sourceFolderGroup.length+"";return{c(){e=X(n)},m(t,o){M(t,e,o)},p(t,o){2&o&&n!==(n=t[1].sourceFolderGroup.length+"")&&Te(e,n)},d(t){t&&w(e)}}}function Jg(i){let e,n,t;n=new Oe({props:{size:1,$$slots:{default:[Qg]},$$scope:{ctx:i}}});let o=[Od("accent"),{slot:"leftIcon"},{class:"c-multi-repo-chip__count"}],r={};for(let s=0;s<o.length;s+=1)r=Ee(r,o[s]);return{c(){e=F("div"),y(n.$$.fragment),Dd(e,r),Ne(e,"svelte-sqp0vc",!0)},m(s,c){M(s,e,c),b(n,e,null),t=!0},p(s,c){const a={};4098&c&&(a.$$scope={dirty:c,ctx:s}),n.$set(a),Ne(e,"svelte-sqp0vc",!0)},i(s){t||(d(n.$$.fragment,s),t=!0)},o(s){p(n.$$.fragment,s),t=!1},d(s){s&&w(e),x(n)}}}function e0(i){let e,n;return e=new Eo({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function t0(i){let e,n;return e=new mo.IconButton({props:{title:"Open menu",variant:"ghost",color:"neutral",size:1,$$slots:{default:[e0]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4096&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function n0(i){let e;return{c(){e=X("Repos")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function o0(i){let e,n,t=i[1].name+"";return{c(){e=X(t),n=U()},m(o,r){M(o,e,r),M(o,n,r)},p(o,r){4&r&&t!==(t=o[1].name+"")&&Te(e,t)},d(o){o&&(w(e),w(n))}}}function Ka(i){let e,n;return e=new ht({props:{content:"Edit repo instructions",$$slots:{default:[i0]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4100&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function r0(i){let e,n;return e=new Kg({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function i0(i){let e,n;const t=[i[5]];let o={$$slots:{default:[r0]},$$scope:{ctx:i}};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return e=new At({props:o}),e.$on("click",function(){yt(i[1].onEditGuideline)&&i[1].onEditGuideline.apply(this,arguments)}),{c(){y(e.$$.fragment)},m(r,s){b(e,r,s),n=!0},p(r,s){i=r;const c=32&s?wt(t,[Kn(i[5])]):{};4096&s&&(c.$$scope={dirty:s,ctx:i}),e.$set(c)},i(r){n||(d(e.$$.fragment,r),n=!0)},o(r){p(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function s0(i){let e,n;return e=new Xo({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function a0(i){let e,n;const t=[i[5]];let o={$$slots:{default:[s0]},$$scope:{ctx:i}};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return e=new At({props:o}),e.$on("click",function(){yt(i[1].onRemove)&&i[1].onRemove.apply(this,arguments)}),{c(){y(e.$$.fragment)},m(r,s){b(e,r,s),n=!0},p(r,s){i=r;const c=32&s?wt(t,[Kn(i[5])]):{};4096&s&&(c.$$scope={dirty:s,ctx:i}),e.$set(c)},i(r){n||(d(e.$$.fragment,r),n=!0)},o(r){p(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function c0(i){let e,n,t,o,r,s=i[1].onEditGuideline&&Ka(i);return t=new ht({props:{content:"Remove repo from context",$$slots:{default:[a0]},$$scope:{ctx:i}}}),{c(){e=F("div"),s&&s.c(),n=U(),y(t.$$.fragment),o=U(),A(e,"class","c-multi-repo-chip__dropdown-item__actions svelte-sqp0vc"),A(e,"slot","iconRight"),Ne(e,"c-multi-repo-chip__dropdown-item__guideline-space",i[3]&&!i[1].onEditGuideline)},m(c,a){M(c,e,a),s&&s.m(e,null),H(e,n),b(t,e,null),H(e,o),r=!0},p(c,a){c[1].onEditGuideline?s?(s.p(c,a),4&a&&d(s,1)):(s=Ka(c),s.c(),d(s,1),s.m(e,n)):s&&(K(),p(s,1,1,()=>{s=null}),Z());const l={};4100&a&&(l.$$scope={dirty:a,ctx:c}),t.$set(l),(!r||12&a)&&Ne(e,"c-multi-repo-chip__dropdown-item__guideline-space",c[3]&&!c[1].onEditGuideline)},i(c){r||(d(s),d(t.$$.fragment,c),r=!0)},o(c){p(s),p(t.$$.fragment,c),r=!1},d(c){c&&w(e),s&&s.d(),x(t)}}}function Za(i){let e,n;const t=[i[1],{class:"c-multi-repo-chip__dropdown-item"},{highlight:!1},{disabled:!0}];let o={$$slots:{iconRight:[c0],default:[o0]},$$scope:{ctx:i}};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return e=new Ae.Item({props:o}),{c(){y(e.$$.fragment)},m(r,s){b(e,r,s),n=!0},p(r,s){const c=4&s?wt(t,[Kn(r[1]),t[1],t[2],t[3]]):{};4108&s&&(c.$$scope={dirty:s,ctx:r}),e.$set(c)},i(r){n||(d(e.$$.fragment,r),n=!0)},o(r){p(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function l0(i){let e,n,t,o;e=new Ae.Label({props:{$$slots:{default:[n0]},$$scope:{ctx:i}}});let r=ct(i[2]),s=[];for(let a=0;a<r.length;a+=1)s[a]=Za(Xa(i,r,a));const c=a=>p(s[a],1,1,()=>{s[a]=null});return{c(){y(e.$$.fragment),n=U();for(let a=0;a<s.length;a+=1)s[a].c();t=de()},m(a,l){b(e,a,l),M(a,n,l);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(a,l);M(a,t,l),o=!0},p(a,l){const u={};if(4096&l&&(u.$$scope={dirty:l,ctx:a}),e.$set(u),44&l){let f;for(r=ct(a[2]),f=0;f<r.length;f+=1){const g=Xa(a,r,f);s[f]?(s[f].p(g,l),d(s[f],1)):(s[f]=Za(g),s[f].c(),d(s[f],1),s[f].m(t.parentNode,t))}for(K(),f=r.length;f<s.length;f+=1)c(f);Z()}},i(a){if(!o){d(e.$$.fragment,a);for(let l=0;l<r.length;l+=1)d(s[l]);o=!0}},o(a){p(e.$$.fragment,a),s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)p(s[l]);o=!1},d(a){a&&(w(n),w(t)),x(e,a),cn(s,a)}}}function u0(i){let e,n,t,o;return e=new Ae.Trigger({props:{$$slots:{default:[t0]},$$scope:{ctx:i}}}),t=new Ae.Content({props:{$$slots:{default:[l0]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};4096&s&&(c.$$scope={dirty:s,ctx:r}),e.$set(c);const a={};4108&s&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function d0(i){let e,n;return e=new Ae.Root({props:{slot:"rightButtons",$$slots:{default:[u0]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4108&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function f0(i){let e,n;return e=new eo({props:{$$slots:{rightButtons:[d0],leftIcon:[Jg],default:[Zg]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,[o]){const r={};4110&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function m0(i,e,n){let t,o,r,s,c,a=N,l=N,u=()=>(l(),l=it(g,h=>n(6,c=h)),g);i.$$.on_destroy.push(()=>a()),i.$$.on_destroy.push(()=>l());let{item:f}=e,{chatModel:g}=e;return u(),i.$$set=h=>{"item"in h&&n(1,f=h.item),"chatModel"in h&&u(n(0,g=h.chatModel))},i.$$.update=()=>{64&i.$$.dirty&&(n(4,t=c==null?void 0:c.specialContextInputModel),a(),a=it(t,h=>n(7,s=h))),2&i.$$.dirty&&n(2,o=f.sourceFolderGroup.map(h=>({filePath:h.sourceFolder.folderRoot,name:_i(h.sourceFolder.folderRoot),onRemove:()=>{return k=h,s==null||s.markInactive(k),void(s==null?void 0:s.unpin(k));var k},onEditGuideline:!!h.sourceFolder.guidelinesEnabled&&(()=>{return k=h.sourceFolder.folderRoot,void(g==null?void 0:g.extensionClient.openGuidelines(k));var k})}))),4&i.$$.dirty&&n(3,r=o.some(h=>h.onEditGuideline))},[g,f,o,r,t,{size:1,variant:"ghost-block",color:"neutral"},c]}class p0 extends oe{constructor(e){super(),re(this,e,m0,f0,ne,{item:1,chatModel:0})}}function $0(i){let e,n,t,o=(i[0]??"")+"";return{c(){e=F("pre"),n=F("code"),t=X(o),A(e,"class","c-selection-preview__code svelte-mrw7pf")},m(r,s){M(r,e,s),H(e,n),H(n,t)},p(r,s){1&s&&o!==(o=(r[0]??"")+"")&&Te(t,o)},i:N,o:N,d(r){r&&w(e)}}}function h0(i){let e,n,t,o;function r(a){i[5](a)}var s=i[8].default;function c(a,l){let u={text:a[0]??"",options:{automaticLayout:!0,lineNumbers:"off",wrappingIndent:"same",padding:{top:0,bottom:0},wordWrap:"off",contextmenu:!1,wordBasedSuggestions:"off",renderLineHighlight:"none",occurrencesHighlight:"off",selectionHighlight:!1,codeLens:!1,links:!1,hover:{enabled:!1},hideCursorInOverviewRuler:!0,renderWhitespace:"none",renderFinalNewline:"on"}};return a[1]!==void 0&&(u.editorInstance=a[1]),{props:u}}return s&&(e=yn(s,c(i)),ft.push(()=>Zt(e,"editorInstance",r))),{c(){e&&y(e.$$.fragment),t=de()},m(a,l){e&&b(e,a,l),M(a,t,l),o=!0},p(a,l){if(s!==(s=a[8].default)){if(e){K();const u=e;p(u.$$.fragment,1,0,()=>{x(u,1)}),Z()}s?(e=yn(s,c(a)),ft.push(()=>Zt(e,"editorInstance",r)),y(e.$$.fragment),d(e.$$.fragment,1),b(e,t.parentNode,t)):e=null}else if(s){const u={};1&l&&(u.text=a[0]??""),!n&&2&l&&(n=!0,u.editorInstance=a[1],tn(()=>n=!1)),e.$set(u)}},i(a){o||(e&&d(e.$$.fragment,a),o=!0)},o(a){e&&p(e.$$.fragment,a),o=!1},d(a){a&&w(t),e&&x(e,a)}}}function g0(i){let e,n,t,o=(i[0]??"")+"";return{c(){e=F("pre"),n=F("code"),t=X(o),A(e,"class","c-selection-preview__code svelte-mrw7pf")},m(r,s){M(r,e,s),H(e,n),H(n,t)},p(r,s){1&s&&o!==(o=(r[0]??"")+"")&&Te(t,o)},i:N,o:N,d(r){r&&w(e)}}}function v0(i){let e,n,t=i[3]&&function(o){let r,s,c={ctx:o,current:null,token:null,hasCatch:!0,pending:g0,then:h0,catch:$0,value:8,blocks:[,,,]};return Co(o[3],c),{c(){r=de(),c.block.c()},m(a,l){M(a,r,l),c.block.m(a,c.anchor=l),c.mount=()=>r.parentNode,c.anchor=r,s=!0},p(a,l){Vr(c,o=a,l)},i(a){s||(d(c.block),s=!0)},o(a){for(let l=0;l<3;l+=1){const u=c.blocks[l];p(u)}s=!1},d(a){a&&w(r),c.block.d(a),c.token=null,c=null}}}(i);return{c(){e=F("div"),t&&t.c(),A(e,"class","c-selection-hover-contents svelte-mrw7pf"),A(e,"style",i[2])},m(o,r){M(o,e,r),t&&t.m(e,null),n=!0},p(o,[r]){o[3]&&t.p(o,r),(!n||4&r)&&A(e,"style",o[2])},i(o){n||(d(t),n=!0)},o(o){p(t),n=!1},d(o){o&&w(e),t&&t.d()}}}function w0(i,e,n){let{originalCode:t}=e;const o=Yr(()=>import("./index-Bg5k1fBH.js").then(l=>l.aP),__vite__mapDeps([0,1]),import.meta.url);let r,s="",c=!1;const a=async(l,u)=>{n(4,c=!0),n(2,s=`
         width: ${l}px;
         height: min(${u}px, 40vh);
    `)};return i.$$set=l=>{"originalCode"in l&&n(0,t=l.originalCode)},i.$$.update=()=>{2&i.$$.dirty&&(r==null||r.onDidContentSizeChange(l=>a(l.contentWidth,l.contentHeight))),18&i.$$.dirty&&r&&!c&&a(r==null?void 0:r.getContentWidth(),r==null?void 0:r.getContentHeight())},[t,r,s,o,c,function(l){r=l,n(1,r)}]}class y0 extends oe{constructor(e){super(),re(this,e,w0,v0,ne,{originalCode:0})}}function b0(i){let e,n;const t=i[2].default,o=ze(t,i,i[3],null);return{c(){e=X(`Selection
    `),o&&o.c()},m(r,s){M(r,e,s),o&&o.m(r,s),n=!0},p(r,s){o&&o.p&&(!n||8&s)&&je(o,t,r,r[3],n?Ue(t,r[3],s,null):He(r[3]),null)},i(r){n||(d(o,r),n=!0)},o(r){p(o,r),n=!1},d(r){r&&w(e),o&&o.d(r)}}}function x0(i){let e,n;return e=new xu({props:{slot:"leftIcon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function _0(i){let e,n;return e=new eo({props:{color:"info",removeBtn:{title:"Remove selection from context",onRemove:i[1]},$$slots:{leftIcon:[x0],default:[b0]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};2&o&&(r.removeBtn={title:"Remove selection from context",onRemove:t[1]}),8&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function C0(i){let e,n;return e=new y0({props:{slot:"content",originalCode:i[0]}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o&&(r.originalCode=t[0]),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function M0(i){let e,n;return e=new ht({props:{maxWidth:"",$$slots:{content:[C0],default:[_0]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,[o]){const r={};11&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function A0(i,e,n){let{$$slots:t={},$$scope:o}=e,{originalCode:r}=e,{onRemove:s}=e;return i.$$set=c=>{"originalCode"in c&&n(0,r=c.originalCode),"onRemove"in c&&n(1,s=c.onRemove),"$$scope"in c&&n(3,o=c.$$scope)},[r,s,t,o]}class k0 extends oe{constructor(e){super(),re(this,e,A0,M0,ne,{originalCode:0,onRemove:1})}}function Qa(i){let e,n,t,o;const r=[I0,E0],s=[];function c(a,l){return a[2]?0:1}return e=c(i),n=s[e]=r[e](i),{c(){n.c(),t=de()},m(a,l){s[e].m(a,l),M(a,t,l),o=!0},p(a,l){let u=e;e=c(a),e===u?s[e].p(a,l):(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),n=s[e],n?n.p(a,l):(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t))},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),s[e].d(a)}}}function E0(i){let e,n,t,o,r;return n=new eo({props:{$$slots:{leftIcon:[L0],default:[T0]},$$scope:{ctx:i}}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"role","button"),A(e,"tabindex","0"),rn(e,"cursor","pointer")},m(s,c){M(s,e,c),b(n,e,null),t=!0,o||(r=[ke(e,"click",i[3]),ke(e,"keyup",Rn("Enter",i[3]))],o=!0)},p(s,c){const a={};32&c&&(a.$$scope={dirty:c,ctx:s}),n.$set(a)},i(s){t||(d(n.$$.fragment,s),t=!0)},o(s){p(n.$$.fragment,s),t=!1},d(s){s&&w(e),x(n),o=!1,Nt(r)}}}function I0(i){let e,n;return e=new ht({props:{$$slots:{content:[N0],default:[P0]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};33&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function T0(i){let e;return{c(){e=X("User Guidelines")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function L0(i){let e,n;return e=new bf({props:{slot:"leftIcon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function S0(i){let e,n,t;return{c(){e=F("div"),e.textContent="User Guidelines",A(e,"role","button"),A(e,"tabindex","0"),rn(e,"cursor","pointer")},m(o,r){M(o,e,r),n||(t=[ke(e,"click",Uo(i[3])),ke(e,"keyup",Rn("Enter",i[3]))],n=!0)},p:N,d(o){o&&w(e),n=!1,Nt(t)}}}function R0(i){let e,n;return e=new ln({props:{class:"c-user-guidelines-warning-icon",slot:"leftIcon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function P0(i){let e,n;return e=new eo({props:{$$slots:{leftIcon:[R0],default:[S0]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};32&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function N0(i){let e,n;return e=new Qo({props:{option:i[0],slot:"content"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o&&(r.option=t[0]),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function F0(i){let e,n,t=i[1]&&Qa(i);return{c(){t&&t.c(),e=de()},m(o,r){t&&t.m(o,r),M(o,e,r),n=!0},p(o,[r]){o[1]?t?(t.p(o,r),2&r&&d(t,1)):(t=Qa(o),t.c(),d(t,1),t.m(e.parentNode,e)):t&&(K(),p(t,1,1,()=>{t=null}),Z())},i(o){n||(d(t),n=!0)},o(o){p(t),n=!1},d(o){o&&w(e),t&&t.d(o)}}}function D0(i,e,n){let t,o,{item:r}=e;const s=af();return i.$$set=c=>{"item"in c&&n(0,r=c.item)},i.$$.update=()=>{var c;1&i.$$.dirty&&n(2,t=r.showWarning),1&i.$$.dirty&&n(1,o=((c=r.userGuidelines)==null?void 0:c.enabled)??!1)},[r,o,t,function(){s&&s.extensionClient.openSettingsPage("userGuidelines")}]}class O0 extends oe{constructor(e){super(),re(this,e,D0,F0,ne,{item:0})}}var Yu,B0={exports:{}};Yu=()=>(()=>{var i=[,(o,r,s)=>{s.r(r),s.d(r,{default:()=>l});var c,a=(c=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(u={}){var f,g,h=u;function k(){function m(D){const W=E;v=$=0,E=new Map,W.forEach(J=>{try{J(D)}catch(G){console.error(G)}}),this.ob(),L&&L.Tb()}let $=0,v=0,E=new Map,L=null,R=null;this.requestAnimationFrame=function(D){$||($=requestAnimationFrame(m.bind(this)));const W=++v;return E.set(W,D),W},this.cancelAnimationFrame=function(D){E.delete(D),$&&E.size==0&&(cancelAnimationFrame($),$=0)},this.Rb=function(D){R&&(document.body.remove(R),R=null),D||(R=document.createElement("div"),R.style.backgroundColor="black",R.style.position="fixed",R.style.right=0,R.style.top=0,R.style.color="white",R.style.padding="4px",R.innerHTML="RIVE FPS",D=function(W){R.innerHTML="RIVE FPS "+W.toFixed(1)},document.body.appendChild(R)),L=new function(){let W=0,J=0;this.Tb=function(){var G=performance.now();J?(++W,1e3<(G-=J)&&(D(1e3*W/G),W=J=0)):(J=G,W=0)}}},this.Ob=function(){R&&(document.body.remove(R),R=null),L=null},this.ob=function(){}}function I(m){console.assert(!0);const $=new Map;let v=-1/0;this.push=function(E){return E=E+((1<<m)-1)>>m,$.has(E)&&clearTimeout($.get(E)),$.set(E,setTimeout(function(){$.delete(E),$.length==0?v=-1/0:E==v&&(v=Math.max(...$.keys()),console.assert(v<E))},1e3)),v=Math.max(E,v),v<<m}}h.ready=new Promise((m,$)=>{f=m,g=$});const _=h.onRuntimeInitialized;h.onRuntimeInitialized=function(){_&&_();let m=h.decodeAudio;h.decodeAudio=function(L,R){R(L=m(L))};let $=h.decodeFont;h.decodeFont=function(L,R){R(L=$(L))};const v=h.FileAssetLoader;h.ptrToAsset=L=>{let R=h.ptrToFileAsset(L);return R.isImage?h.ptrToImageAsset(L):R.isFont?h.ptrToFontAsset(L):R.isAudio?h.ptrToAudioAsset(L):R},h.CustomFileAssetLoader=v.extend("CustomFileAssetLoader",{__construct:function({loadContents:L}){this.__parent.__construct.call(this),this.Gb=L},loadContents:function(L,R){return L=h.ptrToAsset(L),this.Gb(L,R)}}),h.CDNFileAssetLoader=v.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(L){let R=h.ptrToAsset(L);return(L=R.cdnUuid)!==""&&(D=R.cdnBaseUrl+"/"+L,(W=new XMLHttpRequest).responseType="arraybuffer",W.onreadystatechange=function(){W.readyState==4&&W.status==200&&(J=>{R.decode(new Uint8Array(J.response))})(W)},W.open("GET",D,!0),W.send(null),!0);var D,W}}),h.FallbackFileAssetLoader=v.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.kb=[]},addLoader:function(L){this.kb.push(L)},loadContents:function(L,R){for(let D of this.kb)if(D.loadContents(L,R))return!0;return!1}});let E=h.computeAlignment;h.computeAlignment=function(L,R,D,W,J=1){return E.call(this,L,R,D,W,J)}};const T="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),O=new function(){function m(){if(!$){let st=function(Y,ce,De){if(ce=me.createShader(ce),me.shaderSource(ce,De),me.compileShader(ce),0<((De=me.getShaderInfoLog(ce))||"").length)throw De;me.attachShader(Y,ce)};var xe=document.createElement("canvas"),he={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let me;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(me=xe.getContext("webgl",he),v=1,!me)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(me=xe.getContext("webgl2",he))v=2;else{if(!(me=xe.getContext("webgl",he)))return console.log("No WebGL support. Image mesh will not be drawn."),!1;v=1}if(me=new Proxy(me,{get:(Y,ce)=>Y.isContextLost()?(J||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",ce),J=!0),typeof Y[ce]=="function"?function(){}:void 0):typeof Y[ce]=="function"?function(...De){return Y[ce].apply(Y,De)}:Y[ce],set(Y,ce,De){if(!Y.isContextLost())return Y[ce]=De,!0;J||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+ce),J=!0)}}),E=Math.min(me.getParameter(me.MAX_RENDERBUFFER_SIZE),me.getParameter(me.MAX_TEXTURE_SIZE)),st(xe=me.createProgram(),me.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),st(xe,me.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),me.bindAttribLocation(xe,0,"vertex"),me.bindAttribLocation(xe,1,"uv"),me.linkProgram(xe),0<((he=me.getProgramInfoLog(xe))||"").trim().length)throw he;L=me.getUniformLocation(xe,"mat"),R=me.getUniformLocation(xe,"translate"),me.useProgram(xe),me.bindBuffer(me.ARRAY_BUFFER,me.createBuffer()),me.enableVertexAttribArray(0),me.enableVertexAttribArray(1),me.bindBuffer(me.ELEMENT_ARRAY_BUFFER,me.createBuffer()),me.uniform1i(me.getUniformLocation(xe,"image"),0),me.pixelStorei(me.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),$=me}return!0}let $=null,v=0,E=0,L=null,R=null,D=0,W=0,J=!1;m(),this.hc=function(){return m(),E},this.Mb=function(xe){$.deleteTexture&&$.deleteTexture(xe)},this.Lb=function(xe){if(!m())return null;const he=$.createTexture();return he?($.bindTexture($.TEXTURE_2D,he),$.texImage2D($.TEXTURE_2D,0,$.RGBA,$.RGBA,$.UNSIGNED_BYTE,xe),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_S,$.CLAMP_TO_EDGE),$.texParameteri($.TEXTURE_2D,$.TEXTURE_WRAP_T,$.CLAMP_TO_EDGE),$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,$.LINEAR),v==2?($.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,$.LINEAR_MIPMAP_LINEAR),$.generateMipmap($.TEXTURE_2D)):$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,$.LINEAR),he):null};const G=new I(8),pe=new I(8),$e=new I(10),ve=new I(10);this.Qb=function(xe,he,me,st,Y){if(m()){var ce=G.push(xe),De=pe.push(he);if($.canvas){for(var _t of($.canvas.width==ce&&$.canvas.height==De||($.canvas.width=ce,$.canvas.height=De),$.viewport(0,De-he,xe,he),$.disable($.SCISSOR_TEST),$.clearColor(0,0,0,0),$.clear($.COLOR_BUFFER_BIT),$.enable($.SCISSOR_TEST),me.sort((at,In)=>In.wb-at.wb),ce=$e.push(st),D!=ce&&($.bufferData($.ARRAY_BUFFER,8*ce,$.DYNAMIC_DRAW),D=ce),ce=0,me))$.bufferSubData($.ARRAY_BUFFER,ce,_t.Ta),ce+=4*_t.Ta.length;for(var dn of(console.assert(ce==4*st),me))$.bufferSubData($.ARRAY_BUFFER,ce,dn.Db),ce+=4*dn.Db.length;for(var ro of(console.assert(ce==8*st),ce=ve.push(Y),W!=ce&&($.bufferData($.ELEMENT_ARRAY_BUFFER,2*ce,$.DYNAMIC_DRAW),W=ce),_t=0,me))$.bufferSubData($.ELEMENT_ARRAY_BUFFER,_t,ro.indices),_t+=2*ro.indices.length;console.assert(_t==2*Y),ro=0,dn=!0,ce=_t=0;for(const at of me){at.image.Ka!=ro&&($.bindTexture($.TEXTURE_2D,at.image.Ja||null),ro=at.image.Ka),at.mc?($.scissor(at.Ya,De-at.Za-at.jb,at.Ac,at.jb),dn=!0):dn&&($.scissor(0,De-he,xe,he),dn=!1),me=2/xe;const In=-2/he;$.uniform4f(L,at.ha[0]*me*at.Ba,at.ha[1]*In*at.Ca,at.ha[2]*me*at.Ba,at.ha[3]*In*at.Ca),$.uniform2f(R,at.ha[4]*me*at.Ba+me*(at.Ya-at.ic*at.Ba)-1,at.ha[5]*In*at.Ca+In*(at.Za-at.jc*at.Ca)+1),$.vertexAttribPointer(0,2,$.FLOAT,!1,0,ce),$.vertexAttribPointer(1,2,$.FLOAT,!1,0,ce+4*st),$.drawElements($.TRIANGLES,at.indices.length,$.UNSIGNED_SHORT,_t),ce+=4*at.Ta.length,_t+=2*at.indices.length}console.assert(ce==4*st),console.assert(_t==2*Y)}}},this.canvas=function(){return m()&&$.canvas}},B=h.onRuntimeInitialized;h.onRuntimeInitialized=function(){function m(ae){switch(ae){case G.srcOver:return"source-over";case G.screen:return"screen";case G.overlay:return"overlay";case G.darken:return"darken";case G.lighten:return"lighten";case G.colorDodge:return"color-dodge";case G.colorBurn:return"color-burn";case G.hardLight:return"hard-light";case G.softLight:return"soft-light";case G.difference:return"difference";case G.exclusion:return"exclusion";case G.multiply:return"multiply";case G.hue:return"hue";case G.saturation:return"saturation";case G.color:return"color";case G.luminosity:return"luminosity"}}function $(ae){return"rgba("+((16711680&ae)>>>16)+","+((65280&ae)>>>8)+","+((255&ae)>>>0)+","+((4278190080&ae)>>>24)/255+")"}function v(){0<De.length&&(O.Qb(ce.drawWidth(),ce.drawHeight(),De,_t,dn),De=[],dn=_t=0,ce.reset(512,512));for(const ae of Y){for(const we of ae.H)we();ae.H=[]}Y.clear()}B&&B();var E=h.RenderPaintStyle;const L=h.RenderPath,R=h.RenderPaint,D=h.Renderer,W=h.StrokeCap,J=h.StrokeJoin,G=h.BlendMode,pe=E.fill,$e=E.stroke,ve=h.FillRule.evenOdd;let xe=1;var he=h.RenderImage.extend("CanvasRenderImage",{__construct:function({la:ae,xa:we}={}){this.__parent.__construct.call(this),this.Ka=xe,xe=xe+1&2147483647||1,this.la=ae,this.xa=we},__destruct:function(){this.Ja&&(O.Mb(this.Ja),URL.revokeObjectURL(this.Wa)),this.__parent.__destruct.call(this)},decode:function(ae){var we=this;we.xa&&we.xa(we);var tt=new Image;we.Wa=URL.createObjectURL(new Blob([ae],{type:"image/png"})),tt.onload=function(){we.Fb=tt,we.Ja=O.Lb(tt),we.size(tt.width,tt.height),we.la&&we.la(we)},tt.src=we.Wa}}),me=L.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(ae,we,tt,nt,Ve,lt,ut){var mt=this.T,gn=mt.addPath;ae=ae.T;const Rt=new DOMMatrix;Rt.a=we,Rt.b=tt,Rt.c=nt,Rt.d=Ve,Rt.e=lt,Rt.f=ut,gn.call(mt,ae,Rt)},fillRule:function(ae){this.Va=ae},moveTo:function(ae,we){this.T.moveTo(ae,we)},lineTo:function(ae,we){this.T.lineTo(ae,we)},cubicTo:function(ae,we,tt,nt,Ve,lt){this.T.bezierCurveTo(ae,we,tt,nt,Ve,lt)},close:function(){this.T.closePath()}}),st=R.extend("CanvasRenderPaint",{color:function(ae){this.Xa=$(ae)},thickness:function(ae){this.Ib=ae},join:function(ae){switch(ae){case J.miter:this.Ia="miter";break;case J.round:this.Ia="round";break;case J.bevel:this.Ia="bevel"}},cap:function(ae){switch(ae){case W.butt:this.Ha="butt";break;case W.round:this.Ha="round";break;case W.square:this.Ha="square"}},style:function(ae){this.Hb=ae},blendMode:function(ae){this.Eb=m(ae)},clearGradient:function(){this.ja=null},linearGradient:function(ae,we,tt,nt){this.ja={yb:ae,zb:we,bb:tt,cb:nt,Ra:[]}},radialGradient:function(ae,we,tt,nt){this.ja={yb:ae,zb:we,bb:tt,cb:nt,Ra:[],ec:!0}},addStop:function(ae,we){this.ja.Ra.push({color:ae,stop:we})},completeGradient:function(){},draw:function(ae,we,tt){let nt=this.Hb;var Ve=this.Xa,lt=this.ja;if(ae.globalCompositeOperation=this.Eb,lt!=null){Ve=lt.yb;var ut=lt.zb;const gn=lt.bb;var mt=lt.cb;const Rt=lt.Ra;lt.ec?(lt=gn-Ve,mt-=ut,Ve=ae.createRadialGradient(Ve,ut,0,Ve,ut,Math.sqrt(lt*lt+mt*mt))):Ve=ae.createLinearGradient(Ve,ut,gn,mt);for(let Tn=0,zt=Rt.length;Tn<zt;Tn++)ut=Rt[Tn],Ve.addColorStop(ut.stop,$(ut.color));this.Xa=Ve,this.ja=null}switch(nt){case $e:ae.strokeStyle=Ve,ae.lineWidth=this.Ib,ae.lineCap=this.Ha,ae.lineJoin=this.Ia,ae.stroke(we);break;case pe:ae.fillStyle=Ve,ae.fill(we,tt)}}});const Y=new Set;let ce=null,De=[],_t=0,dn=0;var ro=h.CanvasRenderer=D.extend("Renderer",{__construct:function(ae){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.C=ae.getContext("2d"),this.Ua=ae,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.C.save.bind(this.C))},restore:function(){const ae=this.S.length-6;if(6>ae)throw"restore() called without matching save().";this.S.splice(ae),this.H.push(this.C.restore.bind(this.C))},transform:function(ae,we,tt,nt,Ve,lt){const ut=this.S,mt=ut.length-6;ut.splice(mt,6,ut[mt]*ae+ut[mt+2]*we,ut[mt+1]*ae+ut[mt+3]*we,ut[mt]*tt+ut[mt+2]*nt,ut[mt+1]*tt+ut[mt+3]*nt,ut[mt]*Ve+ut[mt+2]*lt+ut[mt+4],ut[mt+1]*Ve+ut[mt+3]*lt+ut[mt+5]),this.H.push(this.C.transform.bind(this.C,ae,we,tt,nt,Ve,lt))},rotate:function(ae){const we=Math.sin(ae);ae=Math.cos(ae),this.transform(ae,we,-we,ae,0,0)},_drawPath:function(ae,we){this.H.push(we.draw.bind(we,this.C,ae.T,ae.Va===ve?"evenodd":"nonzero"))},_drawRiveImage:function(ae,we,tt){var nt=ae.Fb;if(nt){var Ve=this.C,lt=m(we);this.H.push(function(){Ve.globalCompositeOperation=lt,Ve.globalAlpha=tt,Ve.drawImage(nt,0,0),Ve.globalAlpha=1})}},_getMatrix:function(ae){const we=this.S,tt=we.length-6;for(let nt=0;6>nt;++nt)ae[nt]=we[tt+nt]},_drawImageMesh:function(ae,we,tt,nt,Ve,lt,ut,mt,gn,Rt){var Tn=this.C.canvas.width,zt=this.C.canvas.height;const Ns=gn-ut,Fs=Rt-mt;ut=Math.max(ut,0),mt=Math.max(mt,0),gn=Math.min(gn,Tn),Rt=Math.min(Rt,zt);const Do=gn-ut,Oo=Rt-mt;if(console.assert(Do<=Math.min(Ns,Tn)),console.assert(Oo<=Math.min(Fs,zt)),!(0>=Do||0>=Oo)){gn=Do<Ns||Oo<Fs,Tn=Rt=1;var io=Math.ceil(Do*Rt),so=Math.ceil(Oo*Tn);zt=O.hc(),io>zt&&(Rt*=zt/io,io=zt),so>zt&&(Tn*=zt/so,so=zt),ce||(ce=new h.DynamicRectanizer(zt),ce.reset(512,512)),0>(zt=ce.addRect(io,so))&&(v(),Y.add(this),zt=ce.addRect(io,so),console.assert(0<=zt));var Ds=65535&zt,Os=zt>>16;De.push({ha:this.S.slice(this.S.length-6),image:ae,Ya:Ds,Za:Os,ic:ut,jc:mt,Ac:io,jb:so,Ba:Rt,Ca:Tn,Ta:new Float32Array(nt),Db:new Float32Array(Ve),indices:new Uint16Array(lt),mc:gn,wb:ae.Ka<<1|(gn?1:0)}),_t+=nt.length,dn+=lt.length;var vo=this.C,Td=m(we);this.H.push(function(){vo.save(),vo.resetTransform(),vo.globalCompositeOperation=Td,vo.globalAlpha=tt;const Bs=O.canvas();Bs&&vo.drawImage(Bs,Ds,Os,io,so,ut,mt,Do,Oo),vo.restore()})}},_clipPath:function(ae){this.H.push(this.C.clip.bind(this.C,ae.T,ae.Va===ve?"evenodd":"nonzero"))},clear:function(){Y.add(this),this.H.push(this.C.clearRect.bind(this.C,0,0,this.Ua.width,this.Ua.height))},flush:function(){},translate:function(ae,we){this.transform(1,0,0,1,ae,we)}});h.makeRenderer=function(ae){const we=new ro(ae),tt=we.C;return new Proxy(we,{get(nt,Ve){if(typeof nt[Ve]=="function")return function(...lt){return nt[Ve].apply(nt,lt)};if(typeof tt[Ve]=="function"){if(-1<T.indexOf(Ve))throw Error("RiveException: Method call to '"+Ve+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...lt){we.H.push(tt[Ve].bind(tt,...lt))}}return nt[Ve]},set(nt,Ve,lt){if(Ve in tt)return we.H.push(()=>{tt[Ve]=lt}),!0}})},h.decodeImage=function(ae,we){new he({la:we}).decode(ae)},h.renderFactory={makeRenderPaint:function(){return new st},makeRenderPath:function(){return new me},makeRenderImage:function(){let ae=In;return new he({xa:()=>{ae.total++},la:()=>{if(ae.loaded++,ae.loaded===ae.total){const we=ae.ready;we&&(we(),ae.ready=null)}}})}};let at=h.load,In=null;h.load=function(ae,we,tt=!0){const nt=new h.FallbackFileAssetLoader;return we!==void 0&&nt.addLoader(we),tt&&(we=new h.CDNFileAssetLoader,nt.addLoader(we)),new Promise(function(Ve){let lt=null;In={total:0,loaded:0,ready:function(){Ve(lt)}},lt=at(ae,nt),In.total==0&&Ve(lt)})};let Id=h.RendererWrapper.prototype.align;h.RendererWrapper.prototype.align=function(ae,we,tt,nt,Ve=1){Id.call(this,ae,we,tt,nt,Ve)},E=new k,h.requestAnimationFrame=E.requestAnimationFrame.bind(E),h.cancelAnimationFrame=E.cancelAnimationFrame.bind(E),h.enableFPSCounter=E.Rb.bind(E),h.disableFPSCounter=E.Ob,E.ob=v,h.resolveAnimationFrame=v,h.cleanup=function(){ce&&ce.delete()}};var z,fe,ye=Object.assign({},h),ie="./this.program",le=typeof window=="object",Q=typeof importScripts=="function",_e="";(le||Q)&&(Q?_e=self.location.href:typeof document<"u"&&document.currentScript&&(_e=document.currentScript.src),c&&(_e=c),_e=_e.indexOf("blob:")!==0?_e.substr(0,_e.replace(/[?#].*/,"").lastIndexOf("/")+1):"",Q&&(fe=m=>{var $=new XMLHttpRequest;return $.open("GET",m,!1),$.responseType="arraybuffer",$.send(null),new Uint8Array($.response)}),z=(m,$,v)=>{var E=new XMLHttpRequest;E.open("GET",m,!0),E.responseType="arraybuffer",E.onload=()=>{E.status==200||E.status==0&&E.response?$(E.response):v()},E.onerror=v,E.send(null)});var ge,be=h.print||console.log.bind(console),q=h.printErr||console.error.bind(console);Object.assign(h,ye),ye=null,h.thisProgram&&(ie=h.thisProgram),h.wasmBinary&&(ge=h.wasmBinary),h.noExitRuntime,typeof WebAssembly!="object"&&We("no native wasm support detected");var Pe,Se,Ye,Xe,Ge,bt,Ce,Qe,Lt,$t,Vt=!1;function P(){var m=Pe.buffer;h.HEAP8=Ye=new Int8Array(m),h.HEAP16=Ge=new Int16Array(m),h.HEAP32=Ce=new Int32Array(m),h.HEAPU8=Xe=new Uint8Array(m),h.HEAPU16=bt=new Uint16Array(m),h.HEAPU32=Qe=new Uint32Array(m),h.HEAPF32=Lt=new Float32Array(m),h.HEAPF64=$t=new Float64Array(m)}var C,S=[],j=[],V=[];function se(){var m=h.preRun.shift();S.unshift(m)}var ee,ue=0,Re=null;function We(m){throw h.onAbort&&h.onAbort(m),q(m="Aborted("+m+")"),Vt=!0,m=new WebAssembly.RuntimeError(m+". Build with -sASSERTIONS for more info."),g(m),m}function Le(m){return m.startsWith("data:application/octet-stream;base64,")}if(!Le(ee="canvas_advanced.wasm")){var xt=ee;ee=h.locateFile?h.locateFile(xt,_e):_e+xt}function Ft(m){if(m==ee&&ge)return new Uint8Array(ge);if(fe)return fe(m);throw"both async and sync fetching of the wasm failed"}function Ie(m,$,v){return function(E){if(!ge&&(le||Q)){if(typeof fetch=="function"&&!E.startsWith("file://"))return fetch(E,{credentials:"same-origin"}).then(L=>{if(!L.ok)throw"failed to load wasm binary file at '"+E+"'";return L.arrayBuffer()}).catch(()=>Ft(E));if(z)return new Promise((L,R)=>{z(E,D=>L(new Uint8Array(D)),R)})}return Promise.resolve().then(()=>Ft(E))}(m).then(E=>WebAssembly.instantiate(E,$)).then(E=>E).then(v,E=>{q("failed to asynchronously prepare wasm: "+E),We(E)})}var Dt,Yt,mn={448252:(m,$,v,E,L)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(window.h===void 0){window.h={Aa:0},window.h.I={},window.h.I.ya=m,window.h.I.capture=$,window.h.I.La=v,window.h.ga={},window.h.ga.stopped=E,window.h.ga.xb=L;let R=window.h;R.D=[],R.yc=function(D){for(var W=0;W<R.D.length;++W)if(R.D[W]==null)return R.D[W]=D,W;return R.D.push(D),R.D.length-1},R.Cb=function(D){for(R.D[D]=null;0<R.D.length&&R.D[R.D.length-1]==null;)R.D.pop()},R.Sc=function(D){for(var W=0;W<R.D.length;++W)if(R.D[W]==D)return R.Cb(W)},R.ra=function(D){return R.D[D]},R.Bb=["touchend","click"],R.unlock=function(){for(var D=0;D<R.D.length;++D){var W=R.D[D];W!=null&&W.J!=null&&W.state===R.ga.xb&&W.J.resume().then(()=>{Is(W.pb)},J=>{console.error("Failed to resume audiocontext",J)})}R.Bb.map(function(J){document.removeEventListener(J,R.unlock,!0)})},R.Bb.map(function(D){document.addEventListener(D,R.unlock,!0)})}return window.h.Aa+=1,1},450430:()=>{window.h!==void 0&&(--window.h.Aa,window.h.Aa===0&&delete window.h)},450594:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,450698:()=>{try{var m=new(window.AudioContext||window.webkitAudioContext),$=m.sampleRate;return m.close(),$}catch{return 0}},450869:(m,$,v,E,L,R)=>{if(window.h===void 0)return-1;var D={},W={};return m==window.h.I.ya&&v!=0&&(W.sampleRate=v),D.J=new(window.AudioContext||window.webkitAudioContext)(W),D.J.suspend(),D.state=window.h.ga.stopped,v=0,m!=window.h.I.ya&&(v=$),D.Z=D.J.createScriptProcessor(E,v,$),D.Z.onaudioprocess=function(J){if(D.sa!=null&&D.sa.length!=0||(D.sa=new Float32Array(Lt.buffer,L,E*$)),m==window.h.I.capture||m==window.h.I.La){for(var G=0;G<$;G+=1)for(var pe=J.inputBuffer.getChannelData(G),$e=D.sa,ve=0;ve<E;ve+=1)$e[ve*$+G]=pe[ve];Ts(R,E,L)}if(m==window.h.I.ya||m==window.h.I.La)for(Ls(R,E,L),G=0;G<J.outputBuffer.numberOfChannels;++G)for(pe=J.outputBuffer.getChannelData(G),$e=D.sa,ve=0;ve<E;ve+=1)pe[ve]=$e[ve*$+G];else for(G=0;G<J.outputBuffer.numberOfChannels;++G)J.outputBuffer.getChannelData(G).fill(0)},m!=window.h.I.capture&&m!=window.h.I.La||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(J){D.Da=D.J.createMediaStreamSource(J),D.Da.connect(D.Z),D.Z.connect(D.J.destination)}).catch(function(J){console.log("Failed to get user media: "+J)}),m==window.h.I.ya&&D.Z.connect(D.J.destination),D.pb=R,window.h.yc(D)},453746:m=>window.h.ra(m).J.sampleRate,453819:m=>{(m=window.h.ra(m)).Z!==void 0&&(m.Z.onaudioprocess=function(){},m.Z.disconnect(),m.Z=void 0),m.Da!==void 0&&(m.Da.disconnect(),m.Da=void 0),m.J.close(),m.J=void 0,m.pb=void 0},454219:m=>{window.h.Cb(m)},454269:m=>{(m=window.h.ra(m)).J.resume(),m.state=window.h.ga.xb},454408:m=>{(m=window.h.ra(m)).J.suspend(),m.state=window.h.ga.stopped}},Ot=m=>{for(;0<m.length;)m.shift()(h)},St=(m,$)=>{for(var v=0,E=m.length-1;0<=E;E--){var L=m[E];L==="."?m.splice(E,1):L===".."?(m.splice(E,1),v++):v&&(m.splice(E,1),v--)}if($)for(;v;v--)m.unshift("..");return m},Bt=m=>{var $=m.charAt(0)==="/",v=m.substr(-1)==="/";return(m=St(m.split("/").filter(E=>!!E),!$).join("/"))||$||(m="."),m&&v&&(m+="/"),($?"/":"")+m},Qt=m=>{var $=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(m).slice(1);return m=$[0],$=$[1],m||$?($&&($=$.substr(0,$.length-1)),m+$):"."},gt=m=>{if(m==="/")return"/";var $=(m=(m=Bt(m)).replace(/\/$/,"")).lastIndexOf("/");return $===-1?m:m.substr($+1)},pn=m=>(pn=(()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return $=>crypto.getRandomValues($);We("initRandomDevice")})())(m);function Xt(){for(var m="",$=!1,v=arguments.length-1;-1<=v&&!$;v--){if(typeof($=0<=v?arguments[v]:"/")!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!$)return"";m=$+"/"+m,$=$.charAt(0)==="/"}return($?"/":"")+(m=St(m.split("/").filter(E=>!!E),!$).join("/"))||"."}var Wn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Jt=(m,$,v)=>{var E=$+v;for(v=$;m[v]&&!(v>=E);)++v;if(16<v-$&&m.buffer&&Wn)return Wn.decode(m.subarray($,v));for(E="";$<v;){var L=m[$++];if(128&L){var R=63&m[$++];if((224&L)==192)E+=String.fromCharCode((31&L)<<6|R);else{var D=63&m[$++];65536>(L=(240&L)==224?(15&L)<<12|R<<6|D:(7&L)<<18|R<<12|D<<6|63&m[$++])?E+=String.fromCharCode(L):(L-=65536,E+=String.fromCharCode(55296|L>>10,56320|1023&L))}}else E+=String.fromCharCode(L)}return E},Nn=[],$n=m=>{for(var $=0,v=0;v<m.length;++v){var E=m.charCodeAt(v);127>=E?$++:2047>=E?$+=2:55296<=E&&57343>=E?($+=4,++v):$+=3}return $},nn=(m,$,v,E)=>{if(!(0<E))return 0;var L=v;E=v+E-1;for(var R=0;R<m.length;++R){var D=m.charCodeAt(R);if(55296<=D&&57343>=D&&(D=65536+((1023&D)<<10)|1023&m.charCodeAt(++R)),127>=D){if(v>=E)break;$[v++]=D}else{if(2047>=D){if(v+1>=E)break;$[v++]=192|D>>6}else{if(65535>=D){if(v+2>=E)break;$[v++]=224|D>>12}else{if(v+3>=E)break;$[v++]=240|D>>18,$[v++]=128|D>>12&63}$[v++]=128|D>>6&63}$[v++]=128|63&D}}return $[v]=0,v-L};function Ct(m,$){var v=Array($n(m)+1);return m=nn(m,v,0,v.length),$&&(v.length=m),v}var $o=[];function Vi(m,$){$o[m]={input:[],F:[],V:$},ei(m,ld)}var ld={open:function(m){var $=$o[m.node.za];if(!$)throw new Me(43);m.s=$,m.seekable=!1},close:function(m){m.s.V.qa(m.s)},qa:function(m){m.s.V.qa(m.s)},read:function(m,$,v,E){if(!m.s||!m.s.V.ib)throw new Me(60);for(var L=0,R=0;R<E;R++){try{var D=m.s.V.ib(m.s)}catch{throw new Me(29)}if(D===void 0&&L===0)throw new Me(6);if(D==null)break;L++,$[v+R]=D}return L&&(m.node.timestamp=Date.now()),L},write:function(m,$,v,E){if(!m.s||!m.s.V.Oa)throw new Me(60);try{for(var L=0;L<E;L++)m.s.V.Oa(m.s,$[v+L])}catch{throw new Me(29)}return E&&(m.node.timestamp=Date.now()),L}},ud={ib:function(){e:{if(!Nn.length){var m=null;if(typeof window<"u"&&typeof window.prompt=="function"?(m=window.prompt("Input: "))!==null&&(m+=`
`):typeof readline=="function"&&(m=readline())!==null&&(m+=`
`),!m){m=null;break e}Nn=Ct(m,!0)}m=Nn.shift()}return m},Oa:function(m,$){$===null||$===10?(be(Jt(m.F,0)),m.F=[]):$!=0&&m.F.push($)},qa:function(m){m.F&&0<m.F.length&&(be(Jt(m.F,0)),m.F=[])},bc:function(){return{Fc:25856,Hc:5,Ec:191,Gc:35387,Dc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},cc:function(){return 0},dc:function(){return[24,80]}},dd={Oa:function(m,$){$===null||$===10?(q(Jt(m.F,0)),m.F=[]):$!=0&&m.F.push($)},qa:function(m){m.F&&0<m.F.length&&(q(Jt(m.F,0)),m.F=[])}};function Yi(m,$){var v=m.j?m.j.length:0;v>=$||($=Math.max($,v*(1048576>v?2:1.125)>>>0),v!=0&&($=Math.max($,256)),v=m.j,m.j=new Uint8Array($),0<m.v&&m.j.set(v.subarray(0,m.v),0))}var Xi,Zr,er,tr,Je={O:null,U:()=>Je.createNode(null,"/",16895,0),createNode(m,$,v,E){if((61440&v)==24576||(61440&v)==4096)throw new Me(63);return Je.O||(Je.O={dir:{node:{Y:Je.l.Y,P:Je.l.P,ka:Je.l.ka,va:Je.l.va,ub:Je.l.ub,Ab:Je.l.Ab,vb:Je.l.vb,sb:Je.l.sb,Ea:Je.l.Ea},stream:{ba:Je.m.ba}},file:{node:{Y:Je.l.Y,P:Je.l.P},stream:{ba:Je.m.ba,read:Je.m.read,write:Je.m.write,pa:Je.m.pa,lb:Je.m.lb,nb:Je.m.nb}},link:{node:{Y:Je.l.Y,P:Je.l.P,ma:Je.l.ma},stream:{}},$a:{node:{Y:Je.l.Y,P:Je.l.P},stream:md}}),(61440&(v=es(m,$,v,E)).mode)==16384?(v.l=Je.O.dir.node,v.m=Je.O.dir.stream,v.j={}):(61440&v.mode)==32768?(v.l=Je.O.file.node,v.m=Je.O.file.stream,v.v=0,v.j=null):(61440&v.mode)==40960?(v.l=Je.O.link.node,v.m=Je.O.link.stream):(61440&v.mode)==8192&&(v.l=Je.O.$a.node,v.m=Je.O.$a.stream),v.timestamp=Date.now(),m&&(m.j[$]=v,m.timestamp=v.timestamp),v},Kc:m=>m.j?m.j.subarray?m.j.subarray(0,m.v):new Uint8Array(m.j):new Uint8Array(0),l:{Y(m){var $={};return $.Jc=(61440&m.mode)==8192?m.id:1,$.Mc=m.id,$.mode=m.mode,$.Oc=1,$.uid=0,$.Lc=0,$.za=m.za,(61440&m.mode)==16384?$.size=4096:(61440&m.mode)==32768?$.size=m.v:(61440&m.mode)==40960?$.size=m.link.length:$.size=0,$.Bc=new Date(m.timestamp),$.Nc=new Date(m.timestamp),$.Ic=new Date(m.timestamp),$.Jb=4096,$.Cc=Math.ceil($.size/$.Jb),$},P(m,$){if($.mode!==void 0&&(m.mode=$.mode),$.timestamp!==void 0&&(m.timestamp=$.timestamp),$.size!==void 0&&($=$.size,m.v!=$))if($==0)m.j=null,m.v=0;else{var v=m.j;m.j=new Uint8Array($),v&&m.j.set(v.subarray(0,Math.min($,m.v))),m.v=$}},ka(){throw Jr[44]},va:(m,$,v,E)=>Je.createNode(m,$,v,E),ub(m,$,v){if((61440&m.mode)==16384){try{var E=or($,v)}catch{}if(E)for(var L in E.j)throw new Me(55)}delete m.parent.j[m.name],m.parent.timestamp=Date.now(),m.name=v,$.j[v]=m,$.timestamp=m.parent.timestamp,m.parent=$},Ab(m,$){delete m.j[$],m.timestamp=Date.now()},vb(m,$){var v,E=or(m,$);for(v in E.j)throw new Me(55);delete m.j[$],m.timestamp=Date.now()},sb(m){var $,v=[".",".."];for($ in m.j)m.j.hasOwnProperty($)&&v.push($);return v},Ea:(m,$,v)=>((m=Je.createNode(m,$,41471,0)).link=v,m),ma(m){if((61440&m.mode)!=40960)throw new Me(28);return m.link}},m:{read(m,$,v,E,L){var R=m.node.j;if(L>=m.node.v)return 0;if(8<(m=Math.min(m.node.v-L,E))&&R.subarray)$.set(R.subarray(L,L+m),v);else for(E=0;E<m;E++)$[v+E]=R[L+E];return m},write(m,$,v,E,L,R){if($.buffer===Ye.buffer&&(R=!1),!E)return 0;if((m=m.node).timestamp=Date.now(),$.subarray&&(!m.j||m.j.subarray)){if(R)return m.j=$.subarray(v,v+E),m.v=E;if(m.v===0&&L===0)return m.j=$.slice(v,v+E),m.v=E;if(L+E<=m.v)return m.j.set($.subarray(v,v+E),L),E}if(Yi(m,L+E),m.j.subarray&&$.subarray)m.j.set($.subarray(v,v+E),L);else for(R=0;R<E;R++)m.j[L+R]=$[v+R];return m.v=Math.max(m.v,L+E),E},ba(m,$,v){if(v===1?$+=m.position:v===2&&(61440&m.node.mode)==32768&&($+=m.node.v),0>$)throw new Me(28);return $},pa(m,$,v){Yi(m.node,$+v),m.node.v=Math.max(m.node.v,$+v)},lb(m,$,v,E,L){if((61440&m.node.mode)!=32768)throw new Me(43);if(m=m.node.j,2&L||m.buffer!==Ye.buffer){if((0<v||v+$<m.length)&&(m=m.subarray?m.subarray(v,v+$):Array.prototype.slice.call(m,v,v+$)),v=!0,We(),!($=void 0))throw new Me(48);Ye.set(m,$)}else v=!1,$=m.byteOffset;return{o:$,M:v}},nb:(m,$,v,E)=>(Je.m.write(m,$,0,E,v,!1),0)}},Qr=null,Ki={},nr=[],fd=1,Io=null,Zi=!0,Me=null,Jr={},to=(m,$={})=>{if(!(m=Xt(m)))return{path:"",node:null};if(8<($=Object.assign({gb:!0,Qa:0},$)).Qa)throw new Me(32);m=m.split("/").filter(D=>!!D);for(var v=Qr,E="/",L=0;L<m.length;L++){var R=L===m.length-1;if(R&&$.parent)break;if(v=or(v,m[L]),E=Bt(E+"/"+m[L]),v.wa&&(!R||R&&$.gb)&&(v=v.wa.root),!R||$.fb){for(R=0;(61440&v.mode)==40960;)if(v=pd(E),E=Xt(Qt(E),v),v=to(E,{Qa:$.Qa+1}).node,40<R++)throw new Me(32)}}return{path:E,node:v}},Qi=m=>{for(var $;;){if(m===m.parent)return m=m.U.mb,$?m[m.length-1]!=="/"?`${m}/${$}`:m+$:m;$=$?`${m.name}/${$}`:m.name,m=m.parent}},Ji=(m,$)=>{for(var v=0,E=0;E<$.length;E++)v=(v<<5)-v+$.charCodeAt(E)|0;return(m+v>>>0)%Io.length},or=(m,$)=>{var v;if(v=(v=rr(m,"x"))?v:m.l.ka?0:2)throw new Me(v,m);for(v=Io[Ji(m.id,$)];v;v=v.lc){var E=v.name;if(v.parent.id===m.id&&E===$)return v}return m.l.ka(m,$)},es=(m,$,v,E)=>(m=new As(m,$,v,E),$=Ji(m.parent.id,m.name),m.lc=Io[$],Io[$]=m),ts=m=>{var $=["r","w","rw"][3&m];return 512&m&&($+="w"),$},rr=(m,$)=>Zi?0:!$.includes("r")||292&m.mode?$.includes("w")&&!(146&m.mode)||$.includes("x")&&!(73&m.mode)?2:0:2,ns=(m,$)=>{try{return or(m,$),20}catch{}return rr(m,"wx")},qn=m=>{if(!(m=nr[m]))throw new Me(8);return m},os=(m,$=-1)=>(er||((er=function(){this.h={}}).prototype={},Object.defineProperties(er.prototype,{object:{get(){return this.node},set(v){this.node=v}},flags:{get(){return this.h.flags},set(v){this.h.flags=v}},position:{get(){return this.h.position},set(v){this.h.position=v}}})),m=Object.assign(new er,m),$==-1&&($=(()=>{for(var v=0;4096>=v;v++)if(!nr[v])return v;throw new Me(33)})()),m.X=$,nr[$]=m),md={open:m=>{m.m=Ki[m.node.za].m,m.m.open&&m.m.open(m)},ba:()=>{throw new Me(70)}},ei=(m,$)=>{Ki[m]={m:$}},rs=(m,$)=>{var v=$==="/",E=!$;if(v&&Qr)throw new Me(10);if(!v&&!E){var L=to($,{gb:!1});if($=L.path,(L=L.node).wa)throw new Me(10);if((61440&L.mode)!=16384)throw new Me(54)}$={type:m,Qc:{},mb:$,kc:[]},(m=m.U($)).U=$,$.root=m,v?Qr=m:L&&(L.wa=$,L.U&&L.U.kc.push($))},xn=(m,$,v)=>{var E=to(m,{parent:!0}).node;if(!(m=gt(m))||m==="."||m==="..")throw new Me(28);var L=ns(E,m);if(L)throw new Me(L);if(!E.l.va)throw new Me(63);return E.l.va(E,m,$,v)},ir=(m,$,v)=>{v===void 0&&(v=$,$=438),xn(m,8192|$,v)},ti=(m,$)=>{if(!Xt(m))throw new Me(44);var v=to($,{parent:!0}).node;if(!v)throw new Me(44);$=gt($);var E=ns(v,$);if(E)throw new Me(E);if(!v.l.Ea)throw new Me(63);v.l.Ea(v,$,m)},pd=m=>{if(!(m=to(m).node))throw new Me(44);if(!m.l.ma)throw new Me(28);return Xt(Qi(m.parent),m.l.ma(m))},sr=(m,$,v)=>{if(m==="")throw new Me(44);if(typeof $=="string"){var E={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[$];if(E===void 0)throw Error(`Unknown file open mode: ${$}`);$=E}if(v=64&$?4095&(v===void 0?438:v)|32768:0,typeof m=="object")var L=m;else{m=Bt(m);try{L=to(m,{fb:!(131072&$)}).node}catch{}}if(E=!1,64&$)if(L){if(128&$)throw new Me(20)}else L=xn(m,v,0),E=!0;if(!L)throw new Me(44);if((61440&L.mode)==8192&&($&=-513),65536&$&&(61440&L.mode)!=16384)throw new Me(54);if(!E&&(v=L?(61440&L.mode)==40960?32:(61440&L.mode)==16384&&(ts($)!=="r"||512&$)?31:rr(L,ts($)):44))throw new Me(v);if(512&$&&!E){if(!(v=typeof(v=L)=="string"?to(v,{fb:!0}).node:v).l.P)throw new Me(63);if((61440&v.mode)==16384)throw new Me(31);if((61440&v.mode)!=32768)throw new Me(28);if(E=rr(v,"w"))throw new Me(E);v.l.P(v,{size:0,timestamp:Date.now()})}return $&=-131713,(L=os({node:L,path:Qi(L),flags:$,seekable:!0,position:0,m:L.m,zc:[],error:!1})).m.open&&L.m.open(L),!h.logReadFiles||1&$||(tr||(tr={}),m in tr||(tr[m]=1)),L},is=(m,$,v)=>{if(m.X===null)throw new Me(8);if(!m.seekable||!m.m.ba)throw new Me(70);if(v!=0&&v!=1&&v!=2)throw new Me(28);m.position=m.m.ba(m,$,v),m.zc=[]},ss=()=>{Me||((Me=function(m,$){this.name="ErrnoError",this.node=$,this.pc=function(v){this.aa=v},this.pc(m),this.message="FS error"}).prototype=Error(),Me.prototype.constructor=Me,[44].forEach(m=>{Jr[m]=new Me(m),Jr[m].stack="<generic error, no stack>"}))},To=(m,$,v)=>{m=Bt("/dev/"+m);var E=function(R,D){var W=0;return R&&(W|=365),D&&(W|=146),W}(!!$,!!v);Zr||(Zr=64);var L=Zr++<<8;ei(L,{open:R=>{R.seekable=!1},close:()=>{v&&v.buffer&&v.buffer.length&&v(10)},read:(R,D,W,J)=>{for(var G=0,pe=0;pe<J;pe++){try{var $e=$()}catch{throw new Me(29)}if($e===void 0&&G===0)throw new Me(6);if($e==null)break;G++,D[W+pe]=$e}return G&&(R.node.timestamp=Date.now()),G},write:(R,D,W,J)=>{for(var G=0;G<J;G++)try{v(D[W+G])}catch{throw new Me(29)}return J&&(R.node.timestamp=Date.now()),G}}),ir(m,E,L)},no={},ar=void 0;function Fn(){return Ce[(ar+=4)-4>>2]}function as(m){if(m===void 0)return"_unknown";var $=(m=m.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=$&&57>=$?`_${m}`:m}function cr(m,$){return m=as(m),{[m]:function(){return $.apply(this,arguments)}}[m]}function cs(){this.M=[void 0],this.hb=[]}var hn=new cs,ho=void 0;function Ke(m){throw new ho(m)}var _n=m=>(m||Ke("Cannot use deleted val. handle = "+m),hn.get(m).value),kn=m=>{switch(m){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return hn.pa({tb:1,value:m})}};function ls(m){var $=Error,v=cr(m,function(E){this.name=m,this.message=E,(E=Error(E).stack)!==void 0&&(this.stack=this.toString()+`
`+E.replace(/^Error(:[^\n]*)?\n/,""))});return v.prototype=Object.create($.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},v}var us=void 0,ds=void 0;function Et(m){for(var $="";Xe[m];)$+=ds[Xe[m++]];return $}var Lo=[];function ni(){for(;Lo.length;){var m=Lo.pop();m.g.fa=!1,m.delete()}}var So=void 0,Dn={};function oi(m,$){for($===void 0&&Ke("ptr should not be undefined");m.A;)$=m.na($),m=m.A;return $}var oo={};function fs(m){var $=Et(m=Rs(m));return zn(m),$}function Ro(m,$){var v=oo[m];return v===void 0&&Ke($+" has unknown type "+fs(m)),v}function lr(){}var ri=!1;function ms(m){--m.count.value,m.count.value===0&&(m.G?m.L.W(m.G):m.u.i.W(m.o))}function ps(m,$,v){return $===v?m:v.A===void 0||(m=ps(m,$,v.A))===null?null:v.Pb(m)}var $s={},hs=void 0;function ur(m){throw new hs(m)}function dr(m,$){return $.u&&$.o||ur("makeClassHandle requires ptr and ptrType"),!!$.L!=!!$.G&&ur("Both smartPtrType and smartPtr must be specified"),$.count={value:1},Po(Object.create(m,{g:{value:$}}))}function Po(m){return typeof FinalizationRegistry>"u"?(Po=$=>$,m):(ri=new FinalizationRegistry($=>{ms($.g)}),lr=$=>{ri.unregister($)},(Po=$=>{var v=$.g;return v.G&&ri.register($,{g:v},$),$})(m))}var fr={};function No(m){for(;m.length;){var $=m.pop();m.pop()($)}}function Fo(m){return this.fromWireType(Ce[m>>2])}var go={},mr={};function un(m,$,v){function E(W){(W=v(W)).length!==m.length&&ur("Mismatched type converter count");for(var J=0;J<m.length;++J)En(m[J],W[J])}m.forEach(function(W){mr[W]=$});var L=Array($.length),R=[],D=0;$.forEach((W,J)=>{oo.hasOwnProperty(W)?L[J]=oo[W]:(R.push(W),go.hasOwnProperty(W)||(go[W]=[]),go[W].push(()=>{L[J]=oo[W],++D===R.length&&E(L)}))}),R.length===0&&E(L)}function pr(m){switch(m){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${m}`)}}function En(m,$,v={}){if(!("argPackAdvance"in $))throw new TypeError("registerType registeredInstance requires argPackAdvance");(function(E,L,R={}){var D=L.name;if(E||Ke(`type "${D}" must have a positive integer typeid pointer`),oo.hasOwnProperty(E)){if(R.$b)return;Ke(`Cannot register type '${D}' twice`)}oo[E]=L,delete mr[E],go.hasOwnProperty(E)&&(L=go[E],delete go[E],L.forEach(W=>W()))})(m,$,v)}function ii(m){Ke(m.g.u.i.name+" instance already deleted")}function Gn(){}function si(m,$,v){if(m[$].B===void 0){var E=m[$];m[$]=function(){return m[$].B.hasOwnProperty(arguments.length)||Ke(`Function '${v}' called with an invalid number of arguments (${arguments.length}) - expects one of (${m[$].B})!`),m[$].B[arguments.length].apply(this,arguments)},m[$].B=[],m[$].B[E.ea]=E}}function ai(m,$,v){h.hasOwnProperty(m)?((v===void 0||h[m].B!==void 0&&h[m].B[v]!==void 0)&&Ke(`Cannot register public name '${m}' twice`),si(h,m,m),h.hasOwnProperty(v)&&Ke(`Cannot register multiple overloads of a function with the same number of arguments (${v})!`),h[m].B[v]=$):(h[m]=$,v!==void 0&&(h[m].Pc=v))}function $d(m,$,v,E,L,R,D,W){this.name=m,this.constructor=$,this.N=v,this.W=E,this.A=L,this.Ub=R,this.na=D,this.Pb=W,this.qb=[]}function $r(m,$,v){for(;$!==v;)$.na||Ke(`Expected null or instance of ${v.name}, got an instance of ${$.name}`),m=$.na(m),$=$.A;return m}function hd(m,$){return $===null?(this.Na&&Ke(`null is not a valid ${this.name}`),0):($.g||Ke(`Cannot pass "${li($)}" as a ${this.name}`),$.g.o||Ke(`Cannot pass deleted object as a pointer of type ${this.name}`),$r($.g.o,$.g.u.i,this.i))}function gd(m,$){if($===null){if(this.Na&&Ke(`null is not a valid ${this.name}`),this.ua){var v=this.Pa();return m!==null&&m.push(this.W,v),v}return 0}if($.g||Ke(`Cannot pass "${li($)}" as a ${this.name}`),$.g.o||Ke(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.ta&&$.g.u.ta&&Ke(`Cannot convert argument of type ${$.g.L?$.g.L.name:$.g.u.name} to parameter type ${this.name}`),v=$r($.g.o,$.g.u.i,this.i),this.ua)switch($.g.G===void 0&&Ke("Passing raw pointer to smart pointer is illegal"),this.tc){case 0:$.g.L===this?v=$.g.G:Ke(`Cannot convert argument of type ${$.g.L?$.g.L.name:$.g.u.name} to parameter type ${this.name}`);break;case 1:v=$.g.G;break;case 2:if($.g.L===this)v=$.g.G;else{var E=$.clone();v=this.oc(v,kn(function(){E.delete()})),m!==null&&m.push(this.W,v)}break;default:Ke("Unsupporting sharing policy")}return v}function vd(m,$){return $===null?(this.Na&&Ke(`null is not a valid ${this.name}`),0):($.g||Ke(`Cannot pass "${li($)}" as a ${this.name}`),$.g.o||Ke(`Cannot pass deleted object as a pointer of type ${this.name}`),$.g.u.ta&&Ke(`Cannot convert argument of type ${$.g.u.name} to parameter type ${this.name}`),$r($.g.o,$.g.u.i,this.i))}function On(m,$,v,E){this.name=m,this.i=$,this.Na=v,this.ta=E,this.ua=!1,this.W=this.oc=this.Pa=this.rb=this.tc=this.nc=void 0,$.A!==void 0?this.toWireType=gd:(this.toWireType=E?hd:vd,this.K=null)}function gs(m,$,v){h.hasOwnProperty(m)||ur("Replacing nonexistant public symbol"),h[m].B!==void 0&&v!==void 0?h[m].B[v]=$:(h[m]=$,h[m].ea=v)}var hr=[],vs=m=>{var $=hr[m];return $||(m>=hr.length&&(hr.length=m+1),hr[m]=$=C.get(m)),$};function Kt(m,$){var v=(m=Et(m)).includes("j")?((E,L)=>{var R=[];return function(){if(R.length=0,Object.assign(R,arguments),E.includes("j")){var D=h["dynCall_"+E];D=R&&R.length?D.apply(null,[L].concat(R)):D.call(null,L)}else D=vs(L).apply(null,R);return D}})(m,$):vs($);return typeof v!="function"&&Ke(`unknown function pointer with signature ${m}: ${$}`),v}var ws=void 0;function Bn(m,$){var v=[],E={};throw $.forEach(function L(R){E[R]||oo[R]||(mr[R]?mr[R].forEach(L):(v.push(R),E[R]=!0))}),new ws(`${m}: `+v.map(fs).join([", "]))}function gr(m,$,v,E,L){var R=$.length;2>R&&Ke("argTypes array size mismatch! Must at least get return value and 'this' types!");var D=$[1]!==null&&v!==null,W=!1;for(v=1;v<$.length;++v)if($[v]!==null&&$[v].K===void 0){W=!0;break}var J=$[0].name!=="void",G=R-2,pe=Array(G),$e=[],ve=[];return function(){if(arguments.length!==G&&Ke(`function ${m} called with ${arguments.length} arguments, expected ${G} args!`),ve.length=0,$e.length=D?2:1,$e[0]=L,D){var xe=$[1].toWireType(ve,this);$e[1]=xe}for(var he=0;he<G;++he)pe[he]=$[he+2].toWireType(ve,arguments[he]),$e.push(pe[he]);if(he=E.apply(null,$e),W)No(ve);else for(var me=D?1:2;me<$.length;me++){var st=me===1?xe:pe[me-2];$[me].K!==null&&$[me].K(st)}return xe=J?$[0].fromWireType(he):void 0}}function vr(m,$){for(var v=[],E=0;E<m;E++)v.push(Qe[$+4*E>>2]);return v}function ys(m,$,v){return m instanceof Object||Ke(`${v} with invalid "this": ${m}`),m instanceof $.i.constructor||Ke(`${v} incompatible with "this" of type ${m.constructor.name}`),m.g.o||Ke(`cannot call emscripten binding method ${v} on deleted object`),$r(m.g.o,m.g.u.i,$.i)}function ci(m){m>=hn.h&&--hn.get(m).tb==0&&hn.Zb(m)}function wd(m,$,v){switch($){case 0:return function(E){return this.fromWireType((v?Ye:Xe)[E])};case 1:return function(E){return this.fromWireType((v?Ge:bt)[E>>1])};case 2:return function(E){return this.fromWireType((v?Ce:Qe)[E>>2])};default:throw new TypeError("Unknown integer type: "+m)}}function li(m){if(m===null)return"null";var $=typeof m;return $==="object"||$==="array"||$==="function"?m.toString():""+m}function yd(m,$){switch($){case 2:return function(v){return this.fromWireType(Lt[v>>2])};case 3:return function(v){return this.fromWireType($t[v>>3])};default:throw new TypeError("Unknown float type: "+m)}}function bd(m,$,v){switch($){case 0:return v?function(E){return Ye[E]}:function(E){return Xe[E]};case 1:return v?function(E){return Ge[E>>1]}:function(E){return bt[E>>1]};case 2:return v?function(E){return Ce[E>>2]}:function(E){return Qe[E>>2]};default:throw new TypeError("Unknown integer type: "+m)}}var bs=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,xd=(m,$)=>{for(var v=m>>1,E=v+$/2;!(v>=E)&&bt[v];)++v;if(32<(v<<=1)-m&&bs)return bs.decode(Xe.subarray(m,v));for(v="",E=0;!(E>=$/2);++E){var L=Ge[m+2*E>>1];if(L==0)break;v+=String.fromCharCode(L)}return v},_d=(m,$,v)=>{if(v===void 0&&(v=2147483647),2>v)return 0;var E=$;v=(v-=2)<2*m.length?v/2:m.length;for(var L=0;L<v;++L)Ge[$>>1]=m.charCodeAt(L),$+=2;return Ge[$>>1]=0,$-E},Cd=m=>2*m.length,Md=(m,$)=>{for(var v=0,E="";!(v>=$/4);){var L=Ce[m+4*v>>2];if(L==0)break;++v,65536<=L?(L-=65536,E+=String.fromCharCode(55296|L>>10,56320|1023&L)):E+=String.fromCharCode(L)}return E},Ad=(m,$,v)=>{if(v===void 0&&(v=2147483647),4>v)return 0;var E=$;v=E+v-4;for(var L=0;L<m.length;++L){var R=m.charCodeAt(L);if(55296<=R&&57343>=R&&(R=65536+((1023&R)<<10)|1023&m.charCodeAt(++L)),Ce[$>>2]=R,($+=4)+4>v)break}return Ce[$>>2]=0,$-E},kd=m=>{for(var $=0,v=0;v<m.length;++v){var E=m.charCodeAt(v);55296<=E&&57343>=E&&++v,$+=4}return $},Ed={};function wr(m){var $=Ed[m];return $===void 0?Et(m):$}var ui,yr=[],xs=[],di=[],fi={},_s=()=>{if(!ui){var m,$={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ie||"./this.program"};for(m in fi)fi[m]===void 0?delete $[m]:$[m]=fi[m];var v=[];for(m in $)v.push(`${m}=${$[m]}`);ui=v}return ui},br=m=>m%4==0&&(m%100!=0||m%400==0),Cs=[31,29,31,30,31,30,31,31,30,31,30,31],Ms=[31,28,31,30,31,30,31,31,30,31,30,31];function As(m,$,v,E){m||(m=this),this.parent=m,this.U=m.U,this.wa=null,this.id=fd++,this.name=$,this.mode=v,this.l={},this.m={},this.za=E}Object.defineProperties(As.prototype,{read:{get:function(){return!(365&~this.mode)},set:function(m){m?this.mode|=365:this.mode&=-366}},write:{get:function(){return!(146&~this.mode)},set:function(m){m?this.mode|=146:this.mode&=-147}}}),ss(),Io=Array(4096),rs(Je,"/"),xn("/tmp",16895,0),xn("/home",16895,0),xn("/home/web_user",16895,0),(()=>{xn("/dev",16895,0),ei(259,{read:()=>0,write:(E,L,R,D)=>D}),ir("/dev/null",259),Vi(1280,ud),Vi(1536,dd),ir("/dev/tty",1280),ir("/dev/tty1",1536);var m=new Uint8Array(1024),$=0,v=()=>($===0&&($=pn(m).byteLength),m[--$]);To("random",v),To("urandom",v),xn("/dev/shm",16895,0),xn("/dev/shm/tmp",16895,0)})(),(()=>{xn("/proc",16895,0);var m=xn("/proc/self",16895,0);xn("/proc/self/fd",16895,0),rs({U:()=>{var $=es(m,"fd",16895,73);return $.l={ka:(v,E)=>{var L=qn(+E);return(v={parent:null,U:{mb:"fake"},l:{ma:()=>L.path}}).parent=v}},$}},"/proc/self/fd")})(),Object.assign(cs.prototype,{get(m){return this.M[m]},has(m){return this.M[m]!==void 0},pa(m){var $=this.hb.pop()||this.M.length;return this.M[$]=m,$},Zb(m){this.M[m]=void 0,this.hb.push(m)}}),ho=h.BindingError=class extends Error{constructor(m){super(m),this.name="BindingError"}},hn.M.push({value:void 0},{value:null},{value:!0},{value:!1}),hn.h=hn.M.length,h.count_emval_handles=function(){for(var m=0,$=hn.h;$<hn.M.length;++$)hn.M[$]!==void 0&&++m;return m},us=h.PureVirtualError=ls("PureVirtualError");for(var ks=Array(256),xr=0;256>xr;++xr)ks[xr]=String.fromCharCode(xr);ds=ks,h.getInheritedInstanceCount=function(){return Object.keys(Dn).length},h.getLiveInheritedInstances=function(){var m,$=[];for(m in Dn)Dn.hasOwnProperty(m)&&$.push(Dn[m]);return $},h.flushPendingDeletes=ni,h.setDelayFunction=function(m){So=m,Lo.length&&So&&So(ni)},hs=h.InternalError=class extends Error{constructor(m){super(m),this.name="InternalError"}},Gn.prototype.isAliasOf=function(m){if(!(this instanceof Gn&&m instanceof Gn))return!1;var $=this.g.u.i,v=this.g.o,E=m.g.u.i;for(m=m.g.o;$.A;)v=$.na(v),$=$.A;for(;E.A;)m=E.na(m),E=E.A;return $===E&&v===m},Gn.prototype.clone=function(){if(this.g.o||ii(this),this.g.ia)return this.g.count.value+=1,this;var m=Po,$=Object,v=$.create,E=Object.getPrototypeOf(this),L=this.g;return(m=m(v.call($,E,{g:{value:{count:L.count,fa:L.fa,ia:L.ia,o:L.o,u:L.u,G:L.G,L:L.L}}}))).g.count.value+=1,m.g.fa=!1,m},Gn.prototype.delete=function(){this.g.o||ii(this),this.g.fa&&!this.g.ia&&Ke("Object already scheduled for deletion"),lr(this),ms(this.g),this.g.ia||(this.g.G=void 0,this.g.o=void 0)},Gn.prototype.isDeleted=function(){return!this.g.o},Gn.prototype.deleteLater=function(){return this.g.o||ii(this),this.g.fa&&!this.g.ia&&Ke("Object already scheduled for deletion"),Lo.push(this),Lo.length===1&&So&&So(ni),this.g.fa=!0,this},On.prototype.Vb=function(m){return this.rb&&(m=this.rb(m)),m},On.prototype.ab=function(m){this.W&&this.W(m)},On.prototype.argPackAdvance=8,On.prototype.readValueFromPointer=Fo,On.prototype.deleteObject=function(m){m!==null&&m.delete()},On.prototype.fromWireType=function(m){function $(){return this.ua?dr(this.i.N,{u:this.nc,o:v,L:this,G:m}):dr(this.i.N,{u:this,o:m})}var v=this.Vb(m);if(!v)return this.ab(m),null;var E=function(R,D){return D=oi(R,D),Dn[D]}(this.i,v);if(E!==void 0)return E.g.count.value===0?(E.g.o=v,E.g.G=m,E.clone()):(E=E.clone(),this.ab(m),E);if(E=this.i.Ub(v),!(E=$s[E]))return $.call(this);E=this.ta?E.Kb:E.pointerType;var L=ps(v,this.i,E.i);return L===null?$.call(this):this.ua?dr(E.i.N,{u:E,o:L,L:this,G:m}):dr(E.i.N,{u:E,o:L})},ws=h.UnboundTypeError=ls("UnboundTypeError");var Es={__syscall_fcntl64:function(m,$,v){ar=v;try{var E=qn(m);switch($){case 0:var L=Fn();return 0>L?-28:os(E,L).X;case 1:case 2:case 6:case 7:return 0;case 3:return E.flags;case 4:return L=Fn(),E.flags|=L,0;case 5:return L=Fn(),Ge[L+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return Ce[Ss()>>2]=28,-1}}catch(R){if(no===void 0||R.name!=="ErrnoError")throw R;return-R.aa}},__syscall_ioctl:function(m,$,v){ar=v;try{var E=qn(m);switch($){case 21509:case 21510:case 21511:case 21512:case 21524:case 21515:return E.s?0:-59;case 21505:if(!E.s)return-59;if(E.s.V.bc){$=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var L=Fn();Ce[L>>2]=25856,Ce[L+4>>2]=5,Ce[L+8>>2]=191,Ce[L+12>>2]=35387;for(var R=0;32>R;R++)Ye[L+R+17|0]=$[R]||0}return 0;case 21506:case 21507:case 21508:if(!E.s)return-59;if(E.s.V.cc)for(L=Fn(),$=[],R=0;32>R;R++)$.push(Ye[L+R+17|0]);return 0;case 21519:return E.s?(L=Fn(),Ce[L>>2]=0):-59;case 21520:return E.s?-28:-59;case 21531:if(L=Fn(),!E.m.ac)throw new Me(59);return E.m.ac(E,$,L);case 21523:return E.s?(E.s.V.dc&&(R=[24,80],L=Fn(),Ge[L>>1]=R[0],Ge[L+2>>1]=R[1]),0):-59;default:return-28}}catch(D){if(no===void 0||D.name!=="ErrnoError")throw D;return-D.aa}},__syscall_openat:function(m,$,v,E){ar=E;try{var L=$=$?Jt(Xe,$):"";if(L.charAt(0)==="/")$=L;else{var R=m===-100?"/":qn(m).path;if(L.length==0)throw new Me(44);$=Bt(R+"/"+L)}var D=E?Fn():0;return sr($,v,D).X}catch(W){if(no===void 0||W.name!=="ErrnoError")throw W;return-W.aa}},_embind_create_inheriting_constructor:function(m,$,v){m=Et(m),$=Ro($,"wrapper"),v=_n(v);var E=[].slice,L=$.i,R=L.N,D=L.A.N,W=L.A.constructor;for(var J in m=cr(m,function(){L.A.qb.forEach((function(G){if(this[G]===D[G])throw new us(`Pure virtual function ${G} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:R}),this.__construct.apply(this,E.call(arguments))}),R.__construct=function(){this===R&&Ke("Pass correct 'this' to __construct");var G=W.implement.apply(void 0,[this].concat(E.call(arguments)));lr(G);var pe=G.g;G.notifyOnDestruction(),pe.ia=!0,Object.defineProperties(this,{g:{value:pe}}),Po(this),G=pe.o,G=oi(L,G),Dn.hasOwnProperty(G)?Ke(`Tried to register registered instance: ${G}`):Dn[G]=this},R.__destruct=function(){this===R&&Ke("Pass correct 'this' to __destruct"),lr(this);var G=this.g.o;G=oi(L,G),Dn.hasOwnProperty(G)?delete Dn[G]:Ke(`Tried to unregister unregistered instance: ${G}`)},m.prototype=Object.create(R),v)m.prototype[J]=v[J];return kn(m)},_embind_finalize_value_object:function(m){var $=fr[m];delete fr[m];var v=$.Pa,E=$.W,L=$.eb;un([m],L.map(R=>R.Yb).concat(L.map(R=>R.rc)),R=>{var D={};return L.forEach((W,J)=>{var G=R[J],pe=W.Wb,$e=W.Xb,ve=R[J+L.length],xe=W.qc,he=W.sc;D[W.Sb]={read:me=>G.fromWireType(pe($e,me)),write:(me,st)=>{var Y=[];xe(he,me,ve.toWireType(Y,st)),No(Y)}}}),[{name:$.name,fromWireType:function(W){var J,G={};for(J in D)G[J]=D[J].read(W);return E(W),G},toWireType:function(W,J){for(var G in D)if(!(G in J))throw new TypeError(`Missing field: "${G}"`);var pe=v();for(G in D)D[G].write(pe,J[G]);return W!==null&&W.push(E,pe),pe},argPackAdvance:8,readValueFromPointer:Fo,K:E}]})},_embind_register_bigint:function(){},_embind_register_bool:function(m,$,v,E,L){var R=pr(v);En(m,{name:$=Et($),fromWireType:function(D){return!!D},toWireType:function(D,W){return W?E:L},argPackAdvance:8,readValueFromPointer:function(D){if(v===1)var W=Ye;else if(v===2)W=Ge;else{if(v!==4)throw new TypeError("Unknown boolean type size: "+$);W=Ce}return this.fromWireType(W[D>>R])},K:null})},_embind_register_class:function(m,$,v,E,L,R,D,W,J,G,pe,$e,ve){pe=Et(pe),R=Kt(L,R),W&&(W=Kt(D,W)),G&&(G=Kt(J,G)),ve=Kt($e,ve);var xe=as(pe);ai(xe,function(){Bn(`Cannot construct ${pe} due to unbound types`,[E])}),un([m,$,v],E?[E]:[],function(he){if(he=he[0],E)var me=he.i,st=me.N;else st=Gn.prototype;he=cr(xe,function(){if(Object.getPrototypeOf(this)!==Y)throw new ho("Use 'new' to construct "+pe);if(ce.$===void 0)throw new ho(pe+" has no accessible constructor");var _t=ce.$[arguments.length];if(_t===void 0)throw new ho(`Tried to invoke ctor of ${pe} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(ce.$).toString()}) parameters instead!`);return _t.apply(this,arguments)});var Y=Object.create(st,{constructor:{value:he}});he.prototype=Y;var ce=new $d(pe,he,Y,ve,me,R,W,G);ce.A&&(ce.A.oa===void 0&&(ce.A.oa=[]),ce.A.oa.push(ce)),me=new On(pe,ce,!0,!1),st=new On(pe+"*",ce,!1,!1);var De=new On(pe+" const*",ce,!1,!0);return $s[m]={pointerType:st,Kb:De},gs(xe,he),[me,st,De]})},_embind_register_class_class_function:function(m,$,v,E,L,R,D){var W=vr(v,E);$=Et($),R=Kt(L,R),un([],[m],function(J){function G(){Bn(`Cannot call ${pe} due to unbound types`,W)}var pe=`${(J=J[0]).name}.${$}`;$.startsWith("@@")&&($=Symbol[$.substring(2)]);var $e=J.i.constructor;return $e[$]===void 0?(G.ea=v-1,$e[$]=G):(si($e,$,pe),$e[$].B[v-1]=G),un([],W,function(ve){if(ve=gr(pe,[ve[0],null].concat(ve.slice(1)),null,R,D),$e[$].B===void 0?(ve.ea=v-1,$e[$]=ve):$e[$].B[v-1]=ve,J.i.oa)for(const xe of J.i.oa)xe.constructor.hasOwnProperty($)||(xe.constructor[$]=ve);return[]}),[]})},_embind_register_class_class_property:function(m,$,v,E,L,R,D,W){$=Et($),R=Kt(L,R),un([],[m],function(J){var G=`${(J=J[0]).name}.${$}`,pe={get(){Bn(`Cannot access ${G} due to unbound types`,[v])},enumerable:!0,configurable:!0};return pe.set=W?()=>{Bn(`Cannot access ${G} due to unbound types`,[v])}:()=>{Ke(`${G} is a read-only property`)},Object.defineProperty(J.i.constructor,$,pe),un([],[v],function($e){$e=$e[0];var ve={get:()=>$e.fromWireType(R(E)),enumerable:!0};return W&&(W=Kt(D,W),ve.set=xe=>{var he=[];W(E,$e.toWireType(he,xe)),No(he)}),Object.defineProperty(J.i.constructor,$,ve),[]}),[]})},_embind_register_class_constructor:function(m,$,v,E,L,R){var D=vr($,v);L=Kt(E,L),un([],[m],function(W){var J=`constructor ${(W=W[0]).name}`;if(W.i.$===void 0&&(W.i.$=[]),W.i.$[$-1]!==void 0)throw new ho(`Cannot register multiple constructors with identical number of parameters (${$-1}) for class '${W.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return W.i.$[$-1]=()=>{Bn(`Cannot construct ${W.name} due to unbound types`,D)},un([],D,function(G){return G.splice(1,0,null),W.i.$[$-1]=gr(J,G,null,L,R),[]}),[]})},_embind_register_class_function:function(m,$,v,E,L,R,D,W){var J=vr(v,E);$=Et($),R=Kt(L,R),un([],[m],function(G){function pe(){Bn(`Cannot call ${$e} due to unbound types`,J)}var $e=`${(G=G[0]).name}.${$}`;$.startsWith("@@")&&($=Symbol[$.substring(2)]),W&&G.i.qb.push($);var ve=G.i.N,xe=ve[$];return xe===void 0||xe.B===void 0&&xe.className!==G.name&&xe.ea===v-2?(pe.ea=v-2,pe.className=G.name,ve[$]=pe):(si(ve,$,$e),ve[$].B[v-2]=pe),un([],J,function(he){return he=gr($e,he,G,R,D),ve[$].B===void 0?(he.ea=v-2,ve[$]=he):ve[$].B[v-2]=he,[]}),[]})},_embind_register_class_property:function(m,$,v,E,L,R,D,W,J,G){$=Et($),L=Kt(E,L),un([],[m],function(pe){var $e=`${(pe=pe[0]).name}.${$}`,ve={get(){Bn(`Cannot access ${$e} due to unbound types`,[v,D])},enumerable:!0,configurable:!0};return ve.set=J?()=>{Bn(`Cannot access ${$e} due to unbound types`,[v,D])}:()=>{Ke($e+" is a read-only property")},Object.defineProperty(pe.i.N,$,ve),un([],J?[v,D]:[v],function(xe){var he=xe[0],me={get(){var Y=ys(this,pe,$e+" getter");return he.fromWireType(L(R,Y))},enumerable:!0};if(J){J=Kt(W,J);var st=xe[1];me.set=function(Y){var ce=ys(this,pe,$e+" setter"),De=[];J(G,ce,st.toWireType(De,Y)),No(De)}}return Object.defineProperty(pe.i.N,$,me),[]}),[]})},_embind_register_emval:function(m,$){En(m,{name:$=Et($),fromWireType:function(v){var E=_n(v);return ci(v),E},toWireType:function(v,E){return kn(E)},argPackAdvance:8,readValueFromPointer:Fo,K:null})},_embind_register_enum:function(m,$,v,E){function L(){}v=pr(v),$=Et($),L.values={},En(m,{name:$,constructor:L,fromWireType:function(R){return this.constructor.values[R]},toWireType:function(R,D){return D.value},argPackAdvance:8,readValueFromPointer:wd($,v,E),K:null}),ai($,L)},_embind_register_enum_value:function(m,$,v){var E=Ro(m,"enum");$=Et($),m=E.constructor,E=Object.create(E.constructor.prototype,{value:{value:v},constructor:{value:cr(`${E.name}_${$}`,function(){})}}),m.values[v]=E,m[$]=E},_embind_register_float:function(m,$,v){v=pr(v),En(m,{name:$=Et($),fromWireType:function(E){return E},toWireType:function(E,L){return L},argPackAdvance:8,readValueFromPointer:yd($,v),K:null})},_embind_register_function:function(m,$,v,E,L,R){var D=vr($,v);m=Et(m),L=Kt(E,L),ai(m,function(){Bn(`Cannot call ${m} due to unbound types`,D)},$-1),un([],D,function(W){return gs(m,gr(m,[W[0],null].concat(W.slice(1)),null,L,R),$-1),[]})},_embind_register_integer:function(m,$,v,E,L){$=Et($),L===-1&&(L=4294967295),L=pr(v);var R=W=>W;if(E===0){var D=32-8*v;R=W=>W<<D>>>D}v=$.includes("unsigned")?function(W,J){return J>>>0}:function(W,J){return J},En(m,{name:$,fromWireType:R,toWireType:v,argPackAdvance:8,readValueFromPointer:bd($,L,E!==0),K:null})},_embind_register_memory_view:function(m,$,v){function E(R){R>>=2;var D=Qe;return new L(D.buffer,D[R+1],D[R])}var L=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][$];En(m,{name:v=Et(v),fromWireType:E,argPackAdvance:8,readValueFromPointer:E},{$b:!0})},_embind_register_std_string:function(m,$){var v=($=Et($))==="std::string";En(m,{name:$,fromWireType:function(E){var L=Qe[E>>2],R=E+4;if(v)for(var D=R,W=0;W<=L;++W){var J=R+W;if(W==L||Xe[J]==0){if(D=D?Jt(Xe,D,J-D):"",G===void 0)var G=D;else G+="\0",G+=D;D=J+1}}else{for(G=Array(L),W=0;W<L;++W)G[W]=String.fromCharCode(Xe[R+W]);G=G.join("")}return zn(E),G},toWireType:function(E,L){L instanceof ArrayBuffer&&(L=new Uint8Array(L));var R=typeof L=="string";R||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int8Array||Ke("Cannot pass non-string to std::string");var D=v&&R?$n(L):L.length,W=mi(4+D+1),J=W+4;if(Qe[W>>2]=D,v&&R)nn(L,Xe,J,D+1);else if(R)for(R=0;R<D;++R){var G=L.charCodeAt(R);255<G&&(zn(J),Ke("String has UTF-16 code units that do not fit in 8 bits")),Xe[J+R]=G}else for(R=0;R<D;++R)Xe[J+R]=L[R];return E!==null&&E.push(zn,W),W},argPackAdvance:8,readValueFromPointer:Fo,K:function(E){zn(E)}})},_embind_register_std_wstring:function(m,$,v){if(v=Et(v),$===2)var E=xd,L=_d,R=Cd,D=()=>bt,W=1;else $===4&&(E=Md,L=Ad,R=kd,D=()=>Qe,W=2);En(m,{name:v,fromWireType:function(J){for(var G,pe=Qe[J>>2],$e=D(),ve=J+4,xe=0;xe<=pe;++xe){var he=J+4+xe*$;xe!=pe&&$e[he>>W]!=0||(ve=E(ve,he-ve),G===void 0?G=ve:(G+="\0",G+=ve),ve=he+$)}return zn(J),G},toWireType:function(J,G){typeof G!="string"&&Ke(`Cannot pass non-string to C++ string type ${v}`);var pe=R(G),$e=mi(4+pe+$);return Qe[$e>>2]=pe>>W,L(G,$e+4,pe+$),J!==null&&J.push(zn,$e),$e},argPackAdvance:8,readValueFromPointer:Fo,K:function(J){zn(J)}})},_embind_register_value_object:function(m,$,v,E,L,R){fr[m]={name:Et($),Pa:Kt(v,E),W:Kt(L,R),eb:[]}},_embind_register_value_object_field:function(m,$,v,E,L,R,D,W,J,G){fr[m].eb.push({Sb:Et($),Yb:v,Wb:Kt(E,L),Xb:R,rc:D,qc:Kt(W,J),sc:G})},_embind_register_void:function(m,$){En(m,{fc:!0,name:$=Et($),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_get_now_is_monotonic:()=>!0,_emval_as:function(m,$,v){m=_n(m),$=Ro($,"emval::as");var E=[],L=kn(E);return Qe[v>>2]=L,$.toWireType(E,m)},_emval_call_method:function(m,$,v,E,L){m=yr[m],$=_n($),v=wr(v);var R=[];return Qe[E>>2]=kn(R),m($,v,R,L)},_emval_call_void_method:function(m,$,v,E){(m=yr[m])($=_n($),v=wr(v),null,E)},_emval_decref:ci,_emval_get_method_caller:function(m,$){var v=function(D,W){for(var J=Array(D),G=0;G<D;++G)J[G]=Ro(Qe[W+4*G>>2],"parameter "+G);return J}(m,$),E=v[0];$=E.name+"_$"+v.slice(1).map(function(D){return D.name}).join("_")+"$";var L=xs[$];if(L!==void 0)return L;var R=Array(m-1);return L=function(D){var W=yr.length;return yr.push(D),W}((D,W,J,G)=>{for(var pe=0,$e=0;$e<m-1;++$e)R[$e]=v[$e+1].readValueFromPointer(G+pe),pe+=v[$e+1].argPackAdvance;for(D=D[W].apply(D,R),$e=0;$e<m-1;++$e)v[$e+1].Nb&&v[$e+1].Nb(R[$e]);if(!E.fc)return E.toWireType(J,D)}),xs[$]=L},_emval_get_module_property:function(m){return m=wr(m),kn(h[m])},_emval_get_property:function(m,$){return m=_n(m),$=_n($),kn(m[$])},_emval_incref:function(m){4<m&&(hn.get(m).tb+=1)},_emval_new_cstring:function(m){return kn(wr(m))},_emval_new_object:function(){return kn({})},_emval_run_destructors:function(m){No(_n(m)),ci(m)},_emval_set_property:function(m,$,v){m=_n(m),$=_n($),v=_n(v),m[$]=v},_emval_take_value:function(m,$){return m=(m=Ro(m,"_emval_take_value")).readValueFromPointer($),kn(m)},abort:()=>{We("")},emscripten_asm_const_int:(m,$,v)=>{var E;for(di.length=0,v>>=2;E=Xe[$++];)v+=E!=105&v,di.push(E==105?Ce[v]:$t[v++>>1]),++v;return mn[m].apply(null,di)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_memcpy_big:(m,$,v)=>Xe.copyWithin(m,$,$+v),emscripten_resize_heap:m=>{var $=Xe.length;if(2147483648<(m>>>=0))return!1;for(var v=1;4>=v;v*=2){var E=$*(1+.2/v);E=Math.min(E,m+100663296);var L=Math;E=Math.max(m,E);e:{L=L.min.call(L,2147483648,E+(65536-E%65536)%65536)-Pe.buffer.byteLength+65535>>>16;try{Pe.grow(L),P();var R=1;break e}catch{}R=void 0}if(R)return!0}return!1},environ_get:(m,$)=>{var v=0;return _s().forEach(function(E,L){var R=$+v;for(L=Qe[m+4*L>>2]=R,R=0;R<E.length;++R)Ye[0|L++]=E.charCodeAt(R);Ye[0|L]=0,v+=E.length+1}),0},environ_sizes_get:(m,$)=>{var v=_s();Qe[m>>2]=v.length;var E=0;return v.forEach(function(L){E+=L.length+1}),Qe[$>>2]=E,0},fd_close:function(m){try{var $=qn(m);if($.X===null)throw new Me(8);$.Ma&&($.Ma=null);try{$.m.close&&$.m.close($)}catch(v){throw v}finally{nr[$.X]=null}return $.X=null,0}catch(v){if(no===void 0||v.name!=="ErrnoError")throw v;return v.aa}},fd_read:function(m,$,v,E){try{e:{var L=qn(m);m=$;for(var R,D=$=0;D<v;D++){var W=Qe[m>>2],J=Qe[m+4>>2];m+=8;var G=L,pe=W,$e=J,ve=R,xe=Ye;if(0>$e||0>ve)throw new Me(28);if(G.X===null)throw new Me(8);if((2097155&G.flags)==1)throw new Me(8);if((61440&G.node.mode)==16384)throw new Me(31);if(!G.m.read)throw new Me(28);var he=ve!==void 0;if(he){if(!G.seekable)throw new Me(70)}else ve=G.position;var me=G.m.read(G,xe,pe,$e,ve);he||(G.position+=me);var st=me;if(0>st){var Y=-1;break e}if($+=st,st<J)break;R!==void 0&&(R+=st)}Y=$}return Qe[E>>2]=Y,0}catch(ce){if(no===void 0||ce.name!=="ErrnoError")throw ce;return ce.aa}},fd_seek:function(m,$,v,E,L){$=v+2097152>>>0<4194305-!!$?($>>>0)+4294967296*v:NaN;try{if(isNaN($))return 61;var R=qn(m);return is(R,$,E),Yt=[R.position>>>0,(Dt=R.position,1<=+Math.abs(Dt)?0<Dt?+Math.floor(Dt/4294967296)>>>0:~~+Math.ceil((Dt-+(~~Dt>>>0))/4294967296)>>>0:0)],Ce[L>>2]=Yt[0],Ce[L+4>>2]=Yt[1],R.Ma&&$===0&&E===0&&(R.Ma=null),0}catch(D){if(no===void 0||D.name!=="ErrnoError")throw D;return D.aa}},fd_write:function(m,$,v,E){try{e:{var L=qn(m);m=$;for(var R,D=$=0;D<v;D++){var W=Qe[m>>2],J=Qe[m+4>>2];m+=8;var G=L,pe=W,$e=J,ve=R,xe=Ye;if(0>$e||0>ve)throw new Me(28);if(G.X===null)throw new Me(8);if(!(2097155&G.flags))throw new Me(8);if((61440&G.node.mode)==16384)throw new Me(31);if(!G.m.write)throw new Me(28);G.seekable&&1024&G.flags&&is(G,0,2);var he=ve!==void 0;if(he){if(!G.seekable)throw new Me(70)}else ve=G.position;var me=G.m.write(G,xe,pe,$e,ve,void 0);he||(G.position+=me);var st=me;if(0>st){var Y=-1;break e}$+=st,R!==void 0&&(R+=st)}Y=$}return Qe[E>>2]=Y,0}catch(ce){if(no===void 0||ce.name!=="ErrnoError")throw ce;return ce.aa}},strftime_l:(m,$,v,E)=>((L,R,D,W)=>{function J(Y,ce,De){for(Y=typeof Y=="number"?Y.toString():Y||"";Y.length<ce;)Y=De[0]+Y;return Y}function G(Y,ce){return J(Y,ce,"0")}function pe(Y,ce){function De(dn){return 0>dn?-1:0<dn?1:0}var _t;return(_t=De(Y.getFullYear()-ce.getFullYear()))===0&&(_t=De(Y.getMonth()-ce.getMonth()))===0&&(_t=De(Y.getDate()-ce.getDate())),_t}function $e(Y){switch(Y.getDay()){case 0:return new Date(Y.getFullYear()-1,11,29);case 1:return Y;case 2:return new Date(Y.getFullYear(),0,3);case 3:return new Date(Y.getFullYear(),0,2);case 4:return new Date(Y.getFullYear(),0,1);case 5:return new Date(Y.getFullYear()-1,11,31);case 6:return new Date(Y.getFullYear()-1,11,30)}}function ve(Y){var ce=Y.ca;for(Y=new Date(new Date(Y.da+1900,0,1).getTime());0<ce;){var De=Y.getMonth(),_t=(br(Y.getFullYear())?Cs:Ms)[De];if(!(ce>_t-Y.getDate())){Y.setDate(Y.getDate()+ce);break}ce-=_t-Y.getDate()+1,Y.setDate(1),11>De?Y.setMonth(De+1):(Y.setMonth(0),Y.setFullYear(Y.getFullYear()+1))}return De=new Date(Y.getFullYear()+1,0,4),ce=$e(new Date(Y.getFullYear(),0,4)),De=$e(De),0>=pe(ce,Y)?0>=pe(De,Y)?Y.getFullYear()+1:Y.getFullYear():Y.getFullYear()-1}var xe=Ce[W+40>>2];for(var he in W={wc:Ce[W>>2],vc:Ce[W+4>>2],Fa:Ce[W+8>>2],Sa:Ce[W+12>>2],Ga:Ce[W+16>>2],da:Ce[W+20>>2],R:Ce[W+24>>2],ca:Ce[W+28>>2],Rc:Ce[W+32>>2],uc:Ce[W+36>>2],xc:xe&&xe?Jt(Xe,xe):""},D=D?Jt(Xe,D):"",xe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})D=D.replace(new RegExp(he,"g"),xe[he]);var me="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),st="January February March April May June July August September October November December".split(" ");for(he in xe={"%a":Y=>me[Y.R].substring(0,3),"%A":Y=>me[Y.R],"%b":Y=>st[Y.Ga].substring(0,3),"%B":Y=>st[Y.Ga],"%C":Y=>G((Y.da+1900)/100|0,2),"%d":Y=>G(Y.Sa,2),"%e":Y=>J(Y.Sa,2," "),"%g":Y=>ve(Y).toString().substring(2),"%G":Y=>ve(Y),"%H":Y=>G(Y.Fa,2),"%I":Y=>((Y=Y.Fa)==0?Y=12:12<Y&&(Y-=12),G(Y,2)),"%j":Y=>{for(var ce=0,De=0;De<=Y.Ga-1;ce+=(br(Y.da+1900)?Cs:Ms)[De++]);return G(Y.Sa+ce,3)},"%m":Y=>G(Y.Ga+1,2),"%M":Y=>G(Y.vc,2),"%n":()=>`
`,"%p":Y=>0<=Y.Fa&&12>Y.Fa?"AM":"PM","%S":Y=>G(Y.wc,2),"%t":()=>"	","%u":Y=>Y.R||7,"%U":Y=>G(Math.floor((Y.ca+7-Y.R)/7),2),"%V":Y=>{var ce=Math.floor((Y.ca+7-(Y.R+6)%7)/7);if(2>=(Y.R+371-Y.ca-2)%7&&ce++,ce)ce==53&&((De=(Y.R+371-Y.ca)%7)==4||De==3&&br(Y.da)||(ce=1));else{ce=52;var De=(Y.R+7-Y.ca-1)%7;(De==4||De==5&&br(Y.da%400-1))&&ce++}return G(ce,2)},"%w":Y=>Y.R,"%W":Y=>G(Math.floor((Y.ca+7-(Y.R+6)%7)/7),2),"%y":Y=>(Y.da+1900).toString().substring(2),"%Y":Y=>Y.da+1900,"%z":Y=>{var ce=0<=(Y=Y.uc);return Y=Math.abs(Y)/60,(ce?"+":"-")+("0000"+(Y/60*100+Y%60)).slice(-4)},"%Z":Y=>Y.xc,"%%":()=>"%"},D=D.replace(/%%/g,"\0\0"),xe)D.includes(he)&&(D=D.replace(new RegExp(he,"g"),xe[he](W)));return(he=Ct(D=D.replace(/\0\0/g,"%"),!1)).length>R?0:(Ye.set(he,L),he.length-1)})(m,$,v,E)};(function(){function m(v){if(Se=v=v.exports,Pe=Se.memory,P(),C=Se.__indirect_function_table,j.unshift(Se.__wasm_call_ctors),ue--,h.monitorRunDependencies&&h.monitorRunDependencies(ue),ue==0&&Re){var E=Re;Re=null,E()}return v}var $={env:Es,wasi_snapshot_preview1:Es};if(ue++,h.monitorRunDependencies&&h.monitorRunDependencies(ue),h.instantiateWasm)try{return h.instantiateWasm($,m)}catch(v){q("Module.instantiateWasm callback failed with error: "+v),g(v)}(function(v,E){var L=ee;return ge||typeof WebAssembly.instantiateStreaming!="function"||Le(L)||L.startsWith("file://")||typeof fetch!="function"?Ie(L,v,E):fetch(L,{credentials:"same-origin"}).then(R=>WebAssembly.instantiateStreaming(R,v).then(E,function(D){return q("wasm streaming compile failed: "+D),q("falling back to ArrayBuffer instantiation"),Ie(L,v,E)}))})($,function(v){m(v.instance)}).catch(g)})();var zn=m=>(zn=Se.free)(m),mi=m=>(mi=Se.malloc)(m),Is=h._ma_device__on_notification_unlocked=m=>(Is=h._ma_device__on_notification_unlocked=Se.ma_device__on_notification_unlocked)(m);h._ma_malloc_emscripten=(m,$)=>(h._ma_malloc_emscripten=Se.ma_malloc_emscripten)(m,$),h._ma_free_emscripten=(m,$)=>(h._ma_free_emscripten=Se.ma_free_emscripten)(m,$);var _r,Ts=h._ma_device_process_pcm_frames_capture__webaudio=(m,$,v)=>(Ts=h._ma_device_process_pcm_frames_capture__webaudio=Se.ma_device_process_pcm_frames_capture__webaudio)(m,$,v),Ls=h._ma_device_process_pcm_frames_playback__webaudio=(m,$,v)=>(Ls=h._ma_device_process_pcm_frames_playback__webaudio=Se.ma_device_process_pcm_frames_playback__webaudio)(m,$,v),Ss=()=>(Ss=Se.__errno_location)(),Rs=m=>(Rs=Se.__getTypeName)(m);function Ps(){function m(){if(!_r&&(_r=!0,h.calledRun=!0,!Vt)){if(h.noFSInit||Xi||(Xi=!0,ss(),h.stdin=h.stdin,h.stdout=h.stdout,h.stderr=h.stderr,h.stdin?To("stdin",h.stdin):ti("/dev/tty","/dev/stdin"),h.stdout?To("stdout",null,h.stdout):ti("/dev/tty","/dev/stdout"),h.stderr?To("stderr",null,h.stderr):ti("/dev/tty1","/dev/stderr"),sr("/dev/stdin",0),sr("/dev/stdout",1),sr("/dev/stderr",1)),Zi=!1,Ot(j),f(h),h.onRuntimeInitialized&&h.onRuntimeInitialized(),h.postRun)for(typeof h.postRun=="function"&&(h.postRun=[h.postRun]);h.postRun.length;){var $=h.postRun.shift();V.unshift($)}Ot(V)}}if(!(0<ue)){if(h.preRun)for(typeof h.preRun=="function"&&(h.preRun=[h.preRun]);h.preRun.length;)se();Ot(S),0<ue||(h.setStatus?(h.setStatus("Running..."),setTimeout(function(){setTimeout(function(){h.setStatus("")},1),m()},1)):m())}}if(h.__embind_initialize_bindings=()=>(h.__embind_initialize_bindings=Se._embind_initialize_bindings)(),h.dynCall_iiji=(m,$,v,E,L)=>(h.dynCall_iiji=Se.dynCall_iiji)(m,$,v,E,L),h.dynCall_jiji=(m,$,v,E,L)=>(h.dynCall_jiji=Se.dynCall_jiji)(m,$,v,E,L),h.dynCall_iiiji=(m,$,v,E,L,R)=>(h.dynCall_iiiji=Se.dynCall_iiiji)(m,$,v,E,L,R),h.dynCall_iij=(m,$,v,E)=>(h.dynCall_iij=Se.dynCall_iij)(m,$,v,E),h.dynCall_jii=(m,$,v)=>(h.dynCall_jii=Se.dynCall_jii)(m,$,v),h.dynCall_viijii=(m,$,v,E,L,R,D)=>(h.dynCall_viijii=Se.dynCall_viijii)(m,$,v,E,L,R,D),h.dynCall_iiiiij=(m,$,v,E,L,R,D)=>(h.dynCall_iiiiij=Se.dynCall_iiiiij)(m,$,v,E,L,R,D),h.dynCall_iiiiijj=(m,$,v,E,L,R,D,W,J)=>(h.dynCall_iiiiijj=Se.dynCall_iiiiijj)(m,$,v,E,L,R,D,W,J),h.dynCall_iiiiiijj=(m,$,v,E,L,R,D,W,J,G)=>(h.dynCall_iiiiiijj=Se.dynCall_iiiiiijj)(m,$,v,E,L,R,D,W,J,G),Re=function m(){_r||Ps(),_r||(Re=m)},h.preInit)for(typeof h.preInit=="function"&&(h.preInit=[h.preInit]);0<h.preInit.length;)h.preInit.pop()();return Ps(),u.ready});const l=a},o=>{o.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.26.4","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(o,r,s)=>{s.r(r),s.d(r,{Animation:()=>c.Animation});var c=s(4)},(o,r,s)=>{s.r(r),s.d(r,{Animation:()=>c});var c=function(){function a(l,u,f,g){this.animation=l,this.artboard=u,this.playing=g,this.loopCount=0,this.scrubTo=null,this.instance=new f.LinearAnimationInstance(l,u)}return Object.defineProperty(a.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"time",{get:function(){return this.instance.time},set:function(l){this.instance.time=l},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),a.prototype.advance=function(l){this.scrubTo===null?this.instance.advance(l):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},a.prototype.apply=function(l){this.instance.apply(l)},a.prototype.cleanup=function(){this.instance.delete()},a}()},(o,r,s)=>{s.r(r),s.d(r,{BLANK_URL:()=>a.BLANK_URL,registerTouchInteractions:()=>c.registerTouchInteractions,sanitizeUrl:()=>a.sanitizeUrl});var c=s(6),a=s(7)},(o,r,s)=>{s.r(r),s.d(r,{registerTouchInteractions:()=>c});var c=function(a){var l=a.canvas,u=a.artboard,f=a.stateMachines,g=f===void 0?[]:f,h=a.renderer,k=a.rive,I=a.fit,_=a.alignment,T=a.isTouchScrollEnabled,O=T!==void 0&&T,B=a.layoutScaleFactor,z=B===void 0?1:B;if(!(l&&g.length&&h&&k&&u&&typeof window<"u"))return null;var fe=null,ye=!1,ie=(function(le){if(ye&&le instanceof MouseEvent)le.type=="mouseup"&&(ye=!1);else{ye=O&&le.type==="touchend"&&fe==="touchstart",fe=le.type;var Q=le.currentTarget.getBoundingClientRect(),_e=function(V,se){var ee,ue;return["touchstart","touchmove"].indexOf(V.type)>-1&&(!((ee=V.touches)===null||ee===void 0)&&ee.length)?(se||V.preventDefault(),{clientX:V.touches[0].clientX,clientY:V.touches[0].clientY}):V.type==="touchend"&&(!((ue=V.changedTouches)===null||ue===void 0)&&ue.length)?{clientX:V.changedTouches[0].clientX,clientY:V.changedTouches[0].clientY}:{clientX:V.clientX,clientY:V.clientY}}(le,O),ge=_e.clientX,be=_e.clientY;if(ge||be){var q=ge-Q.left,Pe=be-Q.top,Se=k.computeAlignment(I,_,{minX:0,minY:0,maxX:Q.width,maxY:Q.height},u.bounds,z),Ye=new k.Mat2D;Se.invert(Ye);var Xe=new k.Vec2D(q,Pe),Ge=k.mapXY(Ye,Xe),bt=Ge.x(),Ce=Ge.y();switch(Ge.delete(),Ye.delete(),Xe.delete(),Se.delete(),le.type){case"mouseout":for(var Qe=0,Lt=g;Qe<Lt.length;Qe++)Lt[Qe].pointerMove(bt,Ce);break;case"touchmove":case"mouseover":case"mousemove":for(var $t=0,Vt=g;$t<Vt.length;$t++)Vt[$t].pointerMove(bt,Ce);break;case"touchstart":case"mousedown":for(var P=0,C=g;P<C.length;P++)C[P].pointerDown(bt,Ce);break;case"touchend":case"mouseup":for(var S=0,j=g;S<j.length;S++)j[S].pointerUp(bt,Ce)}}}}).bind(void 0);return l.addEventListener("mouseover",ie),l.addEventListener("mouseout",ie),l.addEventListener("mousemove",ie),l.addEventListener("mousedown",ie),l.addEventListener("mouseup",ie),l.addEventListener("touchmove",ie,{passive:O}),l.addEventListener("touchstart",ie,{passive:O}),l.addEventListener("touchend",ie),function(){l.removeEventListener("mouseover",ie),l.removeEventListener("mouseout",ie),l.removeEventListener("mousemove",ie),l.removeEventListener("mousedown",ie),l.removeEventListener("mouseup",ie),l.removeEventListener("touchmove",ie),l.removeEventListener("touchstart",ie),l.removeEventListener("touchend",ie)}}},(o,r,s)=>{s.r(r),s.d(r,{BLANK_URL:()=>h,sanitizeUrl:()=>k});var c=/^([^\w]*)(javascript|data|vbscript)/im,a=/&#(\w+)(^\w|;)?/g,l=/&(newline|tab);/gi,u=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,f=/^.+(:|&colon;)/gim,g=[".","/"],h="about:blank";function k(I){if(!I)return h;var _,T=(_=I,_.replace(u,"").replace(a,function(z,fe){return String.fromCharCode(fe)})).replace(l,"").replace(u,"").trim();if(!T)return h;if(function(z){return g.indexOf(z[0])>-1}(T))return T;var O=T.match(f);if(!O)return T;var B=O[0];return c.test(B)?h:T}}],e={};function n(o){var r=e[o];if(r!==void 0)return r.exports;var s=e[o]={exports:{}};return i[o](s,s.exports,n),s.exports}n.d=(o,r)=>{for(var s in r)n.o(r,s)&&!n.o(o,s)&&Object.defineProperty(o,s,{enumerable:!0,get:r[s]})},n.o=(o,r)=>Object.prototype.hasOwnProperty.call(o,r),n.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var t={};return(()=>{n.r(t),n.d(t,{Alignment:()=>s,EventType:()=>z,Fit:()=>r,Layout:()=>_,LoopType:()=>fe,Rive:()=>Ge,RiveEventType:()=>O,RiveFile:()=>Xe,RuntimeLoader:()=>T,StateMachineInput:()=>B,StateMachineInputType:()=>I,Testing:()=>Qe,decodeAudio:()=>Lt,decodeFont:()=>Vt,decodeImage:()=>$t});var o,r,s,c=n(1),a=n(2),l=n(3),u=n(5),f=(o=function(P,C){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,j){S.__proto__=j}||function(S,j){for(var V in j)Object.prototype.hasOwnProperty.call(j,V)&&(S[V]=j[V])},o(P,C)},function(P,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function S(){this.constructor=P}o(P,C),P.prototype=C===null?Object.create(C):(S.prototype=C.prototype,new S)}),g=function(P,C,S,j){return new(S||(S=Promise))(function(V,se){function ee(We){try{Re(j.next(We))}catch(Le){se(Le)}}function ue(We){try{Re(j.throw(We))}catch(Le){se(Le)}}function Re(We){var Le;We.done?V(We.value):(Le=We.value,Le instanceof S?Le:new S(function(xt){xt(Le)})).then(ee,ue)}Re((j=j.apply(P,C||[])).next())})},h=function(P,C){var S,j,V,se={label:0,sent:function(){if(1&V[0])throw V[1];return V[1]},trys:[],ops:[]},ee=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return ee.next=ue(0),ee.throw=ue(1),ee.return=ue(2),typeof Symbol=="function"&&(ee[Symbol.iterator]=function(){return this}),ee;function ue(Re){return function(We){return function(Le){if(S)throw new TypeError("Generator is already executing.");for(;ee&&(ee=0,Le[0]&&(se=0)),se;)try{if(S=1,j&&(V=2&Le[0]?j.return:Le[0]?j.throw||((V=j.return)&&V.call(j),0):j.next)&&!(V=V.call(j,Le[1])).done)return V;switch(j=0,V&&(Le=[2&Le[0],V.value]),Le[0]){case 0:case 1:V=Le;break;case 4:return se.label++,{value:Le[1],done:!1};case 5:se.label++,j=Le[1],Le=[0];continue;case 7:Le=se.ops.pop(),se.trys.pop();continue;default:if(!((V=(V=se.trys).length>0&&V[V.length-1])||Le[0]!==6&&Le[0]!==2)){se=0;continue}if(Le[0]===3&&(!V||Le[1]>V[0]&&Le[1]<V[3])){se.label=Le[1];break}if(Le[0]===6&&se.label<V[1]){se.label=V[1],V=Le;break}if(V&&se.label<V[2]){se.label=V[2],se.ops.push(Le);break}V[2]&&se.ops.pop(),se.trys.pop();continue}Le=C.call(P,se)}catch(xt){Le=[6,xt],j=0}finally{S=V=0}if(5&Le[0])throw Le[1];return{value:Le[0]?Le[1]:void 0,done:!0}}([Re,We])}}},k=function(P){function C(){var S=P!==null&&P.apply(this,arguments)||this;return S.isHandledError=!0,S}return f(C,P),C}(Error);(function(P){P.Cover="cover",P.Contain="contain",P.Fill="fill",P.FitWidth="fitWidth",P.FitHeight="fitHeight",P.None="none",P.ScaleDown="scaleDown",P.Layout="layout"})(r||(r={})),function(P){P.Center="center",P.TopLeft="topLeft",P.TopCenter="topCenter",P.TopRight="topRight",P.CenterLeft="centerLeft",P.CenterRight="centerRight",P.BottomLeft="bottomLeft",P.BottomCenter="bottomCenter",P.BottomRight="bottomRight"}(s||(s={}));var I,_=function(){function P(C){var S,j,V,se,ee,ue,Re;this.fit=(S=C==null?void 0:C.fit)!==null&&S!==void 0?S:r.Contain,this.alignment=(j=C==null?void 0:C.alignment)!==null&&j!==void 0?j:s.Center,this.layoutScaleFactor=(V=C==null?void 0:C.layoutScaleFactor)!==null&&V!==void 0?V:1,this.minX=(se=C==null?void 0:C.minX)!==null&&se!==void 0?se:0,this.minY=(ee=C==null?void 0:C.minY)!==null&&ee!==void 0?ee:0,this.maxX=(ue=C==null?void 0:C.maxX)!==null&&ue!==void 0?ue:0,this.maxY=(Re=C==null?void 0:C.maxY)!==null&&Re!==void 0?Re:0}return P.new=function(C){var S=C.fit,j=C.alignment,V=C.minX,se=C.minY,ee=C.maxX,ue=C.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new P({fit:S,alignment:j,minX:V,minY:se,maxX:ee,maxY:ue})},P.prototype.copyWith=function(C){var S=C.fit,j=C.alignment,V=C.layoutScaleFactor,se=C.minX,ee=C.minY,ue=C.maxX,Re=C.maxY;return new P({fit:S??this.fit,alignment:j??this.alignment,layoutScaleFactor:V??this.layoutScaleFactor,minX:se??this.minX,minY:ee??this.minY,maxX:ue??this.maxX,maxY:Re??this.maxY})},P.prototype.runtimeFit=function(C){return this.cachedRuntimeFit?this.cachedRuntimeFit:(S=this.fit===r.Cover?C.Fit.cover:this.fit===r.Contain?C.Fit.contain:this.fit===r.Fill?C.Fit.fill:this.fit===r.FitWidth?C.Fit.fitWidth:this.fit===r.FitHeight?C.Fit.fitHeight:this.fit===r.ScaleDown?C.Fit.scaleDown:this.fit===r.Layout?C.Fit.layout:C.Fit.none,this.cachedRuntimeFit=S,S);var S},P.prototype.runtimeAlignment=function(C){return this.cachedRuntimeAlignment?this.cachedRuntimeAlignment:(S=this.alignment===s.TopLeft?C.Alignment.topLeft:this.alignment===s.TopCenter?C.Alignment.topCenter:this.alignment===s.TopRight?C.Alignment.topRight:this.alignment===s.CenterLeft?C.Alignment.centerLeft:this.alignment===s.CenterRight?C.Alignment.centerRight:this.alignment===s.BottomLeft?C.Alignment.bottomLeft:this.alignment===s.BottomCenter?C.Alignment.bottomCenter:this.alignment===s.BottomRight?C.Alignment.bottomRight:C.Alignment.center,this.cachedRuntimeAlignment=S,S);var S},P}(),T=function(){function P(){}return P.loadRuntime=function(){c.default({locateFile:function(){return P.wasmURL}}).then(function(C){var S;for(P.runtime=C;P.callBackQueue.length>0;)(S=P.callBackQueue.shift())===null||S===void 0||S(P.runtime)}).catch(function(C){var S={message:(C==null?void 0:C.message)||"Unknown error",type:(C==null?void 0:C.name)||"Error",wasmError:C instanceof WebAssembly.CompileError||C instanceof WebAssembly.RuntimeError,originalError:C};console.debug("Rive WASM load error details:",S);var j="https://cdn.jsdelivr.net/npm/".concat(a.name,"@").concat(a.version,"/rive_fallback.wasm");if(P.wasmURL.toLowerCase()!==j)console.warn("Failed to load WASM from ".concat(P.wasmURL," (").concat(S.message,"), trying jsdelivr as a backup")),P.setWasmUrl(j),P.loadRuntime();else{var V=["Could not load Rive WASM file from ".concat(P.wasmURL," or ").concat(j,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(S.type),"- Message: ".concat(S.message),"- WebAssembly-specific error: ".concat(S.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(V)}})},P.getInstance=function(C){P.isLoading||(P.isLoading=!0,P.loadRuntime()),P.runtime?C(P.runtime):P.callBackQueue.push(C)},P.awaitInstance=function(){return new Promise(function(C){return P.getInstance(function(S){return C(S)})})},P.setWasmUrl=function(C){P.wasmURL=C},P.getWasmUrl=function(){return P.wasmURL},P.isLoading=!1,P.callBackQueue=[],P.wasmURL="https://unpkg.com/".concat(a.name,"@").concat(a.version,"/rive.wasm"),P}();(function(P){P[P.Number=56]="Number",P[P.Trigger=58]="Trigger",P[P.Boolean=59]="Boolean"})(I||(I={}));var O,B=function(){function P(C,S){this.type=C,this.runtimeInput=S}return Object.defineProperty(P.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(C){this.runtimeInput.value=C},enumerable:!1,configurable:!0}),P.prototype.fire=function(){this.type===I.Trigger&&this.runtimeInput.fire()},P.prototype.delete=function(){this.runtimeInput=null},P}();(function(P){P[P.General=128]="General",P[P.OpenUrl=131]="OpenUrl"})(O||(O={}));var z,fe,ye=function(){function P(C,S,j,V){this.stateMachine=C,this.playing=j,this.artboard=V,this.inputs=[],this.instance=new S.StateMachineInstance(C,V),this.initInputs(S)}return Object.defineProperty(P.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"statesChanged",{get:function(){for(var C=[],S=0;S<this.instance.stateChangedCount();S++)C.push(this.instance.stateChangedNameByIndex(S));return C},enumerable:!1,configurable:!0}),P.prototype.advance=function(C){this.instance.advance(C)},P.prototype.advanceAndApply=function(C){this.instance.advanceAndApply(C)},P.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},P.prototype.reportedEventAt=function(C){return this.instance.reportedEventAt(C)},P.prototype.initInputs=function(C){for(var S=0;S<this.instance.inputCount();S++){var j=this.instance.input(S);this.inputs.push(this.mapRuntimeInput(j,C))}},P.prototype.mapRuntimeInput=function(C,S){return C.type===S.SMIInput.bool?new B(I.Boolean,C.asBool()):C.type===S.SMIInput.number?new B(I.Number,C.asNumber()):C.type===S.SMIInput.trigger?new B(I.Trigger,C.asTrigger()):void 0},P.prototype.cleanup=function(){this.inputs.forEach(function(C){C.delete()}),this.inputs.length=0,this.instance.delete()},P}(),ie=function(){function P(C,S,j,V,se){V===void 0&&(V=[]),se===void 0&&(se=[]),this.runtime=C,this.artboard=S,this.eventManager=j,this.animations=V,this.stateMachines=se}return P.prototype.add=function(C,S,j){if(j===void 0&&(j=!0),(C=Ce(C)).length===0)this.animations.forEach(function(Ie){return Ie.playing=S}),this.stateMachines.forEach(function(Ie){return Ie.playing=S});else for(var V=this.animations.map(function(Ie){return Ie.name}),se=this.stateMachines.map(function(Ie){return Ie.name}),ee=0;ee<C.length;ee++){var ue=V.indexOf(C[ee]),Re=se.indexOf(C[ee]);if(ue>=0||Re>=0)ue>=0?this.animations[ue].playing=S:this.stateMachines[Re].playing=S;else{var We=this.artboard.animationByName(C[ee]);if(We){var Le=new l.Animation(We,this.artboard,this.runtime,S);Le.advance(0),Le.apply(1),this.animations.push(Le)}else{var xt=this.artboard.stateMachineByName(C[ee]);if(xt){var Ft=new ye(xt,this.runtime,S,this.artboard);this.stateMachines.push(Ft)}}}}return j&&(S?this.eventManager.fire({type:z.Play,data:this.playing}):this.eventManager.fire({type:z.Pause,data:this.paused})),S?this.playing:this.paused},P.prototype.initLinearAnimations=function(C,S){for(var j=this.animations.map(function(Re){return Re.name}),V=0;V<C.length;V++){var se=j.indexOf(C[V]);if(se>=0)this.animations[se].playing=S;else{var ee=this.artboard.animationByName(C[V]);if(ee){var ue=new l.Animation(ee,this.artboard,this.runtime,S);ue.advance(0),ue.apply(1),this.animations.push(ue)}}}},P.prototype.initStateMachines=function(C,S){for(var j=this.stateMachines.map(function(Re){return Re.name}),V=0;V<C.length;V++){var se=j.indexOf(C[V]);if(se>=0)this.stateMachines[se].playing=S;else{var ee=this.artboard.stateMachineByName(C[V]);if(ee){var ue=new ye(ee,this.runtime,S,this.artboard);this.stateMachines.push(ue)}else this.initLinearAnimations([C[V]],S)}}},P.prototype.play=function(C){return this.add(C,!0)},P.prototype.pause=function(C){return this.add(C,!1)},P.prototype.scrub=function(C,S){var j=this.animations.filter(function(V){return C.includes(V.name)});return j.forEach(function(V){return V.scrubTo=S}),j.map(function(V){return V.name})},Object.defineProperty(P.prototype,"playing",{get:function(){return this.animations.filter(function(C){return C.playing}).map(function(C){return C.name}).concat(this.stateMachines.filter(function(C){return C.playing}).map(function(C){return C.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"paused",{get:function(){return this.animations.filter(function(C){return!C.playing}).map(function(C){return C.name}).concat(this.stateMachines.filter(function(C){return!C.playing}).map(function(C){return C.name}))},enumerable:!1,configurable:!0}),P.prototype.stop=function(C){var S=this,j=[];if((C=Ce(C)).length===0)j=this.animations.map(function(ee){return ee.name}).concat(this.stateMachines.map(function(ee){return ee.name})),this.animations.forEach(function(ee){return ee.cleanup()}),this.stateMachines.forEach(function(ee){return ee.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var V=this.animations.filter(function(ee){return C.includes(ee.name)});V.forEach(function(ee){ee.cleanup(),S.animations.splice(S.animations.indexOf(ee),1)});var se=this.stateMachines.filter(function(ee){return C.includes(ee.name)});se.forEach(function(ee){ee.cleanup(),S.stateMachines.splice(S.stateMachines.indexOf(ee),1)}),j=V.map(function(ee){return ee.name}).concat(se.map(function(ee){return ee.name}))}return this.eventManager.fire({type:z.Stop,data:j}),j},Object.defineProperty(P.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(C,S){return C||S.playing},!1)||this.stateMachines.reduce(function(C,S){return C||S.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),P.prototype.atLeastOne=function(C,S){var j;return S===void 0&&(S=!0),this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([j=this.artboard.animationByIndex(0).name],C,S):this.artboard.stateMachineCount()>0&&this.add([j=this.artboard.stateMachineByIndex(0).name],C,S)),j},P.prototype.handleLooping=function(){for(var C=0,S=this.animations.filter(function(V){return V.playing});C<S.length;C++){var j=S[C];j.loopValue===0&&j.loopCount?(j.loopCount=0,this.stop(j.name)):j.loopValue===1&&j.loopCount?(this.eventManager.fire({type:z.Loop,data:{animation:j.name,type:fe.Loop}}),j.loopCount=0):j.loopValue===2&&j.loopCount>1&&(this.eventManager.fire({type:z.Loop,data:{animation:j.name,type:fe.PingPong}}),j.loopCount=0)}},P.prototype.handleStateChanges=function(){for(var C=[],S=0,j=this.stateMachines.filter(function(se){return se.playing});S<j.length;S++){var V=j[S];C.push.apply(C,V.statesChanged)}C.length>0&&this.eventManager.fire({type:z.StateChange,data:C})},P.prototype.handleAdvancing=function(C){this.eventManager.fire({type:z.Advance,data:C})},P}();(function(P){P.Load="load",P.LoadError="loaderror",P.Play="play",P.Pause="pause",P.Stop="stop",P.Loop="loop",P.Draw="draw",P.Advance="advance",P.StateChange="statechange",P.RiveEvent="riveevent",P.AudioStatusChange="audiostatuschange"})(z||(z={})),function(P){P.OneShot="oneshot",P.Loop="loop",P.PingPong="pingpong"}(fe||(fe={}));var le,Q=function(){function P(C){C===void 0&&(C=[]),this.listeners=C}return P.prototype.getListeners=function(C){return this.listeners.filter(function(S){return S.type===C})},P.prototype.add=function(C){this.listeners.includes(C)||this.listeners.push(C)},P.prototype.remove=function(C){for(var S=0;S<this.listeners.length;S++){var j=this.listeners[S];if(j.type===C.type&&j.callback===C.callback){this.listeners.splice(S,1);break}}},P.prototype.removeAll=function(C){var S=this;C?this.listeners.filter(function(j){return j.type===C}).forEach(function(j){return S.remove(j)}):this.listeners.splice(0,this.listeners.length)},P.prototype.fire=function(C){this.getListeners(C.type).forEach(function(S){return S.callback(C)})},P}(),_e=function(){function P(C){this.eventManager=C,this.queue=[]}return P.prototype.add=function(C){this.queue.push(C)},P.prototype.process=function(){for(;this.queue.length>0;){var C=this.queue.shift();C!=null&&C.action&&C.action(),C!=null&&C.event&&this.eventManager.fire(C.event)}},P}();(function(P){P[P.AVAILABLE=0]="AVAILABLE",P[P.UNAVAILABLE=1]="UNAVAILABLE"})(le||(le={}));var ge=function(P){function C(){var S=P!==null&&P.apply(this,arguments)||this;return S._started=!1,S._enabled=!1,S._status=le.UNAVAILABLE,S}return f(C,P),C.prototype.delay=function(S){return g(this,void 0,void 0,function(){return h(this,function(j){return[2,new Promise(function(V){return setTimeout(V,S)})]})})},C.prototype.timeout=function(){return g(this,void 0,void 0,function(){return h(this,function(S){return[2,new Promise(function(j,V){return setTimeout(V,50)})]})})},C.prototype.reportToListeners=function(){this.fire({type:z.AudioStatusChange}),this.removeAll()},C.prototype.enableAudio=function(){return g(this,void 0,void 0,function(){return h(this,function(S){return this._enabled||(this._enabled=!0,this._status=le.AVAILABLE,this.reportToListeners()),[2]})})},C.prototype.testAudio=function(){return g(this,void 0,void 0,function(){return h(this,function(S){switch(S.label){case 0:if(this._status!==le.UNAVAILABLE||this._audioContext===null)return[3,4];S.label=1;case 1:return S.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return S.sent(),this.enableAudio(),[3,4];case 3:return S.sent(),[3,4];case 4:return[2]}})})},C.prototype._establishAudio=function(){return g(this,void 0,void 0,function(){return h(this,function(S){switch(S.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window<"u"?[3,1]:(this.enableAudio(),[3,5]));case 1:this._audioContext=new AudioContext,this.listenForUserAction(),S.label=2;case 2:return this._status!==le.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return S.sent(),[4,this.delay(1e3)];case 4:return S.sent(),[3,2];case 5:return[2]}})})},C.prototype.listenForUserAction=function(){var S=this;document.addEventListener("pointerdown",function(){return g(S,void 0,void 0,function(){return h(this,function(j){return this.enableAudio(),[2]})})},{once:!0})},C.prototype.establishAudio=function(){return g(this,void 0,void 0,function(){return h(this,function(S){return this._establishAudio(),[2]})})},Object.defineProperty(C.prototype,"systemVolume",{get:function(){return this._status===le.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),C}(Q),be=new ge,q=function(){function P(){}return P.prototype.observe=function(){},P.prototype.unobserve=function(){},P.prototype.disconnect=function(){},P}(),Pe=globalThis.ResizeObserver||q,Se=function(){function P(){var C=this;this._elementsMap=new Map,this._onObservedEntry=function(S){var j=C._elementsMap.get(S.target);j!==null?j.onResize(S.target.clientWidth==0||S.target.clientHeight==0):C._resizeObserver.unobserve(S.target)},this._onObserved=function(S){S.forEach(C._onObservedEntry)},this._resizeObserver=new Pe(this._onObserved)}return P.prototype.add=function(C,S){var j={onResize:S,element:C};return this._elementsMap.set(C,j),this._resizeObserver.observe(C),j},P.prototype.remove=function(C){this._resizeObserver.unobserve(C.element),this._elementsMap.delete(C.element)},P}(),Ye=new Se,Xe=function(){function P(C){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.src=C.src,this.buffer=C.buffer,C.assetLoader&&(this.assetLoader=C.assetLoader),this.enableRiveAssetCDN=typeof C.enableRiveAssetCDN!="boolean"||C.enableRiveAssetCDN,this.eventManager=new Q,C.onLoad&&this.on(z.Load,C.onLoad),C.onLoadError&&this.on(z.LoadError,C.onLoadError)}return P.prototype.initData=function(){return g(this,void 0,void 0,function(){var C,S,j,V;return h(this,function(se){switch(se.label){case 0:return this.src?(C=this,[4,bt(this.src)]):[3,2];case 1:C.buffer=se.sent(),se.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(S=new this.runtime.CustomFileAssetLoader({loadContents:this.assetLoader})),j=this,[4,this.runtime.load(new Uint8Array(this.buffer),S,this.enableRiveAssetCDN)]);case 3:if(j.file=se.sent(),this.destroyed)return(V=this.file)===null||V===void 0||V.delete(),this.file=null,[2];if(this.file===null)throw this.eventManager.fire({type:z.LoadError,data:null}),new Error(P.fileLoadErrorMessage);return this.eventManager.fire({type:z.Load,data:this}),[2]}})})},P.prototype.init=function(){return g(this,void 0,void 0,function(){var C;return h(this,function(S){switch(S.label){case 0:if(!this.src&&!this.buffer)throw new Error(P.missingErrorMessage);return C=this,[4,T.awaitInstance()];case 1:return C.runtime=S.sent(),this.destroyed?[2]:[4,this.initData()];case 2:return S.sent(),[2]}})})},P.prototype.on=function(C,S){this.eventManager.add({type:C,callback:S})},P.prototype.off=function(C,S){this.eventManager.remove({type:C,callback:S})},P.prototype.cleanup=function(){var C;this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),(C=this.file)===null||C===void 0||C.delete(),this.file=null,this.destroyed=!0)},P.prototype.removeAllRiveEventListeners=function(C){this.eventManager.removeAll(C)},P.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},P.missingErrorMessage="Rive source file or data buffer required",P.fileLoadErrorMessage="The file failed to load",P}(),Ge=function(){function P(C){var S,j=this;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(V){var se=j._hasZeroSize!==V;j._hasZeroSize=V,V?j._layout.maxX&&j._layout.maxY||j.resizeToCanvas():se&&j.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=C.canvas,C.canvas.constructor===HTMLCanvasElement&&(this._observed=Ye.add(this.canvas,this.onCanvasResize)),this.src=C.src,this.buffer=C.buffer,this.riveFile=C.riveFile,this.layout=(S=C.layout)!==null&&S!==void 0?S:new _,this.shouldDisableRiveListeners=!!C.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!C.isTouchScrollEnabled,this.automaticallyHandleEvents=!!C.automaticallyHandleEvents,this.enableRiveAssetCDN=C.enableRiveAssetCDN===void 0||C.enableRiveAssetCDN,this.eventManager=new Q,C.onLoad&&this.on(z.Load,C.onLoad),C.onLoadError&&this.on(z.LoadError,C.onLoadError),C.onPlay&&this.on(z.Play,C.onPlay),C.onPause&&this.on(z.Pause,C.onPause),C.onStop&&this.on(z.Stop,C.onStop),C.onLoop&&this.on(z.Loop,C.onLoop),C.onStateChange&&this.on(z.StateChange,C.onStateChange),C.onAdvance&&this.on(z.Advance,C.onAdvance),C.onload&&!C.onLoad&&this.on(z.Load,C.onload),C.onloaderror&&!C.onLoadError&&this.on(z.LoadError,C.onloaderror),C.onplay&&!C.onPlay&&this.on(z.Play,C.onplay),C.onpause&&!C.onPause&&this.on(z.Pause,C.onpause),C.onstop&&!C.onStop&&this.on(z.Stop,C.onstop),C.onloop&&!C.onLoop&&this.on(z.Loop,C.onloop),C.onstatechange&&!C.onStateChange&&this.on(z.StateChange,C.onstatechange),C.assetLoader&&(this.assetLoader=C.assetLoader),this.taskQueue=new _e(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:C.autoplay,animations:C.animations,stateMachines:C.stateMachines,artboard:C.artboard,useOffscreenRenderer:C.useOffscreenRenderer})}return P.new=function(C){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new P(C)},P.prototype.onSystemAudioChanged=function(){this.volume=this._volume},P.prototype.init=function(C){var S=this,j=C.src,V=C.buffer,se=C.riveFile,ee=C.animations,ue=C.stateMachines,Re=C.artboard,We=C.autoplay,Le=We!==void 0&&We,xt=C.useOffscreenRenderer,Ft=xt!==void 0&&xt;if(!this.destroyed){if(this.src=j,this.buffer=V,this.riveFile=se,!this.src&&!this.buffer&&!this.riveFile)throw new k(P.missingErrorMessage);var Ie=Ce(ee),Dt=Ce(ue);this.loaded=!1,this.readyForPlaying=!1,T.awaitInstance().then(function(Yt){S.destroyed||(S.runtime=Yt,S.removeRiveListeners(),S.deleteRiveRenderer(),S.renderer=S.runtime.makeRenderer(S.canvas,Ft),S.canvas.width||S.canvas.height||S.resizeDrawingSurfaceToCanvas(),S.initData(Re,Ie,Dt,Le).then(function(){return S.setupRiveListeners()}).catch(function(mn){console.error(mn)}))}).catch(function(Yt){console.error(Yt)})}},P.prototype.setupRiveListeners=function(C){var S=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var j=(this.animator.stateMachines||[]).filter(function(se){return se.playing&&S.runtime.hasListeners(se.instance)}).map(function(se){return se.instance}),V=this.isTouchScrollEnabled;C&&"isTouchScrollEnabled"in C&&(V=C.isTouchScrollEnabled),this.eventCleanup=(0,u.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:j,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:V,layoutScaleFactor:this._layout.layoutScaleFactor})}},P.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},P.prototype.initializeAudio=function(){var C,S=this;be.status==le.UNAVAILABLE&&(!((C=this.artboard)===null||C===void 0)&&C.hasAudio)&&this._audioEventListener===null&&(this._audioEventListener={type:z.AudioStatusChange,callback:function(){return S.onSystemAudioChanged()}},be.add(this._audioEventListener),be.establishAudio())},P.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},P.prototype.initData=function(C,S,j,V){return g(this,void 0,void 0,function(){var se,ee,ue;return h(this,function(Re){switch(Re.label){case 0:return Re.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(this.riveFile=new Xe({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),[4,this.riveFile.init()]);case 1:Re.sent(),Re.label=2;case 2:if(!this.riveFile)throw new k(P.cleanupErrorMessage);return this.file=this.riveFile.getInstance(),this.initArtboard(C,S,j,V),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:z.Load,data:(ue=this.src)!==null&&ue!==void 0?ue:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()];case 3:return se=Re.sent(),ee=(We=se)&&We.isHandledError?We.message:"Problem loading file; may be corrupt!",console.warn(ee),this.eventManager.fire({type:z.LoadError,data:ee}),[2,Promise.reject(ee)];case 4:return[2]}var We})})},P.prototype.initArtboard=function(C,S,j,V){if(this.file){var se,ee=C?this.file.artboardByName(C):this.file.defaultArtboard();if(!ee){var ue="Invalid artboard name or no default artboard";return console.warn(ue),void this.eventManager.fire({type:z.LoadError,data:ue})}if(this.artboard=ee,ee.volume=this._volume*be.systemVolume,this.artboard.animationCount()<1)throw ue="Artboard has no animations",this.eventManager.fire({type:z.LoadError,data:ue}),ue;this.animator=new ie(this.runtime,this.artboard,this.eventManager),S.length>0||j.length>0?(se=S.concat(j),this.animator.initLinearAnimations(S,V),this.animator.initStateMachines(j,V)):se=[this.animator.atLeastOne(V,!1)],this.taskQueue.add({event:{type:V?z.Play:z.Pause,data:se}})}},P.prototype.drawFrame=function(){var C;!((C=document==null?void 0:document.timeline)===null||C===void 0)&&C.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&this._boundDraw(document.timeline.currentTime):this.startRendering()},P.prototype.draw=function(C,S){this.frameRequestId=null;var j=performance.now();this.lastRenderTime||(this.lastRenderTime=C),this.renderSecondTimer+=C-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,S==null||S());var V=(C-this.lastRenderTime)/1e3;this.lastRenderTime=C;for(var se=0,ee=this.animator.animations.filter(function(gt){return gt.playing||gt.needsScrub}).sort(function(gt){return gt.needsScrub?-1:1});se<ee.length;se++){var ue=ee[se];ue.advance(V),ue.instance.didLoop&&(ue.loopCount+=1),ue.apply(1)}for(var Re=0,We=this.animator.stateMachines.filter(function(gt){return gt.playing});Re<We.length;Re++){var Le=We[Re],xt=Le.reportedEventCount();if(xt)for(var Ft=0;Ft<xt;Ft++){var Ie=Le.reportedEventAt(Ft);if(Ie)if(Ie.type===O.OpenUrl){if(this.eventManager.fire({type:z.RiveEvent,data:Ie}),this.automaticallyHandleEvents){var Dt=document.createElement("a"),Yt=Ie,mn=Yt.url,Ot=Yt.target,St=(0,u.sanitizeUrl)(mn);mn&&Dt.setAttribute("href",St),Ot&&Dt.setAttribute("target",Ot),St&&St!==u.BLANK_URL&&Dt.click()}}else this.eventManager.fire({type:z.RiveEvent,data:Ie})}Le.advanceAndApply(V)}this.animator.stateMachines.length==0&&this.artboard.advance(V);var Bt=this.renderer;Bt.clear(),Bt.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(Bt),Bt.restore(),Bt.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(V),this.frameCount++;var Qt=performance.now();for(this.frameTimes.push(Qt),this.durations.push(Qt-j);this.frameTimes[0]<=Qt-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():(this.animator.isPaused||this.animator.isStopped)&&(this.lastRenderTime=0)},P.prototype.alignRenderer=function(){var C=this,S=C.renderer,j=C.runtime,V=C._layout,se=C.artboard;S.align(V.runtimeFit(j),V.runtimeAlignment(j),{minX:V.minX,minY:V.minY,maxX:V.maxX,maxY:V.maxY},se.bounds,this._devicePixelRatioUsed*V.layoutScaleFactor)},Object.defineProperty(P.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(C,S){return C+S},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),P.prototype.cleanup=function(){var C;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Ye.remove(this._observed),this.removeRiveListeners(),this.file&&((C=this.riveFile)===null||C===void 0||C.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(be.remove(this._audioEventListener),this._audioEventListener=null)},P.prototype.deleteRiveRenderer=function(){var C;(C=this.renderer)===null||C===void 0||C.delete(),this.renderer=null},P.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},P.prototype.retrieveTextRun=function(C){var S;if(C)if(this.artboard){var j=this.artboard.textRun(C);if(j)return j;console.warn("Could not access a text run with name '".concat(C,"' in the '").concat((S=this.artboard)===null||S===void 0?void 0:S.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."))}else console.warn("Tried to access text run, but the Artboard is null");else console.warn("No text run name provided")},P.prototype.getTextRunValue=function(C){var S=this.retrieveTextRun(C);return S?S.text:void 0},P.prototype.setTextRunValue=function(C,S){var j=this.retrieveTextRun(C);j&&(j.text=S)},P.prototype.play=function(C,S){var j=this;C=Ce(C),this.readyForPlaying?(this.animator.play(C),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()):this.taskQueue.add({action:function(){return j.play(C,S)}})},P.prototype.pause=function(C){var S=this;C=Ce(C),this.readyForPlaying?(this.eventCleanup&&this.eventCleanup(),this.animator.pause(C)):this.taskQueue.add({action:function(){return S.pause(C)}})},P.prototype.scrub=function(C,S){var j=this;C=Ce(C),this.readyForPlaying?(this.animator.scrub(C,S||0),this.drawFrame()):this.taskQueue.add({action:function(){return j.scrub(C,S)}})},P.prototype.stop=function(C){var S=this;C=Ce(C),this.readyForPlaying?(this.animator&&this.animator.stop(C),this.eventCleanup&&this.eventCleanup()):this.taskQueue.add({action:function(){return S.stop(C)}})},P.prototype.reset=function(C){var S,j=C==null?void 0:C.artboard,V=Ce(C==null?void 0:C.animations),se=Ce(C==null?void 0:C.stateMachines),ee=(S=C==null?void 0:C.autoplay)!==null&&S!==void 0&&S;this.cleanupInstances(),this.initArtboard(j,V,se,ee),this.taskQueue.process()},P.prototype.load=function(C){this.file=null,this.stop(),this.init(C)},Object.defineProperty(P.prototype,"layout",{get:function(){return this._layout},set:function(C){this._layout=C,C.maxX&&C.maxY||this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),P.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},P.prototype.resizeDrawingSurfaceToCanvas=function(C){if(this.canvas instanceof HTMLCanvasElement&&window){var S=this.canvas.getBoundingClientRect(),j=S.width,V=S.height,se=C||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=se,this.canvas.width=se*j,this.canvas.height=se*V,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===r.Layout){var ee=this._layout.layoutScaleFactor;this.artboard.width=j/ee,this.artboard.height=V/ee}}},Object.defineProperty(P.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var C=[],S=0;S<this.artboard.animationCount();S++)C.push(this.artboard.animationByIndex(S).name);return C},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var C=[],S=0;S<this.artboard.stateMachineCount();S++)C.push(this.artboard.stateMachineByIndex(S).name);return C},enumerable:!1,configurable:!0}),P.prototype.stateMachineInputs=function(C){if(this.loaded){var S=this.animator.stateMachines.find(function(j){return j.name===C});return S==null?void 0:S.inputs}},P.prototype.retrieveInputAtPath=function(C,S){if(C)if(this.artboard){var j=this.artboard.inputByPath(C,S);if(j)return j;console.warn("Could not access an input with name: '".concat(C,"', at path:'").concat(S,"'"))}else console.warn("Tried to access input: '".concat(C,"', at path: '").concat(S,"', but the Artboard is null"));else console.warn("No input name provided for path '".concat(S,"'"))},P.prototype.setBooleanStateAtPath=function(C,S,j){var V=this.retrieveInputAtPath(C,j);V&&(V.type===I.Boolean?V.asBool().value=S:console.warn("Input with name: '".concat(C,"', at path:'").concat(j,"' is not a boolean")))},P.prototype.setNumberStateAtPath=function(C,S,j){var V=this.retrieveInputAtPath(C,j);V&&(V.type===I.Number?V.asNumber().value=S:console.warn("Input with name: '".concat(C,"', at path:'").concat(j,"' is not a number")))},P.prototype.fireStateAtPath=function(C,S){var j=this.retrieveInputAtPath(C,S);j&&(j.type===I.Trigger?j.asTrigger().fire():console.warn("Input with name: '".concat(C,"', at path:'").concat(S,"' is not a trigger")))},P.prototype.retrieveTextAtPath=function(C,S){if(C)if(S)if(this.artboard){var j=this.artboard.textByPath(C,S);if(j)return j;console.warn("Could not access text with name: '".concat(C,"', at path:'").concat(S,"'"))}else console.warn("Tried to access text: '".concat(C,"', at path: '").concat(S,"', but the Artboard is null"));else console.warn("No path provided for text '".concat(C,"'"));else console.warn("No text name provided for path '".concat(S,"'"))},P.prototype.getTextRunValueAtPath=function(C,S){var j=this.retrieveTextAtPath(C,S);if(j)return j.text;console.warn("Could not get text with name: '".concat(C,"', at path:'").concat(S,"'"))},P.prototype.setTextRunValueAtPath=function(C,S,j){var V=this.retrieveTextAtPath(C,j);V?V.text=S:console.warn("Could not set text with name: '".concat(C,"', at path:'").concat(j,"'"))},Object.defineProperty(P.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(C){return C.playing}).map(function(C){return C.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(C){return C.playing}).map(function(C){return C.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(C){return!C.playing}).map(function(C){return C.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(C){return!C.playing}).map(function(C){return C.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),P.prototype.on=function(C,S){this.eventManager.add({type:C,callback:S})},P.prototype.off=function(C,S){this.eventManager.remove({type:C,callback:S})},P.prototype.unsubscribe=function(C,S){console.warn("This function is deprecated: please use `off()` instead."),this.off(C,S)},P.prototype.removeAllRiveEventListeners=function(C){this.eventManager.removeAll(C)},P.prototype.unsubscribeAll=function(C){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(C)},P.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},P.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},P.prototype.enableFPSCounter=function(C){this.runtime.enableFPSCounter(C)},P.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(P.prototype,"contents",{get:function(){if(this.loaded){for(var C={artboards:[]},S=0;S<this.file.artboardCount();S++){for(var j=this.file.artboardByIndex(S),V={name:j.name,animations:[],stateMachines:[]},se=0;se<j.animationCount();se++){var ee=j.animationByIndex(se);V.animations.push(ee.name)}for(var ue=0;ue<j.stateMachineCount();ue++){for(var Re=j.stateMachineByIndex(ue),We=Re.name,Le=new this.runtime.StateMachineInstance(Re,j),xt=[],Ft=0;Ft<Le.inputCount();Ft++){var Ie=Le.input(Ft);xt.push({name:Ie.name,type:Ie.type})}V.stateMachines.push({name:We,inputs:xt})}C.artboards.push(V)}return C}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(C){this._volume=C,this.artboard&&(this.artboard.volume=C*be.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"artboardWidth",{get:function(){var C;return this.artboard?this.artboard.width:(C=this._artboardWidth)!==null&&C!==void 0?C:0},set:function(C){this._artboardWidth=C,this.artboard&&(this.artboard.width=C)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"artboardHeight",{get:function(){var C;return this.artboard?this.artboard.height:(C=this._artboardHeight)!==null&&C!==void 0?C:0},set:function(C){this._artboardHeight=C,this.artboard&&(this.artboard.height=C)},enumerable:!1,configurable:!0}),P.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(P.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(C){this._devicePixelRatioUsed=C},enumerable:!1,configurable:!0}),P.missingErrorMessage="Rive source file or data buffer required",P.cleanupErrorMessage="Attempt to use file after calling cleanup.",P}(),bt=function(P){return g(void 0,void 0,void 0,function(){var C;return h(this,function(S){switch(S.label){case 0:return C=new Request(P),[4,fetch(C)];case 1:return[4,S.sent().arrayBuffer()];case 2:return[2,S.sent()]}})})},Ce=function(P){return typeof P=="string"?[P]:P instanceof Array?P:[]},Qe={EventManager:Q,TaskQueueManager:_e},Lt=function(P){return new Promise(function(C){return T.getInstance(function(S){S.decodeAudio(P,C)})})},$t=function(P){return new Promise(function(C){return T.getInstance(function(S){S.decodeImage(P,C)})})},Vt=function(P){return new Promise(function(C){return T.getInstance(function(S){S.decodeFont(P,C)})})}})(),t})();var z0=B0.exports=Yu();const Ur=class Ur{constructor(){te(this,"memoryUpdates",vt(null));te(this,"clearTimeout")}notifyMemoryUpdated(){this.clearTimeout||(this.memoryUpdates.set({timestamp:Date.now()}),clearTimeout(this.clearTimeout),this.clearTimeout=void 0,this.clearTimeout=setTimeout(()=>{this.memoryUpdates.set(null),this.clearTimeout=void 0},Ur.CLEAR_DELAY_MS))}subscribe(e){return this.memoryUpdates.subscribe(e)}};te(Ur,"CLEAR_DELAY_MS",1e4);let Ii=Ur;const Xu=new Ii,j0=""+new URL("memories-dark-DhQ4ghw7.riv",import.meta.url).href,Ja=""+new URL("memories-light-Cj0fATGz.riv",import.meta.url).href;function H0(i){let e,n,t;return{c(){e=F("span"),e.textContent="Augment Memories",A(e,"role","button"),A(e,"tabindex","0")},m(o,r){M(o,e,r),n||(t=[ke(e,"click",i[5]),ke(e,"keydown",i[6])],n=!0)},p:N,d(o){o&&w(e),n=!1,Nt(t)}}}function U0(i){let e,n;return e=new ht({props:{content:"Information that Agent remembered from previous interactions (click to open)",$$slots:{default:[H0]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};8192&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function W0(i){let e,n,t={slot:"chaser",repeat:1,speed:1.3,onStopChaser:i[2]};return e=new Wu({props:t}),i[8](e),{c(){y(e.$$.fragment)},m(o,r){b(e,o,r),n=!0},p(o,r){e.$set({})},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){i[8](null),x(e,o)}}}function q0(i){let e;return{c(){e=F("canvas"),A(e,"slot","leftIcon"),A(e,"width","32"),A(e,"height","32"),rn(e,"width","14px"),rn(e,"height","14px")},m(n,t){M(n,e,t),i[7](e)},p:N,d(n){n&&w(e),i[7](null)}}}function G0(i){let e,n;return e=new eo({props:{$$slots:{leftIcon:[q0],chaser:[W0],default:[U0]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,[o]){const r={};8195&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function V0(i,e,n){let t;Ze(i,Xu,u=>n(4,t=u));let o,r,s,c=Ja;function a(){r&&(r==null||r.cleanup(),n(3,r=void 0)),o&&!r&&n(3,r=new z0.Rive({src:c,canvas:o,autoplay:!1,onLoad:()=>{r==null||r.resizeDrawingSurfaceToCanvas(),r==null||r.play(),r==null||r.stop()}}))}function l(u){c=u===jd.dark?j0:Ja,a()}return Qn(()=>{Bd(l),l(zd())}),Ao(()=>{r==null||r.cleanup()}),i.$$.update=()=>{9&i.$$.dirty&&o&&!r&&a(),16&i.$$.dirty&&(t!=null&&t.timestamp)&&(r==null||r.reset(),r==null||r.play(),s==null||s.startChaser())},[o,s,function(){r==null||r.reset()},r,t,function(u){Hn.call(this,i,u)},function(u){Hn.call(this,i,u)},function(u){ft[u?"unshift":"push"](()=>{o=u,n(0,o)})},function(u){ft[u?"unshift":"push"](()=>{s=u,n(1,s)})}]}class Y0 extends oe{constructor(e){super(),re(this,e,V0,G0,ne,{})}}function ec(i){let e,n,t,o,r,s,c,a;const l=[J0,Q0,Z0,K0,X0],u=[];function f(g,h){return 2&h&&(e=null),2&h&&(n=null),2&h&&(t=null),2&h&&(o=null),e==null&&(e=!!Fi(g[1])),e?0:(n==null&&(n=!!Ni(g[1])),n?1:(t==null&&(t=!!pu(g[1])),t?2:(o==null&&(o=!!$u(g[1])),o?3:4)))}return r=f(i,-1),s=u[r]=l[r](i),{c(){s.c(),c=de()},m(g,h){u[r].m(g,h),M(g,c,h),a=!0},p(g,h){let k=r;r=f(g,h),r===k?u[r].p(g,h):(K(),p(u[k],1,1,()=>{u[k]=null}),Z(),s=u[r],s?s.p(g,h):(s=u[r]=l[r](g),s.c()),d(s,1),s.m(c.parentNode,c))},i(g){a||(d(s),a=!0)},o(g){p(s),a=!1},d(g){g&&w(c),u[r].d(g)}}}function X0(i){let e,n,t,o,r,s;const c=[n2,t2,e2],a=[];function l(u,f){return u[3]?0:u[2].iconName?1:2}return n=l(i),t=a[n]=c[n](i),{c(){e=F("div"),t.c(),A(e,"class","pulse-chip-container svelte-tiegzu")},m(u,f){M(u,e,f),a[n].m(e,null),o=!0,r||(s=Hd(Nf.call(null,e,i[6])),r=!0)},p(u,f){let g=n;n=l(u),n===g?a[n].p(u,f):(K(),p(a[g],1,1,()=>{a[g]=null}),Z(),t=a[n],t?t.p(u,f):(t=a[n]=c[n](u),t.c()),d(t,1),t.m(e,null))},i(u){o||(d(t),o=!0)},o(u){p(t),o=!1},d(u){u&&w(e),a[n].d(),r=!1,s()}}}function K0(i){let e,n;return e=new Y0({}),e.$on("click",function(){yt(i[2].onClick)&&i[2].onClick.apply(this,arguments)}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){i=t},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Z0(i){let e,n;return e=new p0({props:{item:i[1],chatModel:i[0]}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};2&o&&(r.item=t[1]),1&o&&(r.chatModel=t[0]),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Q0(i){let e,n;return e=new O0({props:{item:i[1]}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};2&o&&(r.item=t[1]),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function J0(i){let e,n;return e=new k0({props:{originalCode:i[1].selection.originalCode,onRemove:i[7]}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};2&o&&(r.originalCode=t[1].selection.originalCode),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function e2(i){let e,n;return e=new eo({props:{removeBtn:{title:i[2].removeTitle,onRemove:i[7]},showWarning:i[2].showWarning,$$slots:{default:[i2]},$$scope:{ctx:i}}}),e.$on("click",function(){yt(i[2].onClick)&&i[2].onClick.apply(this,arguments)}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){i=t;const r={};4&o&&(r.removeBtn={title:i[2].removeTitle,onRemove:i[7]}),4&o&&(r.showWarning=i[2].showWarning),4102&o&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function t2(i){let e,n;return e=new eo({props:{removeBtn:{title:i[2].removeTitle,onRemove:i[7]},showWarning:i[2].showWarning,$$slots:{leftIcon:[l2],default:[c2]},$$scope:{ctx:i}}}),e.$on("click",function(){yt(i[2].onClick)&&i[2].onClick.apply(this,arguments)}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){i=t;const r={};4&o&&(r.removeBtn={title:i[2].removeTitle,onRemove:i[7]}),4&o&&(r.showWarning=i[2].showWarning),4102&o&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function n2(i){let e,n;return e=new eo({props:{removeBtn:{title:i[2].removeTitle,onRemove:i[7]},showWarning:i[2].showWarning,$$slots:{leftButtons:[m2],default:[f2]},$$scope:{ctx:i}}}),e.$on("click",function(){yt(i[2].onClick)&&i[2].onClick.apply(this,arguments)}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){i=t;const r={};4&o&&(r.removeBtn={title:i[2].removeTitle,onRemove:i[7]}),4&o&&(r.showWarning=i[2].showWarning),4118&o&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function o2(i){let e,n;return e=new Gt({props:{nopath:!0,filepath:i[2].filepath}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4&o&&(r.filepath=t[2].filepath),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function r2(i){let e,n;return e=new Qo({props:{option:i[1],slot:"content"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};2&o&&(r.option=t[1]),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function i2(i){let e,n;return e=new ht({props:{$$slots:{content:[r2],default:[o2]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4102&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function s2(i){let e,n;return e=new Gt({props:{nopath:!0,filepath:i[2].filepath}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4&o&&(r.filepath=t[2].filepath),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function a2(i){let e,n;return e=new Qo({props:{option:i[1],slot:"content"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};2&o&&(r.option=t[1]),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function c2(i){let e,n;return e=new ht({props:{$$slots:{content:[a2],default:[s2]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4102&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function l2(i){let e,n;return e=new yg({props:{icon:i[2].iconName,slot:"leftIcon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4&o&&(r.icon=t[2].iconName),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function u2(i){let e,n;return e=new Gt({props:{nopath:!0,filepath:i[2].filepath}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4&o&&(r.filepath=t[2].filepath),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function d2(i){let e,n;return e=new Qo({props:{option:i[1],slot:"content"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};2&o&&(r.option=t[1]),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function f2(i){let e,n;return e=new ht({props:{$$slots:{content:[d2],default:[u2]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4102&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function m2(i){let e,n;const t=[i[4],{slot:"leftButtons"}];let o={};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return e=new ng({props:o}),{c(){y(e.$$.fragment)},m(r,s){b(e,r,s),n=!0},p(r,s){const c=16&s?wt(t,[Kn(r[4]),t[1]]):{};e.$set(c)},i(r){n||(d(e.$$.fragment,r),n=!0)},o(r){p(e.$$.fragment,r),n=!1},d(r){x(e,r)}}}function p2(i){let e,n,t=i[1]&&ec(i);return{c(){t&&t.c(),e=de()},m(o,r){t&&t.m(o,r),M(o,e,r),n=!0},p(o,[r]){o[1]?t?(t.p(o,r),2&r&&d(t,1)):(t=ec(o),t.c(),d(t,1),t.m(e.parentNode,e)):t&&(K(),p(t,1,1,()=>{t=null}),Z())},i(o){n||(d(t),n=!0)},o(o){p(t),n=!1},d(o){o&&w(e),t&&t.d(o)}}}function $2(i,e,n){let t,o,r,s,c,a,l=N,u=N,f=()=>(u(),u=it(g,_=>n(10,a=_)),g);i.$$.on_destroy.push(()=>l()),i.$$.on_destroy.push(()=>u());let{chatModel:g}=e;f();let{item:h}=e,k=!1;const I=new Pf({onHoverStart:()=>{n(8,k=!0)},onHoverEnd:()=>{n(8,k=!1)},hoverTriggerDuration:0});return i.$$set=_=>{"chatModel"in _&&f(n(0,g=_.chatModel)),"item"in _&&n(1,h=_.item)},i.$$.update=()=>{1024&i.$$.dirty&&(n(5,t=a==null?void 0:a.specialContextInputModel),l(),l=it(t,_=>n(9,c=_))),2&i.$$.dirty&&n(2,o=(_=>{const T={onClick:void 0,removeTitle:"",filepath:"",pinnable:!0,iconName:void 0,showWarning:!1};return Li(_)?{...T,onClick:()=>g==null?void 0:g.extensionClient.openFile(_.file),removeTitle:"Remove file from context",filepath:_.file.pathName}:Si(_)?{...T,onClick:()=>g==null?void 0:g.extensionClient.openFile(_.recentFile),removeTitle:"Remove file from context",filepath:_.recentFile.pathName}:Ri(_)?{...T,onClick:()=>g==null?void 0:g.extensionClient.openFile(_.folder),removeTitle:"Remove folder from context",filepath:_.folder.pathName,iconName:"folder-opened"}:Pi(_)?{...T,removeTitle:"Remove external source from context",filepath:_.label,iconName:"book"}:qr(_)?{...T,removeTitle:"Remove source folder from context",filepath:_.sourceFolder.folderRoot,iconName:"root-folder",pinnable:!1,showWarning:_.showWarning}:pu(_)?{...T,iconName:"root-folder",pinnable:!1}:$u(_)?{...T,onClick:()=>{const O=g==null?void 0:g.flags.agentMemoriesFilePathName;g!=null&&g.currentConversationId&&g.extensionClient.reportAgentSessionEvent({eventName:Rr.openedMemoriesFile,conversationId:g.currentConversationId,eventData:{memoriesFileOpenData:{memoriesPathUndefined:!O}}}),g==null||g.extensionClient.openMemoriesFile()},pinnable:!1}:T})(h)),514&i.$$.dirty&&n(4,r={title:h.pinned?"Unpin":"Pin to context",onPin:()=>c==null?void 0:c.togglePinned(h),isPinned:h.pinned}),262&i.$$.dirty&&n(3,s=o.pinnable&&(k||h.pinned))},[g,h,o,s,r,t,I,()=>{c==null||c.markInactive(h),c==null||c.unpin(h)},k,c,a]}class h2 extends oe{constructor(e){super(),re(this,e,$2,p2,ne,{chatModel:0,item:1})}}function tc(i,e,n){const t=i.slice();return t[6]=e[n],t}function nc(i){let e,n;return e=new h2({props:{item:i[6],chatModel:i[0]}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};2&o&&(r.item=t[6]),1&o&&(r.chatModel=t[0]),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function oc(i){let e,n;return e=new If({props:{color:"premium",size:1,variant:"soft",$$slots:{default:[g2]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function g2(i){let e;return{c(){e=X("Beta")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function v2(i){let e,n,t,o,r=Tt(i[4]),s=ct(i[1]),c=[];for(let u=0;u<s.length;u+=1)c[u]=nc(tc(i,s,u));const a=u=>p(c[u],1,1,()=>{c[u]=null});let l=r&&oc(i);return{c(){e=F("div"),n=F("div");for(let u=0;u<c.length;u+=1)c[u].c();t=U(),l&&l.c(),A(n,"class","c-action-bar-context-container svelte-1wj2viq"),A(e,"class","c-action-bar-context svelte-1wj2viq")},m(u,f){M(u,e,f),H(e,n);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(n,null);H(e,t),l&&l.m(e,null),o=!0},p(u,[f]){if(3&f){let g;for(s=ct(u[1]),g=0;g<s.length;g+=1){const h=tc(u,s,g);c[g]?(c[g].p(h,f),d(c[g],1)):(c[g]=nc(h),c[g].c(),d(c[g],1),c[g].m(n,null))}for(K(),g=s.length;g<c.length;g+=1)a(g);Z()}16&f&&(r=Tt(u[4])),r?l?16&f&&d(l,1):(l=oc(u),l.c(),d(l,1),l.m(e,null)):l&&(K(),p(l,1,1,()=>{l=null}),Z())},i(u){if(!o){for(let f=0;f<s.length;f+=1)d(c[f]);d(l),o=!0}},o(u){c=c.filter(Boolean);for(let f=0;f<c.length;f+=1)p(c[f]);p(l),o=!1},d(u){u&&w(e),cn(c,u),l&&l.d()}}}function w2(i,e,n){let t,o,r,s,c=N,a=N;i.$$.on_destroy.push(()=>c()),i.$$.on_destroy.push(()=>a());let{chatModel:l}=e,u=[];return i.$$set=f=>{"chatModel"in f&&n(0,l=f.chatModel)},i.$$.update=()=>{if(1&i.$$.dirty&&(n(3,t=l.specialContextInputModel),c(),c=it(t,f=>n(5,r=f))),1&i.$$.dirty&&(n(2,o=l.currentConversationModel),a(),a=it(o,f=>n(4,s=f))),32&i.$$.dirty){const f=r.recentActiveItems,g=[],h=f.filter(k=>!qr(k)||(g.push(k),!1));g.length>1?(h.push({id:"sourceFoldersGroup",label:"Repos",status:cf.active,sourceFolderGroup:g.sort((k,I)=>{const _=_i(k.sourceFolder.folderRoot),T=_i(I.sourceFolder.folderRoot);return _.localeCompare(T)}),referenceCount:1}),n(1,u=h.reverse())):n(1,u=f.reverse())}},[l,u,o,t,s,r]}class y2 extends oe{constructor(e){super(),re(this,e,w2,v2,ne,{chatModel:0})}}const b2=i=>({}),rc=i=>({}),x2=i=>({}),ic=i=>({});function _2(i){let e,n,t,o,r;const s=i[1].leftAlign,c=ze(s,i,i[0],ic),a=i[1].rightAlign,l=ze(a,i,i[0],rc);return{c(){e=F("div"),n=F("div"),c&&c.c(),t=U(),o=F("div"),l&&l.c(),A(n,"class","c-input-action-bar__left-align"),A(o,"class","c-input-action-bar__right-align"),A(e,"class","c-input-action-bar svelte-188f6za")},m(u,f){M(u,e,f),H(e,n),c&&c.m(n,null),H(e,t),H(e,o),l&&l.m(o,null),r=!0},p(u,[f]){c&&c.p&&(!r||1&f)&&je(c,s,u,u[0],r?Ue(s,u[0],f,x2):He(u[0]),ic),l&&l.p&&(!r||1&f)&&je(l,a,u,u[0],r?Ue(a,u[0],f,b2):He(u[0]),rc)},i(u){r||(d(c,u),d(l,u),r=!0)},o(u){p(c,u),p(l,u),r=!1},d(u){u&&w(e),c&&c.d(u),l&&l.d(u)}}}function C2(i,e,n){let{$$slots:t={},$$scope:o}=e;return i.$$set=r=>{"$$scope"in r&&n(0,o=r.$$scope)},[o,t]}function M2(i){let e;const n=i[2].default,t=ze(n,i,i[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||8&r)&&je(t,n,o,o[3],e?Ue(n,o[3],r,null):He(o[3]),null)},i(o){e||(d(t,o),e=!0)},o(o){p(t,o),e=!1},d(o){t&&t.d(o)}}}function A2(i){let e,n;return e=new pt({props:{size:1,variant:"solid",disabled:i[0],"data-input-action-bar___send-split-button":"true",$$slots:{default:[M2]},$$scope:{ctx:i}}}),e.$on("keyup",function(){yt(Rn("Enter",i[1]))&&Rn("Enter",i[1]).apply(this,arguments)}),e.$on("click",function(){yt(i[1])&&i[1].apply(this,arguments)}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,[o]){i=t;const r={};1&o&&(r.disabled=i[0]),8&o&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function k2(i,e,n){let{$$slots:t={},$$scope:o}=e,{disabled:r=!1}=e,{onSend:s}=e;return i.$$set=c=>{"disabled"in c&&n(0,r=c.disabled),"onSend"in c&&n(1,s=c.onSend),"$$scope"in c&&n(3,o=c.$$scope)},[r,s,t,o]}class Ku extends oe{constructor(e){super(),re(this,e,k2,A2,ne,{disabled:0,onSend:1})}}function sc(i,e,n){const t=i.slice();t[11]=e[n];const o=t[2][t[11]];t[12]=o;const r=t[11]===t[4].currentConversationModel.selectedModelId;return t[13]=r,t}function ac(i){let e,n;return e=new Ae.Root({props:{open:i[3],$$slots:{default:[N2]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};8&o&&(r.open=t[3]),1039&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function E2(i){let e,n;return e=new Ko({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function I2(i){let e,n;return e=new fu({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function T2(i){let e,n,t,o;const r=[I2,E2],s=[];function c(a,l){return a[3]?0:1}return e=c(i),n=s[e]=r[e](i),{c(){n.c(),t=de()},m(a,l){s[e].m(a,l),M(a,t,l),o=!0},p(a,l){let u=e;e=c(a),e!==u&&(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),n=s[e],n||(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t))},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),s[e].d(a)}}}function L2(i){let e,n;return e=new At({props:{size:1,variant:"solid",disabled:i[0],"data-input-action-bar__model-select-button":"true",$$slots:{default:[T2]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o&&(r.disabled=t[0]),1032&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function S2(i){let e;return{c(){e=X("Models")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function R2(i){let e,n,t=i[12]+"";return{c(){e=X(t),n=U()},m(o,r){M(o,e,r),M(o,n,r)},p(o,r){4&r&&t!==(t=o[12]+"")&&Te(e,t)},d(o){o&&(w(e),w(n))}}}function cc(i){let e,n;function t(){return i[7](i[11])}return e=new Ae.Item({props:{highlight:i[13],onSelect:t,$$slots:{default:[R2]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(o,r){b(e,o,r),n=!0},p(o,r){i=o;const s={};4&r&&(s.highlight=i[13]),14&r&&(s.onSelect=t),1028&r&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function P2(i){let e,n,t,o;e=new Ae.Label({props:{$$slots:{default:[S2]},$$scope:{ctx:i}}});let r=ct(Object.keys(i[2])),s=[];for(let a=0;a<r.length;a+=1)s[a]=cc(sc(i,r,a));const c=a=>p(s[a],1,1,()=>{s[a]=null});return{c(){y(e.$$.fragment),n=U();for(let a=0;a<s.length;a+=1)s[a].c();t=de()},m(a,l){b(e,a,l),M(a,n,l);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(a,l);M(a,t,l),o=!0},p(a,l){const u={};if(1024&l&&(u.$$scope={dirty:l,ctx:a}),e.$set(u),30&l){let f;for(r=ct(Object.keys(a[2])),f=0;f<r.length;f+=1){const g=sc(a,r,f);s[f]?(s[f].p(g,l),d(s[f],1)):(s[f]=cc(g),s[f].c(),d(s[f],1),s[f].m(t.parentNode,t))}for(K(),f=r.length;f<s.length;f+=1)c(f);Z()}},i(a){if(!o){d(e.$$.fragment,a);for(let l=0;l<r.length;l+=1)d(s[l]);o=!0}},o(a){p(e.$$.fragment,a),s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)p(s[l]);o=!1},d(a){a&&(w(n),w(t)),x(e,a),cn(s,a)}}}function N2(i){let e,n,t,o;return e=new Ae.Trigger({props:{$$slots:{default:[L2]},$$scope:{ctx:i}}}),t=new Ae.Content({props:{size:1,side:"top",align:"end",onClickOutside:i[8],onEscapeKeyDown:i[9],$$slots:{default:[P2]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};1033&s&&(c.$$scope={dirty:s,ctx:r}),e.$set(c);const a={};8&s&&(a.onClickOutside=r[8]),8&s&&(a.onEscapeKeyDown=r[9]),1038&s&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function F2(i){let e,n,t,o=Object.keys(i[2]).length>1;const r=i[5].default,s=ze(r,i,i[10],null);let c=o&&ac(i);return{c(){e=F("div"),s&&s.c(),n=U(),c&&c.c(),A(e,"class","c-send-split-button svelte-hycw6v")},m(a,l){M(a,e,l),s&&s.m(e,null),H(e,n),c&&c.m(e,null),t=!0},p(a,[l]){s&&s.p&&(!t||1024&l)&&je(s,r,a,a[10],t?Ue(r,a[10],l,null):He(a[10]),null),4&l&&(o=Object.keys(a[2]).length>1),o?c?(c.p(a,l),4&l&&d(c,1)):(c=ac(a),c.c(),d(c,1),c.m(e,null)):c&&(K(),p(c,1,1,()=>{c=null}),Z())},i(a){t||(d(s,a),d(c),t=!0)},o(a){p(s,a),p(c),t=!1},d(a){a&&w(e),s&&s.d(a),c&&c.d()}}}function D2(i,e,n){let{$$slots:t={},$$scope:o}=e,{disabled:r=!1}=e,{onSelectModel:s}=e,{modelIdToDisplayName:c}=e;const a=qe("chatModel");if(!a)throw new Error("ChatModel not found in context");let l=!1;return i.$$set=u=>{"disabled"in u&&n(0,r=u.disabled),"onSelectModel"in u&&n(1,s=u.onSelectModel),"modelIdToDisplayName"in u&&n(2,c=u.modelIdToDisplayName),"$$scope"in u&&n(10,o=u.$$scope)},[r,s,c,l,a,t,()=>n(3,l=!l),u=>{s(u),n(3,l=!1)},()=>n(3,l=!1),()=>n(3,l=!1),o]}class O2 extends oe{constructor(e){super(),re(this,e,D2,F2,ne,{disabled:0,onSelectModel:1,modelIdToDisplayName:2})}}function lc(i){let e,n;return{c(){e=F("span"),n=X(i[4]),A(e,"class","c-model-preference-name svelte-unwyym")},m(t,o){M(t,e,o),H(e,n)},p(t,o){16&o&&Te(n,t[4])},d(t){t&&w(e)}}}function B2(i){var c;let e,n,t,o,r=i[4]&&((c=i[4])==null?void 0:c.toLowerCase())!=="default";e=new Xf({});let s=r&&lc(i);return{c(){y(e.$$.fragment),n=U(),s&&s.c(),t=de()},m(a,l){b(e,a,l),M(a,n,l),s&&s.m(a,l),M(a,t,l),o=!0},p(a,l){var u;16&l&&(r=a[4]&&((u=a[4])==null?void 0:u.toLowerCase())!=="default"),r?s?s.p(a,l):(s=lc(a),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},i(a){o||(d(e.$$.fragment,a),o=!0)},o(a){p(e.$$.fragment,a),o=!1},d(a){a&&(w(n),w(t)),x(e,a),s&&s.d(a)}}}function z2(i){let e,n;return e=new Ku({props:{disabled:i[1],onSend:i[0],$$slots:{default:[B2]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};2&o&&(r.disabled=t[1]),1&o&&(r.onSend=t[0]),8208&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function j2(i){let e,n;return e=new O2({props:{disabled:i[1],onSelectModel:i[11],modelIdToDisplayName:i[3],$$slots:{default:[z2]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};2&o&&(r.disabled=t[1]),64&o&&(r.onSelectModel=t[11]),8&o&&(r.modelIdToDisplayName=t[3]),8211&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function H2(i){let e,n;return e=new ht({props:{content:i[1]?i[2]:"",triggerOn:i[1]?[Pt.Hover]:[],$$slots:{default:[j2]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,[o]){const r={};6&o&&(r.content=t[1]?t[2]:""),2&o&&(r.triggerOn=t[1]?[Pt.Hover]:[]),8283&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function U2(i,e,n){let t,o,r,s,c,a,l=N,u=N;i.$$.on_destroy.push(()=>l()),i.$$.on_destroy.push(()=>u());const f=qe("chatModel");Ze(i,f,T=>n(10,a=T));const g=qe("agentConversationModel");if(!f)throw new Error("ChatModel not found in context");if(!g)throw new Error("AgentConversationModel not found in context");let{primaryAction:h}=e,{isDisabled:k=!1}=e,{disabledReason:I=""}=e,_={};return i.$$set=T=>{"primaryAction"in T&&n(0,h=T.primaryAction),"isDisabled"in T&&n(1,k=T.isDisabled),"disabledReason"in T&&n(2,I=T.disabledReason)},i.$$.update=()=>{1024&i.$$.dirty&&(n(6,t=a.currentConversationModel),l(),l=it(t,T=>n(8,s=T))),1024&i.$$.dirty&&(n(5,o=a.flags),u(),u=it(o,T=>n(9,c=T))),1024&i.$$.dirty&&n(3,_=Object.fromEntries(Object.entries(a.flags.modelDisplayNameToId).map(([T,O])=>[O,T]))),768&i.$$.dirty&&n(4,r=c.getModelDisplayName(s.selectedModelId))},[h,k,I,_,r,o,t,f,s,c,a,T=>t.setSelectedModelId(T)]}const Xn=class Xn{constructor(e,n){te(this,"_disposers",[]);te(this,"_allMentionables",vt([]));te(this,"_breadcrumbIds",vt([]));te(this,"_userQuery",vt(""));te(this,"_active",vt(!1));te(this,"_allGroups",en([this._active,this._allMentionables],([e,n])=>e?lf(n):[]));te(this,"_currentGroup",en([this._breadcrumbIds,this._allGroups],([e,n])=>{if(e.length===0)return;const t=e[e.length-1];return n.find(o=>Go(o)&&o.id===t)}));te(this,"dispose",()=>{for(const e of this._disposers)e()});te(this,"openDropdown",()=>{this._active.set(!0)});te(this,"closeDropdown",()=>{this._active.set(!1),this._resetState()});te(this,"toggleDropdown",()=>ot(this._active)?(this.closeDropdown(),!1):(this.openDropdown(),!0));te(this,"pushBreadcrumb",e=>{ot(this._active)&&this._breadcrumbIds.update(n=>[...n,e.id])});te(this,"popBreadcrumb",()=>{ot(this._active)&&this._breadcrumbIds.update(e=>e.slice(0,-1))});te(this,"selectMentionable",e=>{var o;const n=this._chatModel.extensionClient,t=this._chatModel.specialContextInputModel;return Go(e)&&e.type==="breadcrumb"?(this.pushBreadcrumb(e),!0):e.type==="breadcrumb-back"?(this.popBreadcrumb(),!0):hu(e)?(t.markAllActive(),this.closeDropdown(),n.reportWebviewClientEvent(co.chatRestoreDefaultContext),!0):e.clearContext?(t.markAllInactive(),this.closeDropdown(),n.reportWebviewClientEvent(co.chatClearContext),!0):e.userGuidelines?(n.openSettingsPage("userGuidelines"),this.closeDropdown(),!0):((o=this._insertMentionNode)==null||o.call(this,e),this.closeDropdown(),!0)});te(this,"_displayItems",en([this._active,this._breadcrumbIds,this._userQuery,this._currentGroup,this.allGroups],([e,n,t,o,r])=>e?n.length>0&&o?[{...o,type:"breadcrumb-back"},...o.group.items.slice(0,Xn.SINGLE_GROUP_MAX_ITEMS).map(s=>({...s,type:"item"}))]:t.length>0?r.flatMap(s=>[{...s,type:"breadcrumb"},...s.group.items.slice(0,Xn.MULTI_GROUP_MAX_ITEMS).map(c=>({...c,type:"item"}))]):[{...uf,type:"item"},...r.map(s=>({...s,type:"breadcrumb"})),{...df,type:"item"},{...ff,type:"item"}]:[]));te(this,"_refreshSeqNum",0);te(this,"_refreshMentionables",lu.throttle(async()=>{if(!ot(this._active))return;this._refreshSeqNum++;const e=this._refreshSeqNum,n=this._chatModel.currentConversationModel&&Tt(this._chatModel.currentConversationModel),t=ot(this._userQuery),o=await this._chatModel.extensionClient.getSuggestions(t,n);e===this._refreshSeqNum&&this._allMentionables.set(W2(t,o))},Xn.REFRESH_THROTTLE_MS,{leading:!0,trailing:!0}));this._chatModel=e,this._insertMentionNode=n,this._disposers.push(this._userQuery.subscribe(this._refreshMentionables)),this._disposers.push(this._active.subscribe(this._refreshMentionables))}get allGroups(){return this._allGroups}get currentGroup(){return this._currentGroup}get breadcrumbIds(){return this._breadcrumbIds}get displayItems(){return this._displayItems}get active(){return this._active}get userQuery(){return this._userQuery}_resetState(){this._breadcrumbIds.set([]),this._userQuery.set("")}};te(Xn,"REFRESH_THROTTLE_MS",600),te(Xn,"SINGLE_GROUP_MAX_ITEMS",12),te(Xn,"MULTI_GROUP_MAX_ITEMS",6);let zr=Xn;const W2=(i,e)=>{if(i.length<=1)return e;const n=new yo(e,{keys:["label"],threshold:1,minMatchCharLength:0,ignoreLocation:!0,includeScore:!0,useExtendedSearch:!1,shouldSort:!0,findAllMatches:!0}).search(i);return n.length===0?e:n.map(t=>t.item)};function q2(i){let e,n,t,o=i[0].label+"";return{c(){e=F("span"),n=F("span"),t=X(o),A(n,"class","c-mentionable-group-label__text right"),A(e,"class","c-mentionable-group-label")},m(r,s){M(r,e,s),H(e,n),H(n,t)},p(r,s){1&s&&o!==(o=r[0].label+"")&&Te(t,o)},i:N,o:N,d(r){r&&w(e)}}}function G2(i){let e,n;return e=new bu({props:{$$slots:{text:[tv],leftIcon:[ev]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};17&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function V2(i){let e,n=i[0].label+"";return{c(){e=X(n)},m(t,o){M(t,e,o)},p(t,o){1&o&&n!==(n=t[0].label+"")&&Te(e,n)},i:N,o:N,d(t){t&&w(e)}}}function Y2(i){let e,n;return e=new Gt({props:{filepath:i[0].recentFile.pathName,$$slots:{leftIcon:[nv]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o&&(r.filepath=t[0].recentFile.pathName),16&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function X2(i){let e,n;return e=new Gt({props:{filepath:i[0].selection.pathName,$$slots:{leftIcon:[ov]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o&&(r.filepath=t[0].selection.pathName),16&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function K2(i){let e,n;return e=new Gt({props:{filepath:i[0].sourceFolder.folderRoot,$$slots:{leftIcon:[rv]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o&&(r.filepath=t[0].sourceFolder.folderRoot),16&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Z2(i){let e,n;return e=new Gt({props:{filepath:i[0].externalSource.name,$$slots:{leftIcon:[iv]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o&&(r.filepath=t[0].externalSource.name),16&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Q2(i){let e,n;return e=new Gt({props:{filepath:i[0].folder.pathName,$$slots:{leftIcon:[sv]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o&&(r.filepath=t[0].folder.pathName),16&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function J2(i){let e,n;return e=new Gt({props:{filepath:i[0].file.pathName,$$slots:{leftIcon:[av]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o&&(r.filepath=t[0].file.pathName),16&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function ev(i){let e,n,t;var o=Br(i[0].personality.type);return o&&(n=yn(o,{})),{c(){e=F("span"),n&&y(n.$$.fragment),A(e,"slot","leftIcon"),A(e,"class","c-context-menu-item__icon svelte-1b93fdw")},m(r,s){M(r,e,s),n&&b(n,e,null),t=!0},p(r,s){if(1&s&&o!==(o=Br(r[0].personality.type))){if(n){K();const c=n;p(c.$$.fragment,1,0,()=>{x(c,1)}),Z()}o?(n=yn(o,{}),y(n.$$.fragment),d(n.$$.fragment,1),b(n,e,null)):n=null}},i(r){t||(n&&d(n.$$.fragment,r),t=!0)},o(r){n&&p(n.$$.fragment,r),t=!1},d(r){r&&w(e),n&&x(n)}}}function tv(i){let e,n,t=i[0].label+"";return{c(){e=F("span"),n=X(t),A(e,"slot","text")},m(o,r){M(o,e,r),H(e,n)},p(o,r){1&r&&t!==(t=o[0].label+"")&&Te(n,t)},d(o){o&&w(e)}}}function nv(i){let e,n;return e=new Jn({props:{slot:"leftIcon",iconName:"description"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function ov(i){let e,n;return e=new Jn({props:{slot:"leftIcon",iconName:"text_select_start"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function rv(i){let e,n;return e=new Jn({props:{slot:"leftIcon",iconName:"folder_managed"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function iv(i){let e,n;return e=new Jn({props:{slot:"leftIcon",iconName:"import_contacts"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function sv(i){let e,n;return e=new Jn({props:{slot:"leftIcon",iconName:"folder_open"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function av(i){let e,n;return e=new Jn({props:{slot:"leftIcon",iconName:"description"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function cv(i){let e,n,t,o,r,s,c,a,l,u,f,g,h;const k=[J2,Q2,Z2,K2,X2,Y2,V2,G2,q2],I=[];function _(T,O){return 1&O&&(e=null),1&O&&(n=null),1&O&&(t=null),1&O&&(o=null),1&O&&(r=null),1&O&&(s=null),1&O&&(c=null),1&O&&(a=null),1&O&&(l=null),e==null&&(e=!!Li(T[0])),e?0:(n==null&&(n=!!Ri(T[0])),n?1:(t==null&&(t=!!Pi(T[0])),t?2:(o==null&&(o=!!qr(T[0])),o?3:(r==null&&(r=!!Fi(T[0])),r?4:(s==null&&(s=!!Si(T[0])),s?5:(c==null&&(c=!!Go(T[0])),c?6:(a==null&&(a=!!mu(T[0])),a?7:(l==null&&(l=!!(hu(T[0])||mf(T[0])||Ni(T[0]))),l?8:-1))))))))}return~(u=_(i,-1))&&(f=I[u]=k[u](i)),{c(){f&&f.c(),g=de()},m(T,O){~u&&I[u].m(T,O),M(T,g,O),h=!0},p(T,O){let B=u;u=_(T,O),u===B?~u&&I[u].p(T,O):(f&&(K(),p(I[B],1,1,()=>{I[B]=null}),Z()),~u?(f=I[u],f?f.p(T,O):(f=I[u]=k[u](T),f.c()),d(f,1),f.m(g.parentNode,g)):f=null)},i(T){h||(d(f),h=!0)},o(T){p(f),h=!1},d(T){T&&w(g),~u&&I[u].d(T)}}}function lv(i){let e,n,t;var o=i[3];function r(s,c){return{props:{highlight:s[2],onSelect:s[1],$$slots:{default:[cv]},$$scope:{ctx:s}}}}return o&&(e=yn(o,r(i))),{c(){e&&y(e.$$.fragment),n=de()},m(s,c){e&&b(e,s,c),M(s,n,c),t=!0},p(s,[c]){if(8&c&&o!==(o=s[3])){if(e){K();const a=e;p(a.$$.fragment,1,0,()=>{x(a,1)}),Z()}o?(e=yn(o,r(s)),y(e.$$.fragment),d(e.$$.fragment,1),b(e,n.parentNode,n)):e=null}else if(o){const a={};4&c&&(a.highlight=s[2]),2&c&&(a.onSelect=s[1]),17&c&&(a.$$scope={dirty:c,ctx:s}),e.$set(a)}},i(s){t||(e&&d(e.$$.fragment,s),t=!0)},o(s){e&&p(e.$$.fragment,s),t=!1},d(s){s&&w(n),e&&x(e,s)}}}function uv(i,e,n){let t,{item:o}=e,{onSelect:r}=e,{highlight:s}=e;return i.$$set=c=>{"item"in c&&n(0,o=c.item),"onSelect"in c&&n(1,r=c.onSelect),"highlight"in c&&n(2,s=c.highlight)},i.$$.update=()=>{1&i.$$.dirty&&(o.type==="breadcrumb-back"?n(3,t=Ae.BreadcrumbBackItem):o.type==="breadcrumb"&&Go(o)?n(3,t=Ae.BreadcrumbItem):o.type!=="item"||Go(o)||n(3,t=Ae.Item))},[o,r,s,t]}class Zu extends oe{constructor(e){super(),re(this,e,uv,lv,ne,{item:0,onSelect:1,highlight:2})}}const dv=i=>({}),uc=i=>({});function dc(i){let e,n;return{c(){e=F("span"),n=X(i[0]),A(e,"class","c-input-action-bar-command__command svelte-xsyu9p")},m(t,o){M(t,e,o),H(e,n)},p(t,o){1&o&&Te(n,t[0])},d(t){t&&w(e)}}}function fv(i){let e,n,t,o;const r=i[3].symbol,s=ze(r,i,i[2],uc),c=s||function(l){let u;return{c(){u=X(l[1])},m(f,g){M(f,u,g)},p(f,g){2&g&&Te(u,f[1])},d(f){f&&w(u)}}}(i);let a=i[0]&&dc(i);return{c(){e=F("span"),n=F("span"),c&&c.c(),t=U(),a&&a.c(),A(n,"class","c-input-action-bar-command__symbol svelte-xsyu9p"),A(e,"class","c-input-action-bar-command svelte-xsyu9p")},m(l,u){M(l,e,u),H(e,n),c&&c.m(n,null),H(e,t),a&&a.m(e,null),o=!0},p(l,[u]){s?s.p&&(!o||4&u)&&je(s,r,l,l[2],o?Ue(r,l[2],u,dv):He(l[2]),uc):c&&c.p&&(!o||2&u)&&c.p(l,o?u:-1),l[0]?a?a.p(l,u):(a=dc(l),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(l){o||(d(c,l),o=!0)},o(l){p(c,l),o=!1},d(l){l&&w(e),c&&c.d(l),a&&a.d()}}}function mv(i,e,n){let{$$slots:t={},$$scope:o}=e,{command:r}=e,{symbol:s="/"}=e;return i.$$set=c=>{"command"in c&&n(0,r=c.command),"symbol"in c&&n(1,s=c.symbol),"$$scope"in c&&n(2,o=c.$$scope)},[r,s,o,t]}class Wi extends oe{constructor(e){super(),re(this,e,mv,fv,ne,{command:0,symbol:1})}}function pv(i){let e,n,t=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 512 512"},i[0]],o={};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return{c(){e=Fe("svg"),n=new jt(!0),this.h()},l(r){e=Ht(r,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var s=Ut(e);n=Wt(s,!0),s.forEach(w),this.h()},h(){n.a=null,rt(e,o)},m(r,s){qt(r,e,s),n.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208c13.3 0 24 10.7 24 24s-10.7 24-24 24C114.6 512 0 397.4 0 256S114.6 0 256 0s256 114.6 256 256v28c0 50.8-41.2 92-92 92-31.1 0-58.7-15.5-75.3-39.2-22 24.1-53.6 39.2-88.7 39.2-66.3 0-120-53.7-120-120s53.7-120 120-120c28.8 0 55.2 10.1 75.8 27 4.3-6.6 11.7-11 20.2-11 13.3 0 24 10.7 24 24v108c0 24.3 19.7 44 44 44s44-19.7 44-44v-28c0-114.9-93.1-208-208-208m72 208a72 72 0 1 0-144 0 72 72 0 1 0 144 0"/>',e)},p(r,[s]){rt(e,o=wt(t,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 512 512"},1&s&&r[0]]))},i:N,o:N,d(r){r&&w(e)}}}function $v(i,e,n){return i.$$set=t=>{n(0,e=Ee(Ee({},e),et(t)))},[e=et(e)]}class hv extends oe{constructor(e){super(),re(this,e,$v,pv,ne,{})}}function fc(i,e,n){const t=i.slice();return t[21]=e[n],t}function gv(i){let e,n;return e=new hv({props:{slot:"symbol"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function vv(i){let e,n,t;return n=new Wi({props:{$$slots:{symbol:[gv]},$$scope:{ctx:i}}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-context-menu__trigger-text svelte-1jreht0")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p(o,r){const s={};16777216&r&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function wv(i){let e,n;return e=new pt({props:{size:1,variant:"ghost",color:"accent",$$slots:{default:[vv]},$$scope:{ctx:i}}}),e.$on("click",i[2]),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};16777216&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function mc(i){let e,n;function t(){return i[15](i[21])}return e=new Zu({props:{item:i[21],onSelect:t}}),{c(){y(e.$$.fragment)},m(o,r){b(e,o,r),n=!0},p(o,r){i=o;const s={};32&r&&(s.item=i[21]),32&r&&(s.onSelect=t),e.$set(s)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function yv(i){let e,n,t,o,r,s,c,a=ct(i[5]),l=[];for(let h=0;h<a.length;h+=1)l[h]=mc(fc(i,a,h));const u=h=>p(l[h],1,1,()=>{l[h]=null});function f(h){i[16](h)}t=new Ae.Separator({});let g={placeholder:"Focus context"};return i[6]!==void 0&&(g.value=i[6]),r=new Ae.TextFieldItem({props:g}),ft.push(()=>Zt(r,"value",f)),{c(){e=F("div");for(let h=0;h<l.length;h+=1)l[h].c();n=U(),y(t.$$.fragment),o=U(),y(r.$$.fragment),A(e,"class","c-context-menu__items svelte-1jreht0")},m(h,k){M(h,e,k);for(let I=0;I<l.length;I+=1)l[I]&&l[I].m(e,null);M(h,n,k),b(t,h,k),M(h,o,k),b(r,h,k),c=!0},p(h,k){if(800&k){let _;for(a=ct(h[5]),_=0;_<a.length;_+=1){const T=fc(h,a,_);l[_]?(l[_].p(T,k),d(l[_],1)):(l[_]=mc(T),l[_].c(),d(l[_],1),l[_].m(e,null))}for(K(),_=a.length;_<l.length;_+=1)u(_);Z()}const I={};!s&&64&k&&(s=!0,I.value=h[6],tn(()=>s=!1)),r.$set(I)},i(h){if(!c){for(let k=0;k<a.length;k+=1)d(l[k]);d(t.$$.fragment,h),d(r.$$.fragment,h),c=!0}},o(h){l=l.filter(Boolean);for(let k=0;k<l.length;k+=1)p(l[k]);p(t.$$.fragment,h),p(r.$$.fragment,h),c=!1},d(h){h&&(w(e),w(n),w(o)),cn(l,h),x(t,h),x(r,h)}}}function bv(i){let e,n,t,o;return e=new Ae.Trigger({props:{$$slots:{default:[wv]},$$scope:{ctx:i}}}),t=new Ae.Content({props:{size:1,side:"top",align:"start",onClickOutside:i[1],onEscapeKeyDown:i[1],onRequestClose:i[1],$$slots:{default:[yv]},$$scope:{ctx:i}}}),t.$on("keydown",i[7]),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};16777216&s&&(c.$$scope={dirty:s,ctx:r}),e.$set(c);const a={};16777312&s&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function xv(i){let e,n,t={open:i[4],onOpenChange:i[17],nested:!1,$$slots:{default:[bv]},$$scope:{ctx:i}};return e=new Ae.Root({props:t}),i[18](e),{c(){y(e.$$.fragment)},m(o,r){b(e,o,r),n=!0},p(o,[r]){const s={};16&r&&(s.open=o[4]),1&r&&(s.onOpenChange=o[17]),16777312&r&&(s.$$scope={dirty:r,ctx:o}),e.$set(s)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){i[18](null),x(e,o)}}}function _v(i,e,n){let t,o,r,s,{onCloseDropdown:c=()=>{}}=e,{onInsertMentionable:a}=e;const l=qe("chatModel");if(!l)throw new Error("ChatModel not found in context");const u=()=>{s==null||s.focusIdx(-1)},f=()=>{s==null||s.focusIdx(0)},g=new zr(l,_=>!!a&&a(_)),{displayItems:h,active:k,userQuery:I}=g;return Ze(i,h,_=>n(5,o=_)),Ze(i,k,_=>n(4,t=_)),Ze(i,I,_=>n(6,r=_)),Ao(g.dispose),i.$$set=_=>{"onCloseDropdown"in _&&n(0,c=_.onCloseDropdown),"onInsertMentionable"in _&&n(13,a=_.onInsertMentionable)},[c,async()=>{g.closeDropdown()},async()=>{g.toggleDropdown()&&(await jo(),u())},s,t,o,r,async _=>{switch(_.key){case"ArrowLeft":_.preventDefault(),g.popBreadcrumb(),await jo(),s==null||s.focusIdx(0);break;case"ArrowRight":case"ArrowDown":case"ArrowUp":case"Enter":break;default:_.defaultPrevented||u()}},f,g,h,k,I,a,async()=>{g.openDropdown(),await jo(),u()},async _=>{g.selectMentionable(_),await jo(),f()},function(_){r=_,I.set(r)},_=>{_||c()},function(_){ft[_?"unshift":"push"](()=>{s=_,n(3,s)})}]}function pc(i){return i.line_start===i.line_end?`L${i.line_start+1}`:`L${i.line_start+1}-${i.line_end+1}`}const Qu=[{id:"find",label:"find",description:"things in your code base",requiresInput:!0,requiresEditorSelection:!1,placeholderText:"What code are you looking for?",selectionReminderMessage:"Select code in the editor to find.",visible:!0,promptFactory:async i=>`Find ${i}`},{id:"explain",label:"explain",description:"how selected code works",requiresInput:!1,requiresEditorSelection:!0,placeholderText:"",selectionReminderMessage:"Select code in the editor to explain.",visible:!0,promptFactory:async()=>"Explain the selected code"},{id:"fix",label:"fix",description:"issues in selected code",requiresInput:!1,requiresEditorSelection:!0,placeholderText:"",selectionReminderMessage:"Select code in the editor to fix.",visible:!0,promptFactory:async function(i,e){const n=await async function(o){let r=[];try{r=await o.extensionClient.getDiagnostics()}catch(s){console.error("Failed to get diagnostic messages:",s)}return r}(e);let t="Fix the selected code.";return t+=function(o){if(o.length===0)return" The IDE does not report any issues on the selected code.";if(o.length===1)return` The IDE reports the following issue:

• ${pc(o[0].location)}: ${o[0].message}`;{const r=o.sort((l,u)=>l.location.line_start-u.location.line_start).reduce((l,u)=>{const f=`${u.location.line_start},${u.location.line_end}`;return l[f]||(l[f]=[]),l[f].push(u),l},{}),s=Object.entries(r).map(([l,u])=>{const[f,g]=l.split(",").map(Number),h=pc({path:"",line_start:f,line_end:g});return u.length===1?`• ${h}: ${u[0].message}`:`• ${h}:
${u.map((k,I)=>`    ${I+1}. ${k.message}`).join(`
`)}`}).join(`
`),c=Math.min(...o.map(l=>l.location.line_start)),a=Math.max(...o.map(l=>l.location.line_end));return` The IDE reports the following issues on ${c===a?`L${c+1}`:`L${c+1}-${a+1}`}:

${s}`}}(n),t}},{id:"write-test",label:"write-test",description:"add tests for selected code",requiresInput:!1,requiresEditorSelection:!0,placeholderText:"",selectionReminderMessage:"Select code in the editor to test.",visible:!0,promptFactory:async()=>"Write a test for the selected code"},{id:"document",label:"document",description:"write documentation for selected code",requiresInput:!1,requiresEditorSelection:!0,placeholderText:"",selectionReminderMessage:"Select code in the editor to document.",visible:!0,promptFactory:async()=>"Document selected code. Do not make unnecessary changes."},{id:"generate-commit-message",label:"generate-commit-message",description:"generate a commit message",requiresInput:!1,requiresEditorSelection:!1,placeholderText:"",selectionReminderMessage:"Hit enter or send to generate a commit message",visible:!0,promptFactory:async()=>""}];function Lr(i){return Qu.find(e=>e.id===i)}function Ju(){return Qu.filter(i=>i.visible)}class Cv{constructor(e,n){te(this,"_model");te(this,"_fn");te(this,"dispose",()=>{this._model.removeAfterCommandListener(this._fn)});this._model=e,this._fn=n}}class Mv{constructor(e,n){te(this,"_activeCommand",vt(void 0));te(this,"_isActiveCommandRunnable",vt(!1));te(this,"_afterCommandListeners",[]);te(this,"_inputText","");te(this,"_selections",[]);te(this,"hasActiveCommand",en(this._activeCommand,e=>e!==void 0));te(this,"isActiveCommandRunnable",yi(this._isActiveCommandRunnable));te(this,"activeCommand",yi(this._activeCommand));te(this,"activeCommandData",en(this._activeCommand,e=>Lr(e)));this._chatModel=e,this._agentConversationModel=n}get inputText(){return this._inputText}get selections(){return this._selections}setActiveCommand(e){this._activeCommand.set(e),this.updateRunnable()}setInputText(e){this._inputText=e,this.updateRunnable()}setSelections(e){this._selections=e,this.updateRunnable()}async runActiveCommand(){var t,o,r;const e=Lr(ot(this._activeCommand));if(!e)return;const n=await e.promptFactory(this._inputText,this._chatModel);this._activeCommand.set(void 0),this._chatModel.setCurrentConversation(),e.id==="generate-commit-message"?(t=this._chatModel.currentConversationModel)==null||t.generateCommitMessage():(r=this._chatModel.currentConversationModel)==null||r.sendExchange({request_message:n,rich_text_json_repr:void 0,status:kt.draft,model_id:((o=this._chatModel.currentConversationModel)==null?void 0:o.selectedModelId)??void 0}),this._chatModel.host.postMessage({type:dt.usedSlashAction}),this.reportCommandMetric(e.id),this._afterCommandListeners.forEach(s=>s(n))}reportCommandMetric(e){switch(e){case"fix":this._chatModel.extensionClient.reportWebviewClientEvent(co.chatUseActionFix);break;case"explain":this._chatModel.extensionClient.reportWebviewClientEvent(co.chatUseActionExplain);break;case"write-test":this._chatModel.extensionClient.reportWebviewClientEvent(co.chatUseActionWriteTest);break;case"find":this._chatModel.extensionClient.reportWebviewClientEvent(co.chatUseActionFind)}}cancelActiveCommand(){this._activeCommand.set(void 0),this._afterCommandListeners.forEach(e=>e(void 0))}afterCommand(e){return this._afterCommandListeners.push(e),new Cv(this,e)}removeAfterCommandListener(e){this._afterCommandListeners=this._afterCommandListeners.filter(n=>n!==e)}updateRunnable(){let e=!1;const n=ot(this._activeCommand),t=Lr(n);n!==void 0&&t!==void 0&&(e=!0,t!=null&&t.requiresInput&&(e=e&&this._inputText!==""),t!=null&&t.requiresEditorSelection&&(e=e&&this._selections.length>0)),this._isActiveCommandRunnable.set(e)}handleMessageFromExtension(e){const n=e.data;return n.type===dt.runSlashCommand&&(this._agentConversationModel.isCurrConversationAgentic&&this._agentConversationModel.setToChat(),this.setActiveCommand(n.data),this.runActiveCommand(),!0)}}function $c(i,e,n){const t=i.slice();return t[14]=e[n],t}function Av(i){let e,n,t;return n=new Wi({props:{symbol:"/"}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-actions-menu__trigger-text svelte-1d6vv18")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p:N,i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function kv(i){let e,n;return e=new pt({props:{size:1,variant:"ghost",color:"accent",$$slots:{default:[Av]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};131072&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Ev(i){let e,n,t,o=i[14].label+"";return{c(){e=X("/"),n=X(o),t=U()},m(r,s){M(r,e,s),M(r,n,s),M(r,t,s)},p(r,s){4&s&&o!==(o=r[14].label+"")&&Te(n,o)},d(r){r&&(w(e),w(n),w(t))}}}function hc(i){let e,n;function t(){return i[7](i[14])}return e=new Ae.Item({props:{onSelect:t,$$slots:{default:[Ev]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(o,r){b(e,o,r),n=!0},p(o,r){i=o;const s={};4&r&&(s.onSelect=t),131076&r&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Iv(i){let e,n,t,o,r,s,c,a=ct(i[2]),l=[];for(let h=0;h<a.length;h+=1)l[h]=hc($c(i,a,h));const u=h=>p(l[h],1,1,()=>{l[h]=null});function f(h){i[8](h)}t=new Ae.Separator({});let g={placeholder:"Run an action"};return i[0]!==void 0&&(g.value=i[0]),r=new Ae.TextFieldItem({props:g}),ft.push(()=>Zt(r,"value",f)),{c(){e=F("div");for(let h=0;h<l.length;h+=1)l[h].c();n=U(),y(t.$$.fragment),o=U(),y(r.$$.fragment),A(e,"class","c-actions-menu__items svelte-1d6vv18")},m(h,k){M(h,e,k);for(let I=0;I<l.length;I+=1)l[I]&&l[I].m(e,null);M(h,n,k),b(t,h,k),M(h,o,k),b(r,h,k),c=!0},p(h,k){if(36&k){let _;for(a=ct(h[2]),_=0;_<a.length;_+=1){const T=$c(h,a,_);l[_]?(l[_].p(T,k),d(l[_],1)):(l[_]=hc(T),l[_].c(),d(l[_],1),l[_].m(e,null))}for(K(),_=a.length;_<l.length;_+=1)u(_);Z()}const I={};!s&&1&k&&(s=!0,I.value=h[0],tn(()=>s=!1)),r.$set(I)},i(h){if(!c){for(let k=0;k<a.length;k+=1)d(l[k]);d(t.$$.fragment,h),d(r.$$.fragment,h),c=!0}},o(h){l=l.filter(Boolean);for(let k=0;k<l.length;k+=1)p(l[k]);p(t.$$.fragment,h),p(r.$$.fragment,h),c=!1},d(h){h&&(w(e),w(n),w(o)),cn(l,h),x(t,h),x(r,h)}}}function Tv(i){let e,n,t,o;return e=new Ae.Trigger({props:{$$slots:{default:[kv]},$$scope:{ctx:i}}}),t=new Ae.Content({props:{size:1,side:"top",align:"start",$$slots:{default:[Iv]},$$scope:{ctx:i}}}),t.$on("keydown",i[4]),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};131072&s&&(c.$$scope={dirty:s,ctx:r}),e.$set(c);const a={};131077&s&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function Lv(i){let e,n,t={onOpenChange:i[3],nested:!1,$$slots:{default:[Tv]},$$scope:{ctx:i}};return e=new Ae.Root({props:t}),i[9](e),{c(){y(e.$$.fragment)},m(o,r){b(e,o,r),n=!0},p(o,[r]){const s={};131077&r&&(s.$$scope={dirty:r,ctx:o}),e.$set(s)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){i[9](null),x(e,o)}}}function Sv(i,e,n){let t,o,{onCloseDropdown:r=()=>{}}=e;const s=qe("chatModel");if(!s)throw new Error("ChatModel not found in context");const c=qe("slashCommandModel");function a(){o==null||o.focusIdx(-1)}let l="";function u(f){c.setActiveCommand(f.id),o==null||o.requestClose()}return i.$$set=f=>{"onCloseDropdown"in f&&n(6,r=f.onCloseDropdown)},i.$$.update=()=>{1&i.$$.dirty&&n(2,t=function(f){let g=Ju();return s.flags.enableGenerateCommitMessage||(g=g.filter(h=>h.id!=="generate-commit-message")),f===void 0?g:g.filter(h=>h.label.toLowerCase().includes(f.toLowerCase()))}(l))},[l,o,t,async function(f){f?(await jo(),a()):(r(),n(0,l=""))},async f=>{switch(f.key){case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":case"Enter":break;default:f.defaultPrevented||a()}},u,r,f=>u(f),function(f){l=f,n(0,l)},function(f){ft[f?"unshift":"push"](()=>{o=f,n(1,o)})}]}function Rv(i){let e,n,t=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 448 512"},i[0]],o={};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return{c(){e=Fe("svg"),n=new jt(!0),this.h()},l(r){e=Ht(r,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var s=Ut(e);n=Wt(s,!0),s.forEach(w),this.h()},h(){n.a=null,rt(e,o)},m(r,s){qt(r,e,s),n.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M375 73c-26-26-68.1-26-94.1 0L89 265c-43.7 43.6-43.7 114.4 0 158s114.4 43.6 158.1 0L399 271c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L281 457c-62.4 62.4-163.5 62.4-225.9 0S-7.4 293.4 55 231L247 39c44.7-44.7 117.3-44.7 162 0s44.7 117.2 0 161.9L225.2 384.7c-31.6 31.6-83.6 28.7-111.5-6.2-23.8-29.8-21.5-72.8 5.5-99.8L271 127c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L153.2 312.7c-9.7 9.7-10.6 25.1-2 35.8 10 12.5 28.7 13.6 40 2.2L375 167c26-26 26-68.1 0-94.1z"/>',e)},p(r,[s]){rt(e,o=wt(t,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 448 512"},1&s&&r[0]]))},i:N,o:N,d(r){r&&w(e)}}}function Pv(i,e,n){return i.$$set=t=>{n(0,e=Ee(Ee({},e),et(t)))},[e=et(e)]}class Nv extends oe{constructor(e){super(),re(this,e,Pv,Rv,ne,{})}}function Fv(i){let e,n,t;return n=new Nv({}),{c(){e=F("span"),y(n.$$.fragment),A(e,"class","c-input-action-bar__icon svelte-5w6pdf"),A(e,"slot","symbol")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p:N,i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function Dv(i){let e,n,t,o,r,s,c;return n=new Wi({props:{$$slots:{symbol:[Fv]},$$scope:{ctx:i}}}),{c(){e=F("label"),y(n.$$.fragment),t=U(),o=F("input"),A(e,"for",i[3]),A(e,"class","c-input-action-bar__label svelte-5w6pdf"),A(o,"type","file"),o.hidden=!0,A(o,"id",i[3]),A(o,"accept",i[0])},m(a,l){M(a,e,l),b(n,e,null),M(a,t,l),M(a,o,l),r=!0,s||(c=[ke(o,"click",Bv),ke(o,"input",i[4])],s=!0)},p(a,l){const u={};128&l&&(u.$$scope={dirty:l,ctx:a}),n.$set(u),(!r||1&l)&&A(o,"accept",a[0])},i(a){r||(d(n.$$.fragment,a),r=!0)},o(a){p(n.$$.fragment,a),r=!1},d(a){a&&(w(e),w(t),w(o)),x(n),s=!1,Nt(c)}}}function Ov(i){let e,n;return e=new pt({props:{size:1,variant:"ghost-block",color:"accent",disabled:i[1],class:"c-input-action-bar__add-file-btn",$$slots:{default:[Dv]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,[o]){const r={};2&o&&(r.disabled=t[1]),133&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}const Bv=function(){this.value=null};function zv(i,e,n){let{accept:t="*"}=e,{disabled:o=!1}=e,{onAddFiles:r=a}=e;const s=`file-${Date.now()}-${Math.floor(1e4*Math.random())}`,c=Kf();function a(l){var u,f,g;(g=(f=(u=c.commandManager)==null?void 0:u.chain())==null?void 0:f.insertImagesIntoEditor)==null||g.call(f,l)}return i.$$set=l=>{"accept"in l&&n(0,t=l.accept),"disabled"in l&&n(1,o=l.disabled),"onAddFiles"in l&&n(2,r=l.onAddFiles)},[t,o,r,s,function(l){var u;r([...((u=l.currentTarget)==null?void 0:u.files)??[]])}]}function jv(i){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),A(n,"d","M2 3C2 2.44772 2.44772 2 3 2H12C12.5523 2 13 2.44772 13 3V12C13 12.5523 12.5523 13 12 13H3C2.44772 13 2 12.5523 2 12V3Z"),A(n,"fill","currentColor"),A(n,"fill-rule","evenodd"),A(n,"clip-rule","evenodd"),A(e,"width","15"),A(e,"height","15"),A(e,"viewBox","0 0 15 15"),A(e,"fill","none"),A(e,"xmlns","http://www.w3.org/2000/svg")},m(t,o){M(t,e,o),H(e,n)},p:N,i:N,o:N,d(t){t&&w(e)}}}class Hv extends oe{constructor(e){super(),re(this,e,null,jv,ne,{})}}function Uv(i){let e,n;return e=new Hv({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Wv(i){let e,n,t;return n=new pt({props:{size:1,variant:"soft",color:"neutral",$$slots:{default:[Uv]},$$scope:{ctx:i}}}),n.$on("click",function(){yt(i[0])&&i[0].apply(this,arguments)}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-cancel-button svelte-1b7ib22")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p(o,[r]){i=o;const s={};2&r&&(s.$$scope={dirty:r,ctx:i}),n.$set(s)},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function qv(i,e,n){let{cancelAction:t}=e;return i.$$set=o=>{"cancelAction"in o&&n(0,t=o.cancelAction)},[t]}function Gv(i){let e;return{c(){e=X("Resend")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function Vv(i){let e,n,t,o;return e=new Tf({}),t=new Oe({props:{size:1,$$slots:{default:[Gv]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};2&s&&(c.$$scope={dirty:s,ctx:r}),t.$set(c)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function Yv(i){let e,n,t;return n=new pt({props:{size:1,variant:"soft",color:"neutral",$$slots:{default:[Vv]},$$scope:{ctx:i}}}),n.$on("click",function(){yt(i[0])&&i[0].apply(this,arguments)}),n.$on("keyup",function(){yt(i[0])&&i[0].apply(this,arguments)}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-resend-button svelte-1a3z7my")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p(o,[r]){i=o;const s={};2&r&&(s.$$scope={dirty:r,ctx:i}),n.$set(s)},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function Xv(i,e,n){let{resendAction:t}=e;return i.$$set=o=>{"resendAction"in o&&n(0,t=o.resendAction)},[t]}function Kv(i){let e,n,t=[{width:"15"},{height:"15"},{viewBox:"0 0 512 512"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},i[0]],o={};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return{c(){e=Fe("svg"),n=Fe("path"),A(n,"d","M327.5 85.2c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L384 128l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L448 128l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L448 64 426.8 7.5C425.1 3 420.8 0 416 0s-9.1 3-10.8 7.5L384 64 327.5 85.2zM9.3 240C3.6 242.6 0 248.3 0 254.6s3.6 11.9 9.3 14.5L26.3 277l8.1 3.7 .6 .3 88.3 40.8L164.1 410l.3 .6 3.7 8.1 7.9 17.1c2.6 5.7 8.3 9.3 14.5 9.3s11.9-3.6 14.5-9.3l7.9-17.1 3.7-8.1 .3-.6 40.8-88.3L346 281l.6-.3 8.1-3.7 17.1-7.9c5.7-2.6 9.3-8.3 9.3-14.5s-3.6-11.9-9.3-14.5l-17.1-7.9-8.1-3.7-.6-.3-88.3-40.8L217 99.1l-.3-.6L213 90.3l-7.9-17.1c-2.6-5.7-8.3-9.3-14.5-9.3s-11.9 3.6-14.5 9.3l-7.9 17.1-3.7 8.1-.3 .6-40.8 88.3L35.1 228.1l-.6 .3-8.1 3.7L9.3 240zm83 14.5l51.2-23.6c10.4-4.8 18.7-13.1 23.5-23.5l23.6-51.2 23.6 51.2c4.8 10.4 13.1 18.7 23.5 23.5l51.2 23.6-51.2 23.6c-10.4 4.8-18.7 13.1-23.5 23.5l-23.6 51.2-23.6-51.2c-4.8-10.4-13.1-18.7-23.5-23.5L92.3 254.6zM384 384l-56.5 21.2c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L384 448l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L448 448l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L448 384l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L384 384z"),A(n,"fill","currentColor"),rt(e,o)},m(r,s){M(r,e,s),H(e,n)},p(r,[s]){rt(e,o=wt(t,[{width:"15"},{height:"15"},{viewBox:"0 0 512 512"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},1&s&&r[0]]))},i:N,o:N,d(r){r&&w(e)}}}function Zv(i,e,n){return i.$$set=t=>{n(0,e=Ee(Ee({},e),et(t)))},[e=et(e)]}class Qv extends oe{constructor(e){super(),re(this,e,Zv,Kv,ne,{})}}function gc(i){let e,n,t;return n=new At({props:{size:1,variant:"soft",color:"neutral",disabled:i[0],title:"Enhance Prompt",$$slots:{default:[t4]},$$scope:{ctx:i}}}),n.$on("click",i[5]),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-rewrite-prompt-button svelte-1k3jvo8")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p(o,r){const s={};1&r&&(s.disabled=o[0]),130&r&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function Jv(i){let e,n;return e=new Qv({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function e4(i){let e,n;return e=new Zn({props:{size:1,useCurrentColor:!0}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function t4(i){let e,n,t,o;const r=[e4,Jv],s=[];function c(a,l){return a[1]?0:1}return e=c(i),n=s[e]=r[e](i),{c(){n.c(),t=de()},m(a,l){s[e].m(a,l),M(a,t,l),o=!0},p(a,l){let u=e;e=c(a),e!==u&&(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),n=s[e],n||(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t))},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),s[e].d(a)}}}function n4(i){let e,n,t=i[2].flags.enableDebugFeatures&&gc(i);return{c(){t&&t.c(),e=de()},m(o,r){t&&t.m(o,r),M(o,e,r),n=!0},p(o,[r]){o[2].flags.enableDebugFeatures?t?(t.p(o,r),4&r&&d(t,1)):(t=gc(o),t.c(),d(t,1),t.m(e.parentNode,e)):t&&(K(),p(t,1,1,()=>{t=null}),Z())},i(o){n||(d(t),n=!0)},o(o){p(t),n=!1},d(o){o&&w(e),t&&t.d(o)}}}function o4(i,e,n){let t,o,{onRewrite:r}=e,{isDisabled:s=!1}=e;const c=qe("chatModel");if(Ze(i,c,l=>n(2,o=l)),!c)throw new Error("ChatModel not found in context");const a=vt(!1);return Ze(i,a,l=>n(1,t=l)),i.$$set=l=>{"onRewrite"in l&&n(6,r=l.onRewrite),"isDisabled"in l&&n(0,s=l.isDisabled)},[s,t,o,c,a,function(){Ho(a,t=!0,t);try{Promise.resolve(r()).finally(()=>{Ho(a,t=!1,t)})}catch{Ho(a,t=!1,t)}},r]}const Pn={Root:class extends oe{constructor(i){super(),re(this,i,C2,_2,ne,{})}},SingleSendButton:Ku,SendButton:class extends oe{constructor(i){super(),re(this,i,U2,H2,ne,{primaryAction:0,isDisabled:1,disabledReason:2})}},ContextMenu:class extends oe{constructor(i){super(),re(this,i,_v,xv,ne,{onCloseDropdown:0,onInsertMentionable:13,closeDropdown:1,openDropdown:14,toggleDropdown:2})}get closeDropdown(){return this.$$.ctx[1]}get openDropdown(){return this.$$.ctx[14]}get toggleDropdown(){return this.$$.ctx[2]}},ActionsMenu:class extends oe{constructor(i){super(),re(this,i,Sv,Lv,ne,{onCloseDropdown:6})}},AddFileButton:class extends oe{constructor(i){super(),re(this,i,zv,Ov,ne,{accept:0,disabled:1,onAddFiles:2})}},ResendButton:class extends oe{constructor(i){super(),re(this,i,Xv,Yv,ne,{resendAction:0})}},CancelButton:class extends oe{constructor(i){super(),re(this,i,qv,Wv,ne,{cancelAction:0})}},RewritePromptButton:class extends oe{constructor(i){super(),re(this,i,o4,n4,ne,{onRewrite:6,isDisabled:0})}},NotifyButton:Du};function vc(i){let e;function n(r,s){return r[0]===r[1]?i4:r4}let t=n(i),o=t(i);return{c(){o.c(),e=de()},m(r,s){o.m(r,s),M(r,e,s)},p(r,s){t===(t=n(r))&&o?o.p(r,s):(o.d(1),o=t(r),o&&(o.c(),o.m(e.parentNode,e)))},d(r){r&&w(e),o.d(r)}}}function r4(i){let e,n,t,o,r=i[0]+1+"",s=i[1]+1+"";return{c(){e=X("L"),n=X(r),t=X("-"),o=X(s)},m(c,a){M(c,e,a),M(c,n,a),M(c,t,a),M(c,o,a)},p(c,a){1&a&&r!==(r=c[0]+1+"")&&Te(n,r),2&a&&s!==(s=c[1]+1+"")&&Te(o,s)},d(c){c&&(w(e),w(n),w(t),w(o))}}}function i4(i){let e,n,t=i[0]+1+"";return{c(){e=X("L"),n=X(t)},m(o,r){M(o,e,r),M(o,n,r)},p(o,r){1&r&&t!==(t=o[0]+1+"")&&Te(n,t)},d(o){o&&(w(e),w(n))}}}function s4(i){let e,n,t,o=i[0]!==void 0&&i[1]!==void 0&&vc(i);return{c(){e=F("span"),n=X(i[2]),t=U(),o&&o.c(),A(e,"class","c-selection-item svelte-198ldgd")},m(r,s){M(r,e,s),H(e,n),H(e,t),o&&o.m(e,null)},p(r,[s]){4&s&&Te(n,r[2]),r[0]!==void 0&&r[1]!==void 0?o?o.p(r,s):(o=vc(r),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:N,o:N,d(r){r&&w(e),o&&o.d()}}}function a4(i,e,n){let t,o,r,s,c,{fileSelection:a}=e;return i.$$set=l=>{"fileSelection"in l&&n(3,a=l.fileSelection)},i.$$.update=()=>{8&i.$$.dirty&&n(5,t=a.pathName||""),8&i.$$.dirty&&(a.fullRange?(n(0,s=a.fullRange.startLineNumber),n(1,c=a.fullRange.endLineNumber)):a.range&&(n(0,s=a.range.start),n(1,c=a.range.stop))),32&i.$$.dirty&&n(4,o=t.split("/").filter(l=>l.length>0)),16&i.$$.dirty&&n(2,r=o[o.length-1])},[s,c,r,a,o,t]}class c4 extends oe{constructor(e){super(),re(this,e,a4,s4,ne,{fileSelection:3})}}function wc(i,e,n){const t=i.slice();return t[18]=e[n],t}function l4(i){let e,n,t,o,r,s,c,a,l,u,f,g;const h=[f4,d4],k=[];function I(_,T){var O;return _[1]!==void 0&&((O=_[1])==null?void 0:O.length)>0?0:1}return s=I(i),c=k[s]=h[s](i),{c(){e=F("p"),n=X("/"),t=X(i[2]),o=U(),r=F("div"),c.c(),a=U(),l=F("input"),A(e,"class","c-action-label svelte-34wttr"),A(l,"type","text"),A(l,"class","c-tiny-input-inline svelte-34wttr"),A(r,"class","c-max-element-inline svelte-34wttr")},m(_,T){M(_,e,T),H(e,n),H(e,t),M(_,o,T),M(_,r,T),k[s].m(r,null),H(r,a),H(r,l),u=!0,f||(g=[ke(l,"keydown",i[9]),ke(l,"keyup",i[10])],f=!0)},p(_,T){(!u||4&T)&&Te(t,_[2]);let O=s;s=I(_),s===O?k[s].p(_,T):(K(),p(k[O],1,1,()=>{k[O]=null}),Z(),c=k[s],c?c.p(_,T):(c=k[s]=h[s](_),c.c()),d(c,1),c.m(r,a))},i(_){u||(d(c),u=!0)},o(_){p(c),u=!1},d(_){_&&(w(e),w(o),w(r)),k[s].d(),f=!1,Nt(g)}}}function u4(i){let e,n,t,o,r,s,c,a;return{c(){var l;e=F("p"),n=X("/"),t=X(i[2]),o=U(),r=F("input"),A(e,"class","c-action-label svelte-34wttr"),A(r,"type","text"),A(r,"class","c-max-element-inline svelte-34wttr"),A(r,"placeholder",s=(l=i[4])==null?void 0:l.placeholderText)},m(l,u){M(l,e,u),H(e,n),H(e,t),M(l,o,u),M(l,r,u),js(r,i[0]),c||(a=[ke(r,"input",i[12]),ke(r,"keydown",i[8]),ke(r,"keyup",i[10])],c=!0)},p(l,u){var f;4&u&&Te(t,l[2]),16&u&&s!==(s=(f=l[4])==null?void 0:f.placeholderText)&&A(r,"placeholder",s),1&u&&r.value!==l[0]&&js(r,l[0])},i:N,o:N,d(l){l&&(w(e),w(o),w(r)),c=!1,Nt(a)}}}function d4(i){var o;let e,n,t=((o=i[4])==null?void 0:o.selectionReminderMessage)+"";return{c(){e=F("span"),n=X(t),A(e,"class","c-select-code-msg")},m(r,s){M(r,e,s),H(e,n)},p(r,s){var c;16&s&&t!==(t=((c=r[4])==null?void 0:c.selectionReminderMessage)+"")&&Te(n,t)},i:N,o:N,d(r){r&&w(e)}}}function f4(i){let e,n,t=ct(i[1]),o=[];for(let s=0;s<t.length;s+=1)o[s]=yc(wc(i,t,s));const r=s=>p(o[s],1,1,()=>{o[s]=null});return{c(){for(let s=0;s<o.length;s+=1)o[s].c();e=de()},m(s,c){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(s,c);M(s,e,c),n=!0},p(s,c){if(2&c){let a;for(t=ct(s[1]),a=0;a<t.length;a+=1){const l=wc(s,t,a);o[a]?(o[a].p(l,c),d(o[a],1)):(o[a]=yc(l),o[a].c(),d(o[a],1),o[a].m(e.parentNode,e))}for(K(),a=t.length;a<o.length;a+=1)r(a);Z()}},i(s){if(!n){for(let c=0;c<t.length;c+=1)d(o[c]);n=!0}},o(s){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)p(o[c]);n=!1},d(s){s&&w(e),cn(o,s)}}}function yc(i){let e,n;return e=new c4({props:{fileSelection:i[18].selection}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};2&o&&(r.fileSelection=t[18].selection),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function m4(i){let e,n,t,o,r,s,c;const a=[u4,l4],l=[];function u(f,g){return f[2]==="find"?0:1}return t=u(i),o=l[t]=a[t](i),{c(){e=F("div"),n=F("div"),o.c(),A(n,"class","c-action-row svelte-34wttr"),A(e,"class","c-action svelte-34wttr"),A(e,"role","button"),A(e,"tabindex","-1")},m(f,g){M(f,e,g),H(e,n),l[t].m(n,null),r=!0,s||(c=[ke(e,"click",i[7]),ke(e,"keydown",p4)],s=!0)},p(f,[g]){let h=t;t=u(f),t===h?l[t].p(f,g):(K(),p(l[h],1,1,()=>{l[h]=null}),Z(),o=l[t],o?o.p(f,g):(o=l[t]=a[t](f),o.c()),d(o,1),o.m(n,null))},i(f){r||(d(o),r=!0)},o(f){p(o),r=!1},d(f){f&&w(e),l[t].d(),s=!1,Nt(c)}}}const p4=i=>{};function $4(i,e,n){let t,o,r,s,c,a,l,u,f=N,g=N,h=N;i.$$.on_destroy.push(()=>f()),i.$$.on_destroy.push(()=>g()),i.$$.on_destroy.push(()=>h());let k=qe("chatModel");if(!k)throw new Error("ChatModel not found in context");let I=qe("slashCommandModel");const _=()=>{const z=document.querySelector("input");z&&(z.focus(),z.select())};let T="",O=!1;function B(){I.cancelActiveCommand()}return Qn(_),i.$$.update=()=>{2048&i.$$.dirty&&n(1,o=Object.values(u.selections).sort((z,fe)=>z.selection.pathName.localeCompare(fe.selection.pathName))),2&i.$$.dirty&&I.setSelections(o),4&i.$$.dirty&&n(4,s=Lr(l)),1&i.$$.dirty&&I.setInputText(T)},n(6,t=k.specialContextInputModel),h(),h=it(t,z=>n(11,u=z)),n(5,r=I.activeCommand),g(),g=it(r,z=>n(2,l=z)),n(3,c=I.isActiveCommandRunnable),f(),f=it(c,z=>n(14,a=z)),[T,o,l,c,s,r,t,_,function(z){return!(z.shiftKey||z.ctrlKey||z.metaKey)&&(z.stopPropagation(),z.key==="Enter"?(O=!0,!0):z.key==="Escape"?(B(),!0):z.key==="Backspace"&&(T===""&&B(),!0))},function(z){if(z.ctrlKey||z.metaKey||z.key==="Tab")return!1;if(z.stopPropagation(),!z.shiftKey){if(z.key==="Escape"||z.key==="Backspace")return B(),!0;if(z.key==="Enter"&&a)return I.runActiveCommand(),!0}return z.preventDefault(),!0},function(z){return!z.shiftKey&&!(z.key!=="Enter"||!O||!a)&&(O=!1,I.runActiveCommand(),!0)},u,function(){T=this.value,n(0,T)}]}class h4 extends oe{constructor(e){super(),re(this,e,$4,m4,ne,{})}}function bc(i,e,n){const t=i.slice();return t[15]=e[n],t}function xc(i){let e,n;function t(){return i[8](i[15])}return e=new Zu({props:{item:i[15],highlight:i[15]===i[14],onSelect:t}}),{c(){y(e.$$.fragment)},m(o,r){b(e,o,r),n=!0},p(o,r){i=o;const s={};4&r&&(s.item=i[15]),16388&r&&(s.highlight=i[15]===i[14]),4&r&&(s.onSelect=t),e.$set(s)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function g4(i){let e,n,t=ct(i[2]),o=[];for(let s=0;s<t.length;s+=1)o[s]=xc(bc(i,t,s));const r=s=>p(o[s],1,1,()=>{o[s]=null});return{c(){for(let s=0;s<o.length;s+=1)o[s].c();e=de()},m(s,c){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(s,c);M(s,e,c),n=!0},p(s,c){if(16420&c){let a;for(t=ct(s[2]),a=0;a<t.length;a+=1){const l=bc(s,t,a);o[a]?(o[a].p(l,c),d(o[a],1)):(o[a]=xc(l),o[a].c(),d(o[a],1),o[a].m(e.parentNode,e))}for(K(),a=t.length;a<o.length;a+=1)r(a);Z()}},i(s){if(!n){for(let c=0;c<t.length;c+=1)d(o[c]);n=!0}},o(s){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)p(o[c]);n=!1},d(s){s&&w(e),cn(o,s)}}}function v4(i){let e,n;return e=new Qo({props:{slot:"mentionable",option:i[13]}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};8192&o&&(r.option=t[13]),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function w4(i){let e,n,t,o;return e=new fo.Menu.Root({props:{mentionables:i[2],onQueryUpdate:i[4],onSelectMentionable:i[5],$$slots:{default:[g4,({activeItem:r})=>({14:r}),({activeItem:r})=>r?16384:0]},$$scope:{ctx:i}}}),t=new fo.ChipTooltip({props:{$$slots:{mentionable:[v4,({mentionable:r})=>({13:r}),({mentionable:r})=>r?8192:0]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};4&s&&(c.mentionables=r[2]),278532&s&&(c.$$scope={dirty:s,ctx:r}),e.$set(c);const a={};270336&s&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function y4(i){let e,n,t={triggerCharacter:"@",onMentionItemsUpdated:i[0],$$slots:{default:[w4]},$$scope:{ctx:i}};return e=new fo.Root({props:t}),i[9](e),{c(){y(e.$$.fragment)},m(o,r){b(e,o,r),n=!0},p(o,[r]){const s={};1&r&&(s.onMentionItemsUpdated=o[0]),262148&r&&(s.$$scope={dirty:r,ctx:o}),e.$set(s)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){i[9](null),x(e,o)}}}function b4(i,e,n){let t,{requestEditorFocus:o}=e,{onMentionItemsUpdated:r}=e;const s=qe("chatModel");if(!s)throw new Error("ChatModel not found in context");const c=new zr(s,u),a=c.displayItems;let l;function u(g){return!!l&&(l.insertMention(g),c.closeDropdown(),!0)}function f(g){const h=c.selectMentionable(g);return o(),h}return Ze(i,a,g=>n(2,t=g)),Ao(()=>{c.dispose()}),i.$$set=g=>{"requestEditorFocus"in g&&n(6,o=g.requestEditorFocus),"onMentionItemsUpdated"in g&&n(0,r=g.onMentionItemsUpdated)},[r,l,t,a,function(g){g===void 0?c.closeDropdown():(c.openDropdown(),c.userQuery.set(g))},f,o,g=>u(g),g=>f(g),function(g){ft[g?"unshift":"push"](()=>{l=g,n(1,l)})}]}class x4 extends oe{constructor(e){super(),re(this,e,b4,y4,ne,{requestEditorFocus:6,onMentionItemsUpdated:0,insertMentionNode:7})}get insertMentionNode(){return this.$$.ctx[7]}}function _c(i,e,n){const t=i.slice();return t[11]=e[n],t}function _4(i){let e,n,t,o=i[11].label+"";return{c(){e=X("/"),n=X(o),t=U()},m(r,s){M(r,e,s),M(r,n,s),M(r,t,s)},p(r,s){1&s&&o!==(o=r[11].label+"")&&Te(n,o)},d(r){r&&(w(e),w(n),w(t))}}}function Cc(i){let e,n;return e=new fo.Menu.Item({props:{mentionable:i[11],$$slots:{default:[_4]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o&&(r.mentionable=t[11]),16385&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function C4(i){let e,n,t=ct(i[0]),o=[];for(let s=0;s<t.length;s+=1)o[s]=Cc(_c(i,t,s));const r=s=>p(o[s],1,1,()=>{o[s]=null});return{c(){for(let s=0;s<o.length;s+=1)o[s].c();e=de()},m(s,c){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(s,c);M(s,e,c),n=!0},p(s,c){if(1&c){let a;for(t=ct(s[0]),a=0;a<t.length;a+=1){const l=_c(s,t,a);o[a]?(o[a].p(l,c),d(o[a],1)):(o[a]=Cc(l),o[a].c(),d(o[a],1),o[a].m(e.parentNode,e))}for(K(),a=t.length;a<o.length;a+=1)r(a);Z()}},i(s){if(!n){for(let c=0;c<t.length;c+=1)d(o[c]);n=!0}},o(s){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)p(o[c]);n=!1},d(s){s&&w(e),cn(o,s)}}}function M4(i){let e,n,t=i[10].label+"";return{c(){e=F("span"),n=X(t),A(e,"slot","mentionable")},m(o,r){M(o,e,r),H(e,n)},p(o,r){1024&r&&t!==(t=o[10].label+"")&&Te(n,t)},d(o){o&&w(e)}}}function A4(i){let e,n,t,o;return e=new fo.Menu.Root({props:{mentionables:i[0],onQueryUpdate:i[3],onSelectMentionable:i[6],$$slots:{default:[C4]},$$scope:{ctx:i}}}),t=new fo.ChipTooltip({props:{$$slots:{mentionable:[M4,({mentionable:r})=>({10:r}),({mentionable:r})=>r?1024:0]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};1&s&&(c.mentionables=r[0]),16385&s&&(c.$$scope={dirty:s,ctx:r}),e.$set(c);const a={};17408&s&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function k4(i){let e,n;return e=new fo.Root({props:{pluginId:"augment-slash-actions",triggerCharacter:"/",allowedPrefixes:[],renderText:E4,$$slots:{default:[A4]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,[o]){const r={};16385&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}const E4=()=>"";function I4(i,e,n){let t,o;const r=qe("chatModel"),s=qe("slashCommandModel"),{activeCommand:c}=s;Ze(i,c,u=>n(5,o=u));const a=qe(Oi.CONTEXT_KEY);let l;return i.$$.update=()=>{16&i.$$.dirty&&n(0,t=function(u){let f=Ju();return r.flags.enableGenerateCommitMessage||(f=f.filter(g=>g.id!=="generate-commit-message")),u===void 0?f:f.filter(g=>g.label.toLowerCase().includes(u.toLowerCase()))}(l)),32&i.$$.dirty&&(o?(a.commandManager.hide(),a.commandManager.clearContent()):(a.commandManager.show(),a.commandManager.clearContent(),a.commandManager.requestFocus()))},[t,s,c,function(u){n(4,l=u)},l,o,u=>(s.setActiveCommand(u.id),!0)]}class T4 extends oe{constructor(e){super(),re(this,e,I4,k4,ne,{})}}const L4="You can only have %MAX_AGENTS% agents at a time. Please delete some before creating a new one.",S4=(i,e,n)=>()=>{var c,a;const t=((c=e.draftExchange)==null?void 0:c.request_message)??"",o=(a=e.draftExchange)==null?void 0:a.rich_text_json_repr,r=()=>{e.draftExchange||e.saveDraftExchange(t,o)};if(!i.currentAgentId){if(i.isCreatingAgent)return!1;i.setIsCreatingAgent(!0),e.clearDraftExchange();const l=async()=>{try{const u=await i.createRemoteAgentFromDraft(t);u?i==null||i.setCurrentAgent(u):r()}catch(u){console.error("Failed to create remote agent: ",u),r()}finally{i.setIsCreatingAgent(!1)}};return n?(n==null||n.isGithubAuthenticated().then(u=>{if(!u)return i.setIsCreatingAgent(!1),void r();l()}).catch(u=>{console.error("Failed to check GitHub authentication status:",u),i.setIsCreatingAgent(!1),r()}),!0):(l(),!0)}const s=e.draftExchange;return s&&i&&(e.clearDraftExchange(),i.sendMessage(s.request_message).then(l=>{l||r()}).catch(()=>{r()})),!0};class Mo{constructor(e){this._asyncMsgSender=e}async listBranches(e=""){try{return{branches:(await this._asyncMsgSender.send({type:dt.getGitBranchesRequest,data:{prefix:e}},1e4)).data.branches}}catch(n){return console.error("Failed to fetch branches:",n),{branches:[]}}}async getWorkspaceDiff(e){try{return(await this._asyncMsgSender.send({type:dt.getWorkspaceDiffRequest,data:{branchName:e}},1e4)).data.diff}catch(n){return console.error("Failed to get workspace diff:",n),""}}async getRemoteUrl(){try{return(await this._asyncMsgSender.send({type:dt.getRemoteUrlRequest},1e4)).data.remoteUrl}catch(e){return console.error("Failed to get remote url:",e),""}}async fetch(){try{await this._asyncMsgSender.send({type:dt.gitFetchRequest},1e4)}catch(e){console.error("Failed to fetch remote branch:",e)}}async isGitRepository(){try{return(await this._asyncMsgSender.send({type:dt.isGitRepositoryRequest},1e4)).data.isGitRepository}catch(e){return console.error("Failed to check if is git repository:",e),!1}}async isGithubAuthenticated(){try{return(await this._asyncMsgSender.send({type:dt.isGithubAuthenticatedRequest},1e4)).data.isAuthenticated}catch(e){return console.error("Failed to check GitHub authentication status:",e),!1}}async authenticateGithub(){try{const e=await this._asyncMsgSender.send({type:dt.authenticateGithubRequest},1e4);return{success:e.data.success,message:e.data.message}}catch(e){return console.error("Failed to authenticate with GitHub:",e),{success:!1,message:`Error: ${e instanceof Error?e.message:String(e)}`}}}async revokeGithubAccess(){try{const e=await this._asyncMsgSender.send({type:dt.revokeGithubAccessRequest},1e4);return{success:e.data.success,message:e.data.message}}catch(e){return console.error("Failed to revoke GitHub access:",e),{success:!1,message:`Error: ${e instanceof Error?e.message:String(e)}`}}}}te(Mo,"key","gitReferenceModel");const R4=i=>({}),Mc=i=>({}),P4=i=>({}),Ac=i=>({}),N4=i=>({}),kc=i=>({}),F4=i=>({}),Ec=i=>({});function D4(i){let e;return{c(){e=X(i[0])},m(n,t){M(n,e,t)},p(n,t){1&t&&Te(e,n[0])},d(n){n&&w(e)}}}function Ic(i){let e,n;const t=i[3].subtitle,o=ze(t,i,i[4],Ac),r=o||function(s){let c,a;return c=new Oe({props:{size:2,$$slots:{default:[O4]},$$scope:{ctx:s}}}),{c(){y(c.$$.fragment)},m(l,u){b(c,l,u),a=!0},p(l,u){const f={};18&u&&(f.$$scope={dirty:u,ctx:l}),c.$set(f)},i(l){a||(d(c.$$.fragment,l),a=!0)},o(l){p(c.$$.fragment,l),a=!1},d(l){x(c,l)}}}(i);return{c(){e=F("div"),r&&r.c(),A(e,"class","c-card-button__subtitle svelte-1c82nwt")},m(s,c){M(s,e,c),r&&r.m(e,null),n=!0},p(s,c){o?o.p&&(!n||16&c)&&je(o,t,s,s[4],n?Ue(t,s[4],c,P4):He(s[4]),Ac):r&&r.p&&(!n||2&c)&&r.p(s,n?c:-1)},i(s){n||(d(r,s),n=!0)},o(s){p(r,s),n=!1},d(s){s&&w(e),r&&r.d(s)}}}function O4(i){let e;return{c(){e=X(i[1])},m(n,t){M(n,e,t)},p(n,t){2&t&&Te(e,n[1])},d(n){n&&w(e)}}}function Tc(i){let e,n;const t=i[3].iconRight,o=ze(t,i,i[4],Mc);return{c(){e=F("div"),o&&o.c(),A(e,"class","c-card-button__icon-right svelte-1c82nwt")},m(r,s){M(r,e,s),o&&o.m(e,null),n=!0},p(r,s){o&&o.p&&(!n||16&s)&&je(o,t,r,r[4],n?Ue(t,r[4],s,R4):He(r[4]),Mc)},i(r){n||(d(o,r),n=!0)},o(r){p(o,r),n=!1},d(r){r&&w(e),o&&o.d(r)}}}function B4(i){let e,n,t,o,r,s,c,a;const l=i[3].iconLeft,u=ze(l,i,i[4],Ec),f=i[3].title,g=ze(f,i,i[4],kc),h=g||function(_){let T,O;return T=new Oe({props:{size:2,$$slots:{default:[D4]},$$scope:{ctx:_}}}),{c(){y(T.$$.fragment)},m(B,z){b(T,B,z),O=!0},p(B,z){const fe={};17&z&&(fe.$$scope={dirty:z,ctx:B}),T.$set(fe)},i(B){O||(d(T.$$.fragment,B),O=!0)},o(B){p(T.$$.fragment,B),O=!1},d(B){x(T,B)}}}(i);let k=i[1]&&Ic(i),I=i[2].iconRight&&Tc(i);return{c(){e=F("div"),u&&u.c(),n=U(),t=F("div"),o=F("div"),h&&h.c(),r=U(),k&&k.c(),s=U(),I&&I.c(),c=de(),A(e,"class","c-card-button__icon-left svelte-1c82nwt"),A(o,"class","c-card-button__title svelte-1c82nwt"),A(t,"class","c-card-button__content svelte-1c82nwt")},m(_,T){M(_,e,T),u&&u.m(e,null),M(_,n,T),M(_,t,T),H(t,o),h&&h.m(o,null),H(t,r),k&&k.m(t,null),M(_,s,T),I&&I.m(_,T),M(_,c,T),a=!0},p(_,[T]){u&&u.p&&(!a||16&T)&&je(u,l,_,_[4],a?Ue(l,_[4],T,F4):He(_[4]),Ec),g?g.p&&(!a||16&T)&&je(g,f,_,_[4],a?Ue(f,_[4],T,N4):He(_[4]),kc):h&&h.p&&(!a||1&T)&&h.p(_,a?T:-1),_[1]?k?(k.p(_,T),2&T&&d(k,1)):(k=Ic(_),k.c(),d(k,1),k.m(t,null)):k&&(K(),p(k,1,1,()=>{k=null}),Z()),_[2].iconRight?I?(I.p(_,T),4&T&&d(I,1)):(I=Tc(_),I.c(),d(I,1),I.m(c.parentNode,c)):I&&(K(),p(I,1,1,()=>{I=null}),Z())},i(_){a||(d(u,_),d(h,_),d(k),d(I),a=!0)},o(_){p(u,_),p(h,_),p(k),p(I),a=!1},d(_){_&&(w(e),w(n),w(t),w(s),w(c)),u&&u.d(_),h&&h.d(_),k&&k.d(),I&&I.d(_)}}}function z4(i,e,n){let{$$slots:t={},$$scope:o}=e;const r=ou(t);let{title:s="Select an option"}=e,{subtitle:c=""}=e;return i.$$set=a=>{"title"in a&&n(0,s=a.title),"subtitle"in a&&n(1,c=a.subtitle),"$$scope"in a&&n(4,o=a.$$scope)},[s,c,r,t,o]}class ed extends oe{constructor(e){super(),re(this,e,z4,B4,ne,{title:0,subtitle:1})}}const j4=i=>({}),Lc=i=>({slot:"iconLeft"}),H4=i=>({}),Sc=i=>({slot:"iconRight"});function Rc(i,e,n){const t=i.slice();return t[18]=e[n],t}const U4=i=>({}),Pc=i=>({}),W4=i=>({}),Nc=i=>({slot:"iconLeft"}),q4=i=>({}),Fc=i=>({slot:"iconRight"});function G4(i){let e,n,t,o,r;return n=new ed({props:{title:i[3],subtitle:i[4],$$slots:{iconRight:[X4],iconLeft:[Y4]},$$scope:{ctx:i}}}),{c(){e=F("button"),y(n.$$.fragment),A(e,"class","c-card-button__display svelte-1sjyo69"),A(e,"type","button")},m(s,c){M(s,e,c),b(n,e,null),t=!0,o||(r=[ke(e,"click",i[15]),ke(e,"keydown",i[16])],o=!0)},p(s,c){const a={};8&c&&(a.title=s[3]),16&c&&(a.subtitle=s[4]),131072&c&&(a.$$scope={dirty:c,ctx:s}),n.$set(a)},i(s){t||(d(n.$$.fragment,s),t=!0)},o(s){p(n.$$.fragment,s),t=!1},d(s){s&&w(e),x(n),o=!1,Nt(r)}}}function V4(i){let e,n,t;function o(s){i[14](s)}let r={onOpenChange:i[9],$$slots:{default:[rw]},$$scope:{ctx:i}};return i[1]!==void 0&&(r.requestClose=i[1]),e=new Ae.Root({props:r}),ft.push(()=>Zt(e,"requestClose",o)),{c(){y(e.$$.fragment)},m(s,c){b(e,s,c),t=!0},p(s,c){const a={};512&c&&(a.onOpenChange=s[9]),131545&c&&(a.$$scope={dirty:c,ctx:s}),!n&&2&c&&(n=!0,a.requestClose=s[1],tn(()=>n=!1)),e.$set(a)},i(s){t||(d(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function Y4(i){let e;const n=i[12].iconLeft,t=ze(n,i,i[17],Lc);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||131072&r)&&je(t,n,o,o[17],e?Ue(n,o[17],r,j4):He(o[17]),Lc)},i(o){e||(d(t,o),e=!0)},o(o){p(t,o),e=!1},d(o){t&&t.d(o)}}}function X4(i){let e;const n=i[12].iconRight,t=ze(n,i,i[17],Sc);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||131072&r)&&je(t,n,o,o[17],e?Ue(n,o[17],r,H4):He(o[17]),Sc)},i(o){e||(d(t,o),e=!0)},o(o){p(t,o),e=!1},d(o){t&&t.d(o)}}}function K4(i){let e;const n=i[12].iconLeft,t=ze(n,i,i[17],Nc);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||131072&r)&&je(t,n,o,o[17],e?Ue(n,o[17],r,W4):He(o[17]),Nc)},i(o){e||(d(t,o),e=!0)},o(o){p(t,o),e=!1},d(o){t&&t.d(o)}}}function Z4(i){let e;const n=i[12].iconRight,t=ze(n,i,i[17],Fc),o=t||function(r){let s,c;return s=new Ko({}),{c(){y(s.$$.fragment)},m(a,l){b(s,a,l),c=!0},i(a){c||(d(s.$$.fragment,a),c=!0)},o(a){p(s.$$.fragment,a),c=!1},d(a){x(s,a)}}}();return{c(){o&&o.c()},m(r,s){o&&o.m(r,s),e=!0},p(r,s){t&&t.p&&(!e||131072&s)&&je(t,n,r,r[17],e?Ue(n,r[17],s,q4):He(r[17]),Fc)},i(r){e||(d(o,r),e=!0)},o(r){p(o,r),e=!1},d(r){o&&o.d(r)}}}function Q4(i){let e,n,t;return n=new ed({props:{title:i[3],subtitle:i[4],$$slots:{iconRight:[Z4],iconLeft:[K4]},$$scope:{ctx:i}}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-card-button__display svelte-1sjyo69")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p(o,r){const s={};8&r&&(s.title=o[3]),16&r&&(s.subtitle=o[4]),131072&r&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function J4(i){let e,n;return e=new Ae.Label({props:{$$slots:{default:[tw]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};131328&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function ew(i){let e,n,t=[],o=new Map,r=ct(i[6]);const s=c=>c[7](c[18]);for(let c=0;c<r.length;c+=1){let a=Rc(i,r,c),l=s(a);o.set(l,t[c]=Dc(l,a))}return{c(){for(let c=0;c<t.length;c+=1)t[c].c();e=de()},m(c,a){for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(c,a);M(c,e,a),n=!0},p(c,a){1217&a&&(r=ct(c[6]),K(),t=Ti(t,a,s,1,c,r,o,e.parentNode,iu,Dc,e,Rc),Z())},i(c){if(!n){for(let a=0;a<r.length;a+=1)d(t[a]);n=!0}},o(c){for(let a=0;a<t.length;a+=1)p(t[a]);n=!1},d(c){c&&w(e);for(let a=0;a<t.length;a+=1)t[a].d(c)}}}function tw(i){let e;return{c(){e=X(i[8])},m(n,t){M(n,e,t)},p(n,t){256&t&&Te(e,n[8])},d(n){n&&w(e)}}}function nw(i){let e,n,t=i[7](i[18])+"";return{c(){e=X(t),n=U()},m(o,r){M(o,e,r),M(o,n,r)},p(o,r){192&r&&t!==(t=o[7](o[18])+"")&&Te(e,t)},d(o){o&&(w(e),w(n))}}}function Dc(i,e){let n,t,o;function r(){return e[13](e[18])}return t=new Ae.Item({props:{onSelect:r,highlight:e[0]===e[18],$$slots:{default:[nw]},$$scope:{ctx:e}}}),{key:i,first:null,c(){n=de(),y(t.$$.fragment),this.first=n},m(s,c){M(s,n,c),b(t,s,c),o=!0},p(s,c){e=s;const a={};64&c&&(a.onSelect=r),65&c&&(a.highlight=e[0]===e[18]),131264&c&&(a.$$scope={dirty:c,ctx:e}),t.$set(a)},i(s){o||(d(t.$$.fragment,s),o=!0)},o(s){p(t.$$.fragment,s),o=!1},d(s){s&&w(n),x(t,s)}}}function ow(i){let e;const n=i[12]["dropdown-content"],t=ze(n,i,i[17],Pc),o=t||function(r){let s,c,a,l;const u=[ew,J4],f=[];function g(h,k){return h[6].length>0?0:1}return s=g(r),c=f[s]=u[s](r),{c(){c.c(),a=de()},m(h,k){f[s].m(h,k),M(h,a,k),l=!0},p(h,k){let I=s;s=g(h),s===I?f[s].p(h,k):(K(),p(f[I],1,1,()=>{f[I]=null}),Z(),c=f[s],c?c.p(h,k):(c=f[s]=u[s](h),c.c()),d(c,1),c.m(a.parentNode,a))},i(h){l||(d(c),l=!0)},o(h){p(c),l=!1},d(h){h&&w(a),f[s].d(h)}}}(i);return{c(){o&&o.c()},m(r,s){o&&o.m(r,s),e=!0},p(r,s){t?t.p&&(!e||131072&s)&&je(t,n,r,r[17],e?Ue(n,r[17],s,U4):He(r[17]),Pc):o&&o.p&&(!e||449&s)&&o.p(r,e?s:-1)},i(r){e||(d(o,r),e=!0)},o(r){p(o,r),e=!1},d(r){o&&o.d(r)}}}function rw(i){let e,n,t,o;return e=new Ae.Trigger({props:{$$slots:{default:[Q4]},$$scope:{ctx:i}}}),t=new Ae.Content({props:{side:"bottom",align:"start",$$slots:{default:[ow]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};131096&s&&(c.$$scope={dirty:s,ctx:r}),e.$set(c);const a={};131521&s&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function iw(i){let e,n,t,o;const r=[V4,G4],s=[];function c(a,l){return a[2]==="dropdown"?0:1}return n=c(i),t=s[n]=r[n](i),{c(){e=F("div"),t.c(),A(e,"class","c-card-button svelte-1sjyo69")},m(a,l){M(a,e,l),s[n].m(e,null),o=!0},p(a,[l]){let u=n;n=c(a),n===u?s[n].p(a,l):(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),t=s[n],t?t.p(a,l):(t=s[n]=r[n](a),t.c()),d(t,1),t.m(e,null))},i(a){o||(d(t),o=!0)},o(a){p(t),o=!1},d(a){a&&w(e),s[n].d()}}}function sw(i,e,n){let{$$slots:t={},$$scope:o}=e,{type:r="button"}=e,{title:s="Select an option"}=e,{subtitle:c=""}=e,{onClick:a=()=>{}}=e,{items:l=[]}=e,{selectedItem:u}=e,{formatItemLabel:f=T=>(T==null?void 0:T.toString())||""}=e,{noItemsLabel:g="No items found"}=e,{onDropdownOpenChange:h=()=>{}}=e,{requestClose:k=()=>{}}=e;function I(T){n(0,u=T),_("select",T)}const _=ru();return i.$$set=T=>{"type"in T&&n(2,r=T.type),"title"in T&&n(3,s=T.title),"subtitle"in T&&n(4,c=T.subtitle),"onClick"in T&&n(5,a=T.onClick),"items"in T&&n(6,l=T.items),"selectedItem"in T&&n(0,u=T.selectedItem),"formatItemLabel"in T&&n(7,f=T.formatItemLabel),"noItemsLabel"in T&&n(8,g=T.noItemsLabel),"onDropdownOpenChange"in T&&n(9,h=T.onDropdownOpenChange),"requestClose"in T&&n(1,k=T.requestClose),"$$scope"in T&&n(17,o=T.$$scope)},[u,k,r,s,c,a,l,f,g,h,I,_,t,T=>I(T),function(T){k=T,n(1,k)},()=>{a(),_("click")},T=>{T.key!=="Enter"&&T.key!==" "||(a(),_("click"))},o]}class td extends oe{constructor(e){super(),re(this,e,sw,iw,ne,{type:2,title:3,subtitle:4,onClick:5,items:6,selectedItem:0,formatItemLabel:7,noItemsLabel:8,onDropdownOpenChange:9,requestClose:1,selectItem:10})}get selectItem(){return this.$$.ctx[10]}}function aw(i){let e,n;return e=new td({props:{type:"dropdown",title:"Connected to your GitHub account",$$slots:{"dropdown-content":[$w],iconLeft:[lw]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4100&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function cw(i){let e,n;return e=new td({props:{type:"button",title:i[1]?"Cancel":"Connect to GitHub",onClick:i[4],$$slots:{iconRight:[ww],iconLeft:[hw]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};2&o&&(r.title=t[1]?"Cancel":"Connect to GitHub"),4098&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function lw(i){let e,n;return e=new yu({props:{slot:"iconLeft"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function uw(i){let e,n;return e=new Oe({props:{size:1,weight:"medium",$$slots:{default:[fw]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function dw(i){let e,n,t,o;return e=new Zn({props:{slot:"iconLeft",useCurrentColor:!0,size:1}}),t=new Oe({props:{size:1,weight:"medium",$$slots:{default:[mw]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function fw(i){let e;return{c(){e=X("Revoke Access")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function mw(i){let e;return{c(){e=X("Revoking...")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function pw(i){let e,n,t,o;const r=[dw,uw],s=[];function c(a,l){return a[2]?0:1}return e=c(i),n=s[e]=r[e](i),{c(){n.c(),t=de()},m(a,l){s[e].m(a,l),M(a,t,l),o=!0},p(a,l){let u=e;e=c(a),e!==u&&(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),n=s[e],n||(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t))},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),s[e].d(a)}}}function $w(i){let e,n,t;return n=new Ae.Item({props:{color:"error",onSelect:i[6],$$slots:{default:[pw]},$$scope:{ctx:i}}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"slot","dropdown-content")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p(o,r){const s={};4100&r&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function hw(i){let e,n;return e=new yu({props:{slot:"iconLeft"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function gw(i){let e,n;return e=new Af({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function vw(i){let e,n;return e=new Zn({props:{size:1,useCurrentColor:!0}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function ww(i){let e,n,t,o;const r=[vw,gw],s=[];function c(a,l){return a[1]?0:1}return n=c(i),t=s[n]=r[n](i),{c(){e=F("div"),t.c(),A(e,"slot","iconRight")},m(a,l){M(a,e,l),s[n].m(e,null),o=!0},p(a,l){let u=n;n=c(a),n!==u&&(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),t=s[n],t||(t=s[n]=r[n](a),t.c()),d(t,1),t.m(e,null))},i(a){o||(d(t),o=!0)},o(a){p(t),o=!1},d(a){a&&w(e),s[n].d()}}}function yw(i){let e,n,t,o,r;const s=[cw,aw],c=[];function a(l,u){return l[0]?1:0}return t=a(i),o=c[t]=s[t](i),{c(){e=F("div"),n=F("div"),o.c(),A(n,"class","github-auth-button"),A(e,"class","github-auth-card svelte-zdlnsr")},m(l,u){M(l,e,u),H(e,n),c[t].m(n,null),r=!0},p(l,[u]){let f=t;t=a(l),t===f?c[t].p(l,u):(K(),p(c[f],1,1,()=>{c[f]=null}),Z(),o=c[t],o?o.p(l,u):(o=c[t]=s[t](l),o.c()),d(o,1),o.m(n,null))},i(l){r||(d(o),r=!0)},o(l){p(o),r=!1},d(l){l&&w(e),c[t].d()}}}function bw(i,e,n){const t=ru(),o=qe(Mo.key);let r=!1,s=!1,c=!1,a=null,l=null;async function u(){if(!c){n(2,c=!0);try{const f=await o.revokeGithubAccess();f.success?(n(0,r=!1),t("authStateChange",{isAuthenticated:!1})):console.error("Failed to revoke GitHub access:",f.message)}catch(f){console.error("Error revoking GitHub access:",f)}finally{n(2,c=!1)}}}return Qn(async()=>{await async function(){try{const f=await o.isGithubAuthenticated();f!==r?(n(0,r=f),t("authStateChange",{isAuthenticated:r})):n(0,r=f)}catch(f){console.error("Failed to check GitHub authentication status:",f),n(0,r=!1),t("authStateChange",{isAuthenticated:!1})}}()}),Ao(()=>{a&&(clearTimeout(a),a=null),l&&(clearInterval(l),l=null)}),[r,s,c,()=>{},async function(){if(s)return n(1,s=!1),void(a&&(clearTimeout(a),a=null));n(1,s=!0);try{await o.authenticateGithub(),l=setInterval(async()=>{await o.isGithubAuthenticated()&&(n(0,r=!0),n(1,s=!1),t("authStateChange",{isAuthenticated:!0}),l&&clearInterval(l),a&&(clearTimeout(a),a=null))},5e3),a=setTimeout(()=>{l&&clearInterval(l),n(1,s=!1),a=null},6e4)}catch(f){console.error("Failed to authenticate with GitHub:",f),n(1,s=!1)}},u,()=>{u()}]}class xw extends oe{constructor(e){super(),re(this,e,bw,yw,ne,{})}}const{window:wi}=em,_w=i=>({}),Oc=i=>({slot:"banner"});function Bc(i){let e,n,t={requestEditorFocus:i[35],onMentionItemsUpdated:i[34]};return e=new x4({props:t}),i[47](e),{c(){y(e.$$.fragment)},m(o,r){b(e,o,r),n=!0},p(o,r){e.$set({})},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){i[47](null),x(e,o)}}}function zc(i){let e,n;return e=new T4({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function jc(i){let e,n,t,o;return e=new nh({props:{saveImage:i[6].saveImage,deleteImage:i[6].deleteImage,renderImage:i[6].renderImage}}),t=new I$({}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};64&s[0]&&(c.saveImage=r[6].saveImage),64&s[0]&&(c.deleteImage=r[6].deleteImage),64&s[0]&&(c.renderImage=r[6].renderImage),e.$set(c)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function Hc(i){let e,n;return e=new h4({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Cw(i){let e,n,t,o,r,s,c,a,l,u,f;e=new Zf({props:{shortcuts:i[12]}});let g=!i[22].doHideAtMentions&&Bc(i),h=!i[5]&&!i[22].doHideSlashActions&&zc();r=new Qf({props:{placeholder:i[9]}}),c=new _u.Content({props:{content:i[21],onContentChanged:i[33]}});let k=i[6].flags.enableChatMultimodal&&!i[22].doHideMultimodalActions&&jc(i),I=i[25]&&Hc();return{c(){y(e.$$.fragment),n=U(),g&&g.c(),t=U(),h&&h.c(),o=U(),y(r.$$.fragment),s=U(),y(c.$$.fragment),a=U(),k&&k.c(),l=U(),I&&I.c(),u=de()},m(_,T){b(e,_,T),M(_,n,T),g&&g.m(_,T),M(_,t,T),h&&h.m(_,T),M(_,o,T),b(r,_,T),M(_,s,T),b(c,_,T),M(_,a,T),k&&k.m(_,T),M(_,l,T),I&&I.m(_,T),M(_,u,T),f=!0},p(_,T){const O={};4096&T[0]&&(O.shortcuts=_[12]),e.$set(O),_[22].doHideAtMentions?g&&(K(),p(g,1,1,()=>{g=null}),Z()):g?(g.p(_,T),4194304&T[0]&&d(g,1)):(g=Bc(_),g.c(),d(g,1),g.m(t.parentNode,t)),_[5]||_[22].doHideSlashActions?h&&(K(),p(h,1,1,()=>{h=null}),Z()):h?4194336&T[0]&&d(h,1):(h=zc(),h.c(),d(h,1),h.m(o.parentNode,o));const B={};512&T[0]&&(B.placeholder=_[9]),r.$set(B);const z={};2097152&T[0]&&(z.content=_[21]),c.$set(z),_[6].flags.enableChatMultimodal&&!_[22].doHideMultimodalActions?k?(k.p(_,T),4194368&T[0]&&d(k,1)):(k=jc(_),k.c(),d(k,1),k.m(l.parentNode,l)):k&&(K(),p(k,1,1,()=>{k=null}),Z()),_[25]?I?33554432&T[0]&&d(I,1):(I=Hc(),I.c(),d(I,1),I.m(u.parentNode,u)):I&&(K(),p(I,1,1,()=>{I=null}),Z())},i(_){f||(d(e.$$.fragment,_),d(g),d(h),d(r.$$.fragment,_),d(c.$$.fragment,_),d(k),d(I),f=!0)},o(_){p(e.$$.fragment,_),p(g),p(h),p(r.$$.fragment,_),p(c.$$.fragment,_),p(k),p(I),f=!1},d(_){_&&(w(n),w(t),w(o),w(s),w(a),w(l),w(u)),x(e,_),g&&g.d(_),h&&h.d(_),x(r,_),x(c,_),k&&k.d(_),I&&I.d(_)}}}function Mw(i){let e;const n=i[45].banner,t=ze(n,i,i[49],Oc);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||262144&r[1])&&je(t,n,o,o[49],e?Ue(n,o[49],r,_w):He(o[49]),Oc)},i(o){e||(d(t,o),e=!0)},o(o){p(t,o),e=!1},d(o){t&&t.d(o)}}}function Uc(i){let e,n;return e=new y2({props:{chatModel:i[26]}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Aw(i){let e,n,t=!i[22].doHideContextBar&&Uc(i);return{c(){t&&t.c(),e=de()},m(o,r){t&&t.m(o,r),M(o,e,r),n=!0},p(o,r){o[22].doHideContextBar?t&&(K(),p(t,1,1,()=>{t=null}),Z()):t?(t.p(o,r),4194304&r[0]&&d(t,1)):(t=Uc(o),t.c(),d(t,1),t.m(e.parentNode,e))},i(o){n||(d(t),n=!0)},o(o){p(t),n=!1},d(o){o&&w(e),t&&t.d(o)}}}function Wc(i){let e,n;return e=new Uh({props:{chatModel:i[26],agentConversationModel:i[27]}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function qc(i){let e,n;return e=new Pn.AddFileButton({props:{accept:".png,.jpg,.jpeg"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Gc(i){let e,n;return e=new Pn.ActionsMenu({props:{onCloseDropdown:i[35]}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Vc(i){var t;let e,n;return e=new Pn.ContextMenu({props:{onCloseDropdown:i[35],onInsertMentionable:(t=i[7])==null?void 0:t.insertMentionNode}}),{c(){y(e.$$.fragment)},m(o,r){b(e,o,r),n=!0},p(o,r){var c;const s={};128&r[0]&&(s.onInsertMentionable=(c=o[7])==null?void 0:c.insertMentionNode),e.$set(s)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function kw(i){let e,n,t,o,r,s=i[24].enableAgentMode&&!i[22].doHideAgentSwitcher&&Wc(i),c=i[6].flags.enableChatMultimodal&&!i[22].doHideMultimodalActions&&qc(),a=!i[5]&&!i[22].doHideAtMentions&&Gc(i),l=!i[22].doHideSlashActions&&Vc(i);return{c(){s&&s.c(),e=U(),c&&c.c(),n=U(),a&&a.c(),t=U(),l&&l.c(),o=de()},m(u,f){s&&s.m(u,f),M(u,e,f),c&&c.m(u,f),M(u,n,f),a&&a.m(u,f),M(u,t,f),l&&l.m(u,f),M(u,o,f),r=!0},p(u,f){u[24].enableAgentMode&&!u[22].doHideAgentSwitcher?s?(s.p(u,f),20971520&f[0]&&d(s,1)):(s=Wc(u),s.c(),d(s,1),s.m(e.parentNode,e)):s&&(K(),p(s,1,1,()=>{s=null}),Z()),u[6].flags.enableChatMultimodal&&!u[22].doHideMultimodalActions?c?4194368&f[0]&&d(c,1):(c=qc(),c.c(),d(c,1),c.m(n.parentNode,n)):c&&(K(),p(c,1,1,()=>{c=null}),Z()),u[5]||u[22].doHideAtMentions?a&&(K(),p(a,1,1,()=>{a=null}),Z()):a?(a.p(u,f),4194336&f[0]&&d(a,1)):(a=Gc(u),a.c(),d(a,1),a.m(t.parentNode,t)),u[22].doHideSlashActions?l&&(K(),p(l,1,1,()=>{l=null}),Z()):l?(l.p(u,f),4194304&f[0]&&d(l,1)):(l=Vc(u),l.c(),d(l,1),l.m(o.parentNode,o))},i(u){r||(d(s),d(c),d(a),d(l),r=!0)},o(u){p(s),p(c),p(a),p(l),r=!1},d(u){u&&(w(e),w(n),w(t),w(o)),s&&s.d(u),c&&c.d(u),a&&a.d(u),l&&l.d(u)}}}function Yc(i){let e,n;return e=new Pn.NotifyButton({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Ew(i){let e,n,t,o;return e=new Pn.RewritePromptButton({props:{isDisabled:i[16],onRewrite:i[36]}}),t=new Pn.SendButton({props:{isDisabled:i[16],disabledReason:i[15],primaryAction:i[3]}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};65536&s[0]&&(c.isDisabled=r[16]),e.$set(c);const a={};65536&s[0]&&(a.isDisabled=r[16]),32768&s[0]&&(a.disabledReason=r[15]),8&s[0]&&(a.primaryAction=r[3]),t.$set(a)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function Iw(i){var t;let e,n;return e=new Pn.ResendButton({props:{resendAction:(t=i[4])==null?void 0:t.resendLastExchange}}),{c(){y(e.$$.fragment)},m(o,r){b(e,o,r),n=!0},p(o,r){var c;const s={};16&r[0]&&(s.resendAction=(c=o[4])==null?void 0:c.resendLastExchange),e.$set(s)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function Tw(i){let e,n;return e=new Pn.CancelButton({props:{cancelAction:i[27].interruptAgent}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Lw(i){let e,n;return e=new Pn.CancelButton({props:{cancelAction:i[14]}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};16384&o[0]&&(r.cancelAction=t[14]),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Sw(i){let e,n;return e=new xw({}),e.$on("authStateChange",i[46]),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Rw(i){let e,n,t,o,r,s=i[23]&&!i[20]&&Yc();const c=[Sw,Lw,Tw,Iw,Ew],a=[];function l(u,f){return u[20]?0:u[17]?1:u[10]?2:u[2]?3:4}return n=l(i),t=a[n]=c[n](i),{c(){s&&s.c(),e=U(),t.c(),o=de()},m(u,f){s&&s.m(u,f),M(u,e,f),a[n].m(u,f),M(u,o,f),r=!0},p(u,f){u[23]&&!u[20]?s?9437184&f[0]&&d(s,1):(s=Yc(),s.c(),d(s,1),s.m(e.parentNode,e)):s&&(K(),p(s,1,1,()=>{s=null}),Z());let g=n;n=l(u),n===g?a[n].p(u,f):(K(),p(a[g],1,1,()=>{a[g]=null}),Z(),t=a[n],t?t.p(u,f):(t=a[n]=c[n](u),t.c()),d(t,1),t.m(o.parentNode,o))},i(u){r||(d(s),d(t),r=!0)},o(u){p(s),p(t),r=!1},d(u){u&&(w(e),w(o)),s&&s.d(u),a[n].d(u)}}}function Pw(i){let e,n;return e=new Pn.Root({props:{slot:"footer",$$slots:{rightAlign:[Rw],leftAlign:[kw]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};30655742&o[0]|262144&o[1]&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Xc(i){let e,n,t={editable:i[0],$$slots:{footer:[Pw],header:[Aw],banner:[Mw],default:[Cw]},$$scope:{ctx:i}};return e=new _u.Root({props:t}),i[48](e),{c(){y(e.$$.fragment)},m(o,r){b(e,o,r),n=!0},p(o,r){const s={};1&r[0]&&(s.editable=o[0]),66311934&r[0]|262144&r[1]&&(s.$$scope={dirty:r,ctx:o}),e.$set(s)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){i[48](null),x(e,o)}}}function Nw(i){let e,n,t,o,r=i[13],s=Xc(i);return{c(){e=F("div"),s.c(),A(e,"class","c-chat-input svelte-1fe9e8j"),A(e,"data-testid","design-system-chat-input")},m(c,a){M(c,e,a),s.m(e,null),n=!0,t||(o=[ke(wi,"focus",i[35]),ke(wi,"blur",function(){yt(i[6].saveImmediate)&&i[6].saveImmediate.apply(this,arguments)}),ke(wi,"beforeunload",function(){yt(i[6].saveImmediate)&&i[6].saveImmediate.apply(this,arguments)})],t=!0)},p(c,a){i=c,8192&a[0]&&ne(r,r=i[13])?(K(),p(s,1,1,N),Z(),s=Xc(i),s.c(),d(s,1),s.m(e,null)):s.p(i,a)},i(c){n||(d(s),n=!0)},o(c){p(s),n=!1},d(c){c&&w(e),s.d(c),t=!1,Nt(o)}}}function Fw(i,e,n){let t,o,r,s,c,a,l,u,f,g,h,k,I,_,T,O,B,z,fe,ye,ie,le,Q,_e,ge,be,q,Pe,Se=N,Ye=N,Xe=N;i.$$.on_destroy.push(()=>Se()),i.$$.on_destroy.push(()=>Ye()),i.$$.on_destroy.push(()=>Xe());let{$$slots:Ge={},$$scope:bt}=e;const Ce=qe("chatModel");Ze(i,Ce,Ie=>n(6,ge=Ie));const Qe=qe("toolsWebviewModel"),Lt=qe("agentConversationModel"),$t=qe(uo.key);Ze(i,$t,Ie=>n(42,le=Ie));const Vt=qe(Mo.key),P=qe("slashCommandModel"),C=Ce.flags;Ze(i,C,Ie=>n(24,q=Ie));const S=qe(Nr)??vt(Fr);Ze(i,S,Ie=>n(44,be=Ie));const{currentConversationModel:j}=Ce;Ze(i,j,Ie=>n(41,ye=Ie));const{activeCommand:V}=P;Ze(i,V,Ie=>n(25,Pe=Ie));let{editable:se=!0}=e,{placeholder:ee="Ask or instruct Augment..."}=e;const ue=j.onNewConversation(()=>xt());Ao(ue);let Re,We,Le=!0;const xt=()=>We==null?void 0:We.forceFocus();let Ft=!1;return i.$$set=Ie=>{"editable"in Ie&&n(0,se=Ie.editable),"placeholder"in Ie&&n(37,ee=Ie.placeholder),"$$scope"in Ie&&n(49,bt=Ie.$$scope)},i.$$.update=()=>{var Ie,Dt,Yt,mn;if(2048&i.$$.dirty[1]&&n(23,t=!!(le!=null&&le.isActive)),8192&i.$$.dirty[1]&&n(22,o=be),1024&i.$$.dirty[1]&&n(21,r=(Ie=ye.draftExchange)==null?void 0:Ie.rich_text_json_repr),2048&i.$$.dirty[1]&&(le!=null&&le.isActive)&&!($t!=null&&$t.currentAgent)&&async function(){if(Vt&&($t!=null&&$t.isActive))try{n(1,Le=await Vt.isGithubAuthenticated())}catch(Ot){console.error("Failed to check GitHub authentication status:",Ot),n(1,Le=!1)}}(),2&i.$$.dirty[0]|2048&i.$$.dirty[1]&&n(20,s=(le==null?void 0:le.isActive)&&!($t!=null&&$t.currentAgent)&&!Le),64&i.$$.dirty[0]|2048&i.$$.dirty[1]&&n(40,l=function(Ot,St,Bt,Qt,gt,pn){var $n;const Xt=Ot.currentConversationModel,Wn=ot(Qt.activeCommand),Jt=ot(St.isCurrConversationAgentic),Nn=(()=>{var nn;if(Ot.flags.enableChatMultimodal){const Ct=(nn=Xt.draftExchange)==null?void 0:nn.rich_text_json_repr;return!!Ct&&Dr.hasLoadingImages(Ct)}return!1})();if(gt!=null&&gt.isActive){let nn=!1;gt.agentOverviews&&(nn=gt.agentOverviews.length>=gt.maxRemoteAgents);let Ct=!1;return gt.currentAgentId||(Ct=!(($n=Xt.draftExchange)!=null&&$n.request_message)||gt.isCreatingAgent||nn),{stateName:"remoteAgentMode",showCancelButton:gt.isCurrentAgentRunning,isDisabled:Ct,disabledReason:nn?L4.replace("%MAX_AGENTS%",gt.maxRemoteAgents.toString()):void 0,action:S4(gt,Xt,pn),cancelAction:()=>(gt.interruptAgent(),!0)}}return Nn?{stateName:"imagesLoading",showCancelButton:!1,isDisabled:!0,action:()=>!1,cancelAction:()=>(Jt?St.interruptAgent():Bt.interruptToolsConversation(),!0)}:Wn?{stateName:"slashCommandActive",showCancelButton:!1,isDisabled:!1,action:()=>(Qt.runActiveCommand(),Xt.clearDraftExchange(),!0),cancelAction:()=>!1}:Jt?{stateName:"agentMode",showCancelButton:!1,isDisabled:!Xt.hasDraft,action:()=>(St.interruptAgent().then(()=>{Xt.sendDraftExchange()}),!0),cancelAction:()=>(St.interruptAgent(),!0)}:{stateName:"chatMode",showCancelButton:Xt.canCancelMessage,isDisabled:!Xt.canSendDraft,action:()=>(Xt.sendDraftExchange(),!0),cancelAction:()=>(Bt.interruptToolsConversation(),!0)}}(ge,Lt,Qe,P,le,Vt)),512&i.$$.dirty[1]&&n(17,u=l.showCancelButton),512&i.$$.dirty[1]&&n(16,f=l.isDisabled),512&i.$$.dirty[1]&&n(15,g=l.disabledReason),512&i.$$.dirty[1]&&n(3,h=l.action),512&i.$$.dirty[1]&&n(14,k=l.cancelAction),32&i.$$.dirty[0]|2112&i.$$.dirty[1]&&n(13,I=`${_e}-${le==null?void 0:le.isActive}-${ee}`),8&i.$$.dirty[0]&&n(12,_={Enter:h}),64&i.$$.dirty[0]&&(n(11,T=ge.currentConversationModel),Se(),Se=it(T,Ot=>n(4,ie=Ot))),16&i.$$.dirty[0]){const Ot=(Dt=ie==null?void 0:ie.lastExchange)==null?void 0:Dt.status,St=Ot===kt.cancelled,Bt=ie==null?void 0:ie.getLastToolUseState().phase,Qt=Bt===It.cancelled;n(38,Ft=St||Qt)}32&i.$$.dirty[0]|6144&i.$$.dirty[1]&&n(10,O=!(le!=null&&le.isActive)&&_e&&Q!==Ir.notRunning),3200&i.$$.dirty[1]&&n(2,B=!(le!=null&&le.isActive)&&Ft&&((Yt=ye.draftExchange)==null?void 0:Yt.request_message)===""),16&i.$$.dirty[0]&&n(39,z=(mn=ie==null?void 0:ie.lastExchange)==null?void 0:mn.request_message),4&i.$$.dirty[0]|320&i.$$.dirty[1]&&n(9,fe=B&&z?z:ee)},n(19,{isCurrConversationAgentic:c,agentExchangeStatus:a}=Lt,c,(n(18,a),Ye(),Ye=it(a,Ie=>n(43,Q=Ie)),a)),Xe(),Xe=it(c,Ie=>n(5,_e=Ie)),[se,Le,B,h,ie,_e,ge,Re,We,fe,O,T,_,I,k,g,f,u,a,c,s,r,o,t,q,Pe,Ce,Lt,$t,C,S,j,V,function(Ie){ye.saveDraftExchange(Ie.rawText,Ie.richTextJsonRepr)},function(Ie){ye.saveDraftMentions(Ie.current)},()=>We==null?void 0:We.requestFocus(),async function(){var Ie,Dt,Yt,mn,Ot;try{const St=((Ie=ye.draftExchange)==null?void 0:Ie.request_message)||"";if(!St||St.trim()==="")return;const Bt=`Here is an instruction that I'd like to give you, but it needs to be improved. Rewrite and enhance this instruction to make it clearer, more specific, less ambiguous, and correct any mistakes. Consider the context of our conversation history when enhancing the prompt. Reply with the following format:

### BEGIN RESPONSE ###
Here is an enhanced version of the original instruction that is more specific and clear:
<augment-enhanced-prompt>enhanced prompt goes here</augment-enhanced-prompt>

### END RESPONSE ###

Here is my original instruction:`,Qt=(Dt=ye.draftExchange)==null?void 0:Dt.rich_text_json_repr;try{const{responseText:gt}=await ye.sendSilentExchange({request_message:`${Bt}

${St}`,disableHistory:!1,disableRetrieval:!0});ye.extensionClient.reportAgentSessionEvent({eventName:Rr.enhancedPrompt,conversationId:ye.id});let pn="";const Xt=/<augment-enhanced-prompt>([\s\S]*?)<\/augment-enhanced-prompt>/,Wn=gt.match(Xt);if(Wn&&Wn[1]?pn=Wn[1].trim():(pn=gt.trim(),console.warn("Enhanced prompt tags not found in response, using full response")),pn&&pn.trim()!==""){const Jt=(Yt=ye.draftExchange)==null?void 0:Yt.rich_text_json_repr;let Nn;if(Jt&&typeof Jt=="object"){const $n=nn=>{const Ct={...nn};return Ct.type==="text"&&Ct.text===St||Ct.type==="text"&&Ct.text&&St.includes(Ct.text)?{...Ct,text:pn}:(Ct.content&&Array.isArray(Ct.content)&&(Ct.content=Ct.content.map($n)),Ct)};Nn=$n(Jt)}else Nn={type:"doc",content:[{type:"paragraph",content:[{type:"text",text:pn}]}]};ye.saveDraftExchange(pn,Nn),setTimeout(()=>{xt();try{const $n=document.querySelector(".ProseMirror");if($n){const nn=$n.querySelector("p");if(nn){const Ct=document.createRange(),$o=window.getSelection();Ct.setStart(nn,0),Ct.collapse(!0),$o&&($o.removeAllRanges(),$o.addRange(Ct))}}}catch{}},200)}else ye.saveDraftExchange(Qt&&((mn=ye.draftExchange)==null?void 0:mn.request_message)||"",Qt||{type:"doc",content:[]})}catch{ye.saveDraftExchange(Qt&&((Ot=ye.draftExchange)==null?void 0:Ot.request_message)||"",Qt||{type:"doc",content:[]})}xt()}catch{}},ee,Ft,z,l,ye,le,Q,be,Ge,({detail:Ie})=>{n(1,Le=Ie.isAuthenticated)},function(Ie){ft[Ie?"unshift":"push"](()=>{Re=Ie,n(7,Re)})},function(Ie){ft[Ie?"unshift":"push"](()=>{We=Ie,n(8,We)})},bt]}class Dw extends oe{constructor(e){super(),re(this,e,Fw,Nw,ne,{editable:0,placeholder:37},null,[-1,-1])}}const Ow=i=>({}),Kc=i=>({}),Bw=i=>({}),Zc=i=>({}),zw=i=>({}),Qc=i=>({}),jw=i=>({}),Jc=i=>({});function Hw(i){let e,n,t,o,r,s,c,a,l,u;const f=i[1]["floating-area"],g=ze(f,i,i[0],Jc),h=i[1]["message-area"],k=ze(h,i,i[0],Qc),I=i[1]["actions-area"],_=ze(I,i,i[0],Zc),T=i[1]["input-area"],O=ze(T,i,i[0],Kc);return{c(){e=F("div"),n=F("div"),g&&g.c(),t=U(),o=F("div"),r=F("div"),k&&k.c(),s=U(),c=F("div"),_&&_.c(),a=U(),l=F("div"),O&&O.c(),A(n,"class","l-chat__floating svelte-1cmc9fm"),A(r,"class","l-chat__msg_area_body svelte-1cmc9fm"),A(o,"class","l-chat__msg_area svelte-1cmc9fm"),A(c,"class","l-chat__actions_area svelte-1cmc9fm"),A(l,"class","l-chat__input_area svelte-1cmc9fm"),A(e,"class","l-chat svelte-1cmc9fm"),A(e,"data-testid","main-chat"),A(e,"data-vscode-context",JSON.stringify({preventDefaultContextMenuItems:!0}))},m(B,z){M(B,e,z),H(e,n),g&&g.m(n,null),H(e,t),H(e,o),H(o,r),k&&k.m(r,null),H(e,s),H(e,c),_&&_.m(c,null),H(e,a),H(e,l),O&&O.m(l,null),u=!0},p(B,[z]){g&&g.p&&(!u||1&z)&&je(g,f,B,B[0],u?Ue(f,B[0],z,jw):He(B[0]),Jc),k&&k.p&&(!u||1&z)&&je(k,h,B,B[0],u?Ue(h,B[0],z,zw):He(B[0]),Qc),_&&_.p&&(!u||1&z)&&je(_,I,B,B[0],u?Ue(I,B[0],z,Bw):He(B[0]),Zc),O&&O.p&&(!u||1&z)&&je(O,T,B,B[0],u?Ue(T,B[0],z,Ow):He(B[0]),Kc)},i(B){u||(d(g,B),d(k,B),d(_,B),d(O,B),u=!0)},o(B){p(g,B),p(k,B),p(_,B),p(O,B),u=!1},d(B){B&&w(e),g&&g.d(B),k&&k.d(B),_&&_.d(B),O&&O.d(B)}}}function Uw(i,e,n){let{$$slots:t={},$$scope:o}=e;return i.$$set=r=>{"$$scope"in r&&n(0,o=r.$$scope)},[o,t]}class Ww extends oe{constructor(e){super(),re(this,e,Uw,Hw,ne,{})}}class qw{constructor(e,n){te(this,"subscribers",new Set);te(this,"isAutofixConversation",()=>pf(this._conversationModel));te(this,"subscribe",e=>(this.subscribers.add(e),e(this),()=>{this.subscribers.delete(e)}));te(this,"notifySubscribers",()=>{this.subscribers.forEach(e=>e(this))});te(this,"update",e=>{this._conversationModel.extraData={...this.extraData,...e},this.notifySubscribers(),this.sendAutofixStateUpdate()});te(this,"shouldShowAutofixCommandInput",()=>{var e;return!((e=this.extraData.autofixIterations)!=null&&e.length)});te(this,"launchAutofixPanel",async(e,n)=>{await this._extensionClient.launchAutofixPanel(this.conversationId,e,n)});this._conversationModel=e,this._extensionClient=n,this._conversationModel.subscribe(t=>this.notifySubscribers())}get conversationId(){return this._conversationModel.id}async sendAutofixStateUpdate(){await this._extensionClient.sendAutofixStateUpdate(this._conversationModel.extraData)}setCommand(e){this.update({autofixCommand:e})}get extraData(){return this._conversationModel.extraData}addChatItem(e){this._conversationModel.addChatItem(e)}getAutofixIteration(e){var n;return(n=this.extraData.autofixIterations)==null?void 0:n.find(t=>t.id===e)}insertNewAutofixIteration(e){this.update({autofixIterations:[...this.extraData.autofixIterations||[],e]})}updateAutofixIteration(e){const n=this.extraData.autofixIterations||[],t=n.findIndex(o=>o.id===e.id);if(t===-1)throw new Error(`No autofix iteration found with id ${e.id}`);this.update({autofixIterations:n.map((o,r)=>r===t?{...o,...e}:o)})}async handleFixWasApplied(e){var t,o;const n=(o=(t=this.extraData.autofixIterations)==null?void 0:t.at(-1))==null?void 0:o.id;if(!n)throw new Error("No latest iteration found");this.updateAutofixIteration({id:n,selectedSolutions:e}),await this.startNewAutofixIteration()}async handleUserSteering(e){var o,r;const n=(o=this.extraData.autofixIterations)==null?void 0:o.at(-1);if(!n)throw new Error("No latest iteration found");const t=(r=n.suggestedSolutions)==null?void 0:r.at(-1);if(!t)throw new Error("No latest suggested solution found");this.addChatItem({chatItemType:Ln.autofixSteeringMessage,request_id:crypto.randomUUID(),status:kt.sent,response_text:e}),this.update({autofixSteeringHistory:[...this.extraData.autofixSteeringHistory||[],{requestId:crypto.randomUUID(),requestMessage:e,summary:t.summary,replacements:t.originalReplacements}]}),await this.planSolution(n.id)}async startNewAutofixIteration(){var r;const e=this.extraData.autofixCommand;if(!e)throw new Error("No command set");const n=this.extraData,t=crypto.randomUUID(),o=!((r=n.autofixIterations)!=null&&r.length);this.insertNewAutofixIteration({id:t,currentStage:wo.runTest,commandOutput:"",isFirstIteration:o}),this.addChatItem({chatItemType:Ln.autofixStage,request_id:crypto.randomUUID(),iterationId:t,status:kt.sent,stage:wo.runTest}),await this.launchAutofixPanel(t,wo.runTest);try{const s=e.split(" "),c=s[0],a=s.slice(1),l=await this._extensionClient.executeCommand(t,c,a),u=l.returnCode!==0;if(this.updateAutofixIteration({id:t,commandOutput:l.output,commandFailed:u}),!u)return t}catch(s){return console.error("[ConversationModel] Error executing command:",s),this.updateAutofixIteration({id:t,commandOutput:String(s),commandFailed:!0}),t}return await this.planSolution(t),t}async planSolution(e){var r,s;const n=this.extraData.autofixCommand;if(!n)throw new Error("No command set");const t=this.getAutofixIteration(e);if(!t)throw new Error(`No iteration found with id ${e}`);this.updateAutofixIteration({id:e,currentStage:wo.applyFix}),this.addChatItem({chatItemType:Ln.autofixStage,request_id:crypto.randomUUID(),iterationId:e,status:kt.sent,stage:wo.applyFix,stageCount:((r=t.suggestedSolutions)==null?void 0:r.length)||0});const o=await this._extensionClient.autofixPlan({input:n,output:((s=this.getAutofixIteration(e))==null?void 0:s.commandOutput)||""},this.extraData.autofixSteeringHistory);this.addChatItem({chatItemType:Ln.autofixMessage,request_id:crypto.randomUUID(),status:kt.sent,response_text:o.summary}),this.updateAutofixIteration({id:e,suggestedSolutions:[...t.suggestedSolutions||[],o]}),await this.launchAutofixPanel(e,wo.applyFix)}handleMessageFromExtension(e){const n=e.data;switch(n.type){case dt.chatAutofixStateUpdateRequest:return this.sendAutofixStateUpdate(),!0;case dt.chatAutofixSuggestionsApplied:return this.handleFixWasApplied(n.data.selectedSolutions),!0;default:return!1}}initializeAutofixConversation(){this.update({isAutofix:!0,autofixIterations:[]});const e={chatItemType:Ln.autofixMessage,request_id:crypto.randomUUID(),status:kt.success,response_text:"Autofix enables you to run your tests and suggests fixes for you. Start by typing a command to run your test such as `pytest path/to/test`"};this._conversationModel.chatHistory.push(e)}}function Gw(i){let e,n;return e=new Jn({props:{iconName:"play_arrow"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Vw(i){let e,n,t,o,r,s;function c(l){i[2](l)}let a={placeholder:"Enter test command (e.g. pytest path/to/test.py)",variant:"surface",size:2};return i[0]!==void 0&&(a.value=i[0]),n=new Gr({props:a}),ft.push(()=>Zt(n,"value",c)),n.$on("keydown",i[1]),r=new pt({props:{disabled:!i[0],size:2,variant:"solid",color:"accent",$$slots:{default:[Gw]},$$scope:{ctx:i}}}),r.$on("click",i[3]),{c(){e=F("div"),y(n.$$.fragment),o=U(),y(r.$$.fragment),A(e,"class","command-input-container svelte-3c7cic")},m(l,u){M(l,e,u),b(n,e,null),H(e,o),b(r,e,null),s=!0},p(l,[u]){const f={};!t&&1&u&&(t=!0,f.value=l[0],tn(()=>t=!1)),n.$set(f);const g={};1&u&&(g.disabled=!l[0]),64&u&&(g.$$scope={dirty:u,ctx:l}),r.$set(g)},i(l){s||(d(n.$$.fragment,l),d(r.$$.fragment,l),s=!0)},o(l){p(n.$$.fragment,l),p(r.$$.fragment,l),s=!1},d(l){l&&w(e),x(n),x(r)}}}function Yw(i,e,n){const t=qe("autofixConversationModel");if(!t)throw new Error("AutofixConversationModel not found in context");let o="";async function r(s){return!(s.shiftKey||s.ctrlKey||s.metaKey)&&(s.stopPropagation(),s.key==="Enter"&&o.length>0?(t.setCommand(o),await t.startNewAutofixIteration(),n(0,o=""),!0):s.key==="Escape")}return Qn(()=>{const s=document.querySelector("input");s&&(s.focus(),s.select())}),[o,r,function(s){o=s,n(0,o)},()=>r(new KeyboardEvent("keydown",{key:"Enter"}))]}class Xw extends oe{constructor(e){super(),re(this,e,Yw,Vw,ne,{})}}function Kw(i){let e,n,t;return n=new Oe({props:{size:1,color:"error",$$slots:{default:[Zw]},$$scope:{ctx:i}}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-lazy-loading-error")},m(o,r){M(o,e,r),b(n,e,null),t=!0},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function Zw(i){let e;return{c(){e=X(`Failed to load agent setup. Please try closing and re-opening the panel, or contact support
      if this problem persists.`)},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function Qw(i){let e,n;return function(t){t[0]=t[1].default}(i),e=new i[0]({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Jw(i){let e,n,t,o,r;return n=new Zn({props:{size:1}}),o=new Oe({props:{size:1,color:"secondary",$$slots:{default:[e3]},$$scope:{ctx:i}}}),{c(){e=F("div"),y(n.$$.fragment),t=U(),y(o.$$.fragment),A(e,"class","c-lazy-loading-container")},m(s,c){M(s,e,c),b(n,e,null),H(e,t),b(o,e,null),r=!0},i(s){r||(d(n.$$.fragment,s),d(o.$$.fragment,s),r=!0)},o(s){p(n.$$.fragment,s),p(o.$$.fragment,s),r=!1},d(s){s&&w(e),x(n),x(o)}}}function e3(i){let e;return{c(){e=X("Loading agent setup...")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function t3(i){let e,n,t={ctx:i,current:null,token:null,hasCatch:!0,pending:Jw,then:Qw,catch:Kw,value:1,error:2,blocks:[,,,]};return Co(Yr(()=>import("./RemoteAgentSetup-zaKd1y4T.js"),__vite__mapDeps([2,0,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45]),import.meta.url),t),{c(){e=de(),t.block.c()},m(o,r){M(o,e,r),t.block.m(o,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(o,[r]){i=o},i(o){n||(d(t.block),n=!0)},o(o){for(let r=0;r<3;r+=1){const s=t.blocks[r];p(s)}n=!1},d(o){o&&w(e),t.block.d(o),t.token=null,t=null}}}class n3 extends oe{constructor(e){super(),re(this,e,null,t3,ne,{})}}function o3(i){let e,n,t,o,r;return{c(){e=X("Error loading message list: "),n=X(i[0]),t=U(),o=F("br"),r=X(`
    Please consider restarting your extension, or contact support if this problem persists.`)},m(s,c){M(s,e,c),M(s,n,c),M(s,t,c),M(s,o,c),M(s,r,c)},p(s,c){1&c&&Te(n,s[0])},d(s){s&&(w(e),w(n),w(t),w(o),w(r))}}}function r3(i){let e,n;return e=new ln({props:{slot:"icon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function i3(i){let e,n,t;return n=new bn({props:{variant:"soft",color:"error",$$slots:{icon:[r3],default:[o3]},$$scope:{ctx:i}}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","l-error-message svelte-1w3i40p")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p(o,[r]){const s={};3&r&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function s3(i,e,n){let{errorMessage:t}=e;return i.$$set=o=>{"errorMessage"in o&&n(0,t=o.errorMessage)},[t]}class nd extends oe{constructor(e){super(),re(this,e,s3,i3,ne,{errorMessage:0})}}function a3(i){let e,n,t={ctx:i,current:null,token:null,hasCatch:!0,pending:m3,then:u3,catch:l3,value:13,error:14,blocks:[,,,]};return Co(Yr(()=>import("./MessageList-CVy29LmZ.js"),__vite__mapDeps([46,0,1,7,8,47,42,43,41,44,48,24,25,20,15,16,17,11,12,13,18,27,4,5,6,9,28,29,30,31,32,40,49,10,14,38,50,51,52,53,54,55,56,33,57,3,19,21,58,39,26,34,35,36,37,59]),import.meta.url),t),{c(){e=de(),t.block.c()},m(o,r){M(o,e,r),t.block.m(o,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(o,r){Vr(t,i=o,r)},i(o){n||(d(t.block),n=!0)},o(o){for(let r=0;r<3;r+=1){const s=t.blocks[r];p(s)}n=!1},d(o){o&&w(e),t.block.d(o),t.token=null,t=null}}}function c3(i){let e,n,t={ctx:i,current:null,token:null,hasCatch:!0,pending:y3,then:g3,catch:h3,value:13,error:14,blocks:[,,,]};return Co(Yr(()=>import("./VirtualizedMessageList-BwGbyMM5.js"),__vite__mapDeps([60,0,1,7,8,47,42,43,41,44,48,24,25,20,15,16,17,11,12,13,18,27,4,5,6,9,28,29,30,31,32,40,49,10,14,38,50,51,52,53,54,55,56,33,57,3,19,21,58,39,34,35,36,37,26,61]),import.meta.url),t),{c(){e=de(),t.block.c()},m(o,r){M(o,e,r),t.block.m(o,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(o,r){Vr(t,i=o,r)},i(o){n||(d(t.block),n=!0)},o(o){for(let r=0;r<3;r+=1){const s=t.blocks[r];p(s)}n=!1},d(o){o&&w(e),t.block.d(o),t.token=null,t=null}}}function l3(i){let e,n,t;return n=new nd({props:{errorMessage:i[14].message}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","l-center-contents svelte-mlzu3y"),A(e,"data-testid","l-lazy-message-list-loading-error")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p:N,i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function u3(i){let e,n,t=i[4],o=el(i);return{c(){o.c(),e=de()},m(r,s){o.m(r,s),M(r,e,s),n=!0},p(r,s){16&s&&ne(t,t=r[4])?(K(),p(o,1,1,N),Z(),o=el(r),o.c(),d(o,1),o.m(e.parentNode,e)):o.p(r,s)},i(r){n||(d(o),n=!0)},o(r){p(o),n=!1},d(r){r&&w(e),o.d(r)}}}function d3(i){let e,n,t;const o=[{chatModel:i[0]},{onboardingWorkspaceModel:i[1]},i[8]];var r=i[13].default;function s(c,a){let l={};for(let u=0;u<o.length;u+=1)l=Ee(l,o[u]);return a!==void 0&&259&a&&(l=Ee(l,wt(o,[1&a&&{chatModel:c[0]},2&a&&{onboardingWorkspaceModel:c[1]},256&a&&Kn(c[8])]))),{props:l}}return r&&(e=yn(r,s(i))),{c(){e&&y(e.$$.fragment),n=de()},m(c,a){e&&b(e,c,a),M(c,n,a),t=!0},p(c,a){if(r!==(r=c[13].default)){if(e){K();const l=e;p(l.$$.fragment,1,0,()=>{x(l,1)}),Z()}r?(e=yn(r,s(c,a)),y(e.$$.fragment),d(e.$$.fragment,1),b(e,n.parentNode,n)):e=null}else if(r){const l=259&a?wt(o,[1&a&&{chatModel:c[0]},2&a&&{onboardingWorkspaceModel:c[1]},256&a&&Kn(c[8])]):{};e.$set(l)}},i(c){t||(e&&d(e.$$.fragment,c),t=!0)},o(c){e&&p(e.$$.fragment,c),t=!1},d(c){c&&w(n),e&&x(e,c)}}}function f3(i){let e;return{c(){e=F("div"),A(e,"class","l-center-contents svelte-mlzu3y"),A(e,"data-testid","l-lazy-message-list-center-contents")},m(n,t){M(n,e,t)},p:N,i:N,o:N,d(n){n&&w(e)}}}function el(i){let e,n,t,o;const r=[f3,d3],s=[];function c(a,l){return a[3].chatHistory.length===0?0:1}return e=c(i),n=s[e]=r[e](i),{c(){n.c(),t=de()},m(a,l){s[e].m(a,l),M(a,t,l),o=!0},p(a,l){let u=e;e=c(a),e===u?s[e].p(a,l):(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),n=s[e],n?n.p(a,l):(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t))},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),s[e].d(a)}}}function m3(i){let e,n=i[4],t=tl(i);return{c(){t.c(),e=de()},m(o,r){t.m(o,r),M(o,e,r)},p(o,r){16&r&&ne(n,n=o[4])?(t.d(1),t=tl(o),t.c(),t.m(e.parentNode,e)):t.p(o,r)},i:N,o:N,d(o){o&&w(e),t.d(o)}}}function p3(i){let e;return{c(){e=F("div"),e.textContent="Loading...",A(e,"class","l-center-contents svelte-mlzu3y")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function $3(i){let e;return{c(){e=F("div"),A(e,"class","l-center-contents svelte-mlzu3y")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function tl(i){let e;function n(r,s){return r[3].chatHistory.length===0?$3:p3}let t=n(i),o=t(i);return{c(){o.c(),e=de()},m(r,s){o.m(r,s),M(r,e,s)},p(r,s){t!==(t=n(r))&&(o.d(1),o=t(r),o&&(o.c(),o.m(e.parentNode,e)))},d(r){r&&w(e),o.d(r)}}}function h3(i){let e,n,t;return n=new nd({props:{errorMessage:i[14].message}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","l-center-contents svelte-mlzu3y"),A(e,"data-testid","l-lazy-message-list-loading-error")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p:N,i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function g3(i){let e,n,t=i[4],o=nl(i);return{c(){o.c(),e=de()},m(r,s){o.m(r,s),M(r,e,s),n=!0},p(r,s){16&s&&ne(t,t=r[4])?(K(),p(o,1,1,N),Z(),o=nl(r),o.c(),d(o,1),o.m(e.parentNode,e)):o.p(r,s)},i(r){n||(d(o),n=!0)},o(r){p(o),n=!1},d(r){r&&w(e),o.d(r)}}}function v3(i){let e,n,t;const o=[{chatModel:i[0]},{onboardingWorkspaceModel:i[1]},i[8]];var r=i[13].default;function s(c,a){let l={};for(let u=0;u<o.length;u+=1)l=Ee(l,o[u]);return a!==void 0&&259&a&&(l=Ee(l,wt(o,[1&a&&{chatModel:c[0]},2&a&&{onboardingWorkspaceModel:c[1]},256&a&&Kn(c[8])]))),{props:l}}return r&&(e=yn(r,s(i))),{c(){e&&y(e.$$.fragment),n=de()},m(c,a){e&&b(e,c,a),M(c,n,a),t=!0},p(c,a){if(r!==(r=c[13].default)){if(e){K();const l=e;p(l.$$.fragment,1,0,()=>{x(l,1)}),Z()}r?(e=yn(r,s(c,a)),y(e.$$.fragment),d(e.$$.fragment,1),b(e,n.parentNode,n)):e=null}else if(r){const l=259&a?wt(o,[1&a&&{chatModel:c[0]},2&a&&{onboardingWorkspaceModel:c[1]},256&a&&Kn(c[8])]):{};e.$set(l)}},i(c){t||(e&&d(e.$$.fragment,c),t=!0)},o(c){e&&p(e.$$.fragment,c),t=!1},d(c){c&&w(n),e&&x(e,c)}}}function w3(i){let e;return{c(){e=F("div"),A(e,"class","l-center-contents svelte-mlzu3y"),A(e,"data-testid","l-lazy-message-list-center-contents")},m(n,t){M(n,e,t)},p:N,i:N,o:N,d(n){n&&w(e)}}}function nl(i){let e,n,t,o;const r=[w3,v3],s=[];function c(a,l){return a[3].chatHistory.length===0?0:1}return e=c(i),n=s[e]=r[e](i),{c(){n.c(),t=de()},m(a,l){s[e].m(a,l),M(a,t,l),o=!0},p(a,l){let u=e;e=c(a),e===u?s[e].p(a,l):(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),n=s[e],n?n.p(a,l):(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t))},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),s[e].d(a)}}}function y3(i){let e,n=i[4],t=ol(i);return{c(){t.c(),e=de()},m(o,r){t.m(o,r),M(o,e,r)},p(o,r){16&r&&ne(n,n=o[4])?(t.d(1),t=ol(o),t.c(),t.m(e.parentNode,e)):t.p(o,r)},i:N,o:N,d(o){o&&w(e),t.d(o)}}}function b3(i){let e;return{c(){e=F("div"),e.textContent="Loading...",A(e,"class","l-center-contents svelte-mlzu3y")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function x3(i){let e;return{c(){e=F("div"),A(e,"class","l-center-contents svelte-mlzu3y")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function ol(i){let e;function n(r,s){return r[3].chatHistory.length===0?x3:b3}let t=n(i),o=t(i);return{c(){o.c(),e=de()},m(r,s){o.m(r,s),M(r,e,s)},p(r,s){t!==(t=n(r))&&(o.d(1),o=t(r),o&&(o.c(),o.m(e.parentNode,e)))},d(r){r&&w(e),o.d(r)}}}function _3(i){let e,n,t,o;const r=[c3,a3],s=[];function c(a,l){return a[5]?0:1}return e=c(i),n=s[e]=r[e](i),{c(){n.c(),t=de()},m(a,l){s[e].m(a,l),M(a,t,l),o=!0},p(a,[l]){let u=e;e=c(a),e===u?s[e].p(a,l):(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),n=s[e],n?n.p(a,l):(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t))},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),s[e].d(a)}}}function C3(i,e,n){let t,o,r,s,c;const a=["chatModel","onboardingWorkspaceModel","remoteAgentsModel"];let l,u,f,g,h=Hs(e,a),k=N,I=()=>(k(),k=it(ye,ie=>n(10,l=ie)),ye),_=N,T=N,O=N,B=()=>(O(),O=it(z,ie=>n(12,g=ie)),z);i.$$.on_destroy.push(()=>k()),i.$$.on_destroy.push(()=>_()),i.$$.on_destroy.push(()=>T()),i.$$.on_destroy.push(()=>O());let{chatModel:z}=e;B();let{onboardingWorkspaceModel:fe}=e,{remoteAgentsModel:ye}=e;return I(),i.$$set=ie=>{e=Ee(Ee({},e),et(ie)),n(8,h=Hs(e,a)),"chatModel"in ie&&B(n(0,z=ie.chatModel)),"onboardingWorkspaceModel"in ie&&n(1,fe=ie.onboardingWorkspaceModel),"remoteAgentsModel"in ie&&I(n(2,ye=ie.remoteAgentsModel))},i.$$.update=()=>{4096&i.$$.dirty&&(n(7,t=g.currentConversationModel),_(),_=it(t,ie=>n(3,u=ie))),4096&i.$$.dirty&&(n(6,o=g.flags),T(),T=it(o,ie=>n(11,f=ie))),1024&i.$$.dirty&&n(9,r=l.currentAgentId),3072&i.$$.dirty&&n(5,s=f.enableVirtualizedMessageList&&!l.isActive),1544&i.$$.dirty&&n(4,c=`${u.id}-${l.isActive?r:""}`)},[z,fe,ye,u,c,s,o,t,h,r,l,f,g]}class M3 extends oe{constructor(e){super(),re(this,e,C3,_3,ne,{chatModel:0,onboardingWorkspaceModel:1,remoteAgentsModel:2})}}function A3(i){let e,n,t;return n=new n3({}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","l-center-contents svelte-b0o8lx")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p:N,i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function k3(i){let e,n;return e=new M3({props:{chatModel:i[0],onboardingWorkspaceModel:i[1],remoteAgentsModel:i[2]}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o&&(r.chatModel=t[0]),2&o&&(r.onboardingWorkspaceModel=t[1]),4&o&&(r.remoteAgentsModel=t[2]),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function E3(i){let e,n,t,o;const r=[k3,A3],s=[];function c(a,l){return a[4]?0:a[3]?1:-1}return~(e=c(i))&&(n=s[e]=r[e](i)),{c(){n&&n.c(),t=de()},m(a,l){~e&&s[e].m(a,l),M(a,t,l),o=!0},p(a,[l]){let u=e;e=c(a),e===u?~e&&s[e].p(a,l):(n&&(K(),p(s[u],1,1,()=>{s[u]=null}),Z()),~e?(n=s[e],n?n.p(a,l):(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t)):n=null)},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),~e&&s[e].d(a)}}}function I3(i,e,n){let t,o,r,s=N,c=()=>(s(),s=it(u,f=>n(5,r=f)),u);i.$$.on_destroy.push(()=>s());let{chatModel:a}=e,{onboardingWorkspaceModel:l}=e,{remoteAgentsModel:u}=e;return c(),i.$$set=f=>{"chatModel"in f&&n(0,a=f.chatModel),"onboardingWorkspaceModel"in f&&n(1,l=f.onboardingWorkspaceModel),"remoteAgentsModel"in f&&c(n(2,u=f.remoteAgentsModel))},i.$$.update=()=>{32&i.$$.dirty&&n(3,t=r.isActive&&!r.currentAgentId),8&i.$$.dirty&&n(4,o=!t)},[a,l,u,t,o,r]}class T3 extends oe{constructor(e){super(),re(this,e,I3,E3,ne,{chatModel:0,onboardingWorkspaceModel:1,remoteAgentsModel:2})}}function L3(i){let e,n,t,o;return{c(){e=U(),n=F("div"),n.innerHTML='<div class="c-chat-input-dialog-hr svelte-7lmigv"></div>',A(n,"class","c-chat-input-dialog-hr-handle svelte-7lmigv"),A(n,"role","separator")},m(r,s){M(r,e,s),M(r,n,s),t||(o=[ke(document,"mousemove",i[1]),ke(document,"mouseup",i[2]),ke(n,"mousedown",i[0])],t=!0)},p:N,i:N,o:N,d(r){r&&(w(e),w(n)),t=!1,Nt(o)}}}function S3(i,e,n){let t,{inputArea:o}=e;return i.$$set=r=>{"inputArea"in r&&n(3,o=r.inputArea)},[r=>{t={startY:r.clientY,initialHeight:o.offsetHeight}},r=>{if(!t)return;const s=r.clientY-t.startY;n(3,o.style.height=t.initialHeight-s+"px",o)},()=>{t=void 0},o]}class R3 extends oe{constructor(e){super(),re(this,e,S3,L3,ne,{inputArea:3})}}const P3=i=>({}),rl=i=>({}),N3=i=>({}),il=i=>({}),F3=i=>({}),sl=i=>({});function D3(i){let e;return{c(){e=X(i[2])},m(n,t){M(n,e,t)},p(n,t){4&t&&Te(e,n[2])},d(n){n&&w(e)}}}function al(i){let e,n;const t=i[4]["sort-options"],o=ze(t,i,i[8],il);return{c(){e=F("div"),o&&o.c(),A(e,"class","l-threads-menu__sort-options svelte-k6qn47")},m(r,s){M(r,e,s),o&&o.m(e,null),n=!0},p(r,s){o&&o.p&&(!n||256&s)&&je(o,t,r,r[8],n?Ue(t,r[8],s,N3):He(r[8]),il)},i(r){n||(d(o,r),n=!0)},o(r){p(o,r),n=!1},d(r){r&&w(e),o&&o.d(r)}}}function cl(i){let e,n;const t=i[4].body,o=ze(t,i,i[8],rl);return{c(){e=F("div"),o&&o.c(),A(e,"class","l-threads-menu__body svelte-k6qn47")},m(r,s){M(r,e,s),o&&o.m(e,null),n=!0},p(r,s){o&&o.p&&(!n||256&s)&&je(o,t,r,r[8],n?Ue(t,r[8],s,P3):He(r[8]),rl)},i(r){n||(d(o,r),n=!0)},o(r){p(o,r),n=!1},d(r){r&&w(e),o&&o.d(r)}}}function O3(i){let e,n,t,o,r,s,c,a,l,u,f,g,h,k;s=new Oe({props:{size:1,weight:"regular",$$slots:{default:[D3]},$$scope:{ctx:i}}});const I=i[4].buttons,_=ze(I,i,i[8],sl);let T=i[1]&&al(i),O=i[1]&&cl(i);return{c(){e=F("div"),n=F("div"),t=F("div"),o=F("div"),r=F("div"),y(s.$$.fragment),c=U(),a=F("div"),_&&_.c(),l=U(),T&&T.c(),u=U(),O&&O.c(),A(r,"class","l-threads-menu__title svelte-k6qn47"),A(r,"data-testid","threads-menu-header-title"),A(o,"class","l-threads-menu__header svelte-k6qn47"),A(o,"role","button"),A(o,"tabindex","0"),A(o,"data-testid","threads-menu-header"),A(t,"class","l-threads-menu__content svelte-k6qn47"),A(n,"class","l-threads-menu__wrapper svelte-k6qn47"),A(e,"data-testid","threads-menu"),A(e,"class",f=Sr(`l-threads-menu ${i[3]}`)+" svelte-k6qn47"),Ne(e,"l-threads-menu--active",i[1])},m(B,z){M(B,e,z),H(e,n),H(n,t),H(t,o),H(o,r),b(s,r,null),H(o,c),H(o,a),_&&_.m(a,null),H(t,l),T&&T.m(t,null),H(t,u),O&&O.m(t,null),i[7](e),g=!0,h||(k=[ke(o,"click",Uo(Er(i[5]))),ke(o,"keydown",i[6])],h=!0)},p(B,[z]){const fe={};260&z&&(fe.$$scope={dirty:z,ctx:B}),s.$set(fe),_&&_.p&&(!g||256&z)&&je(_,I,B,B[8],g?Ue(I,B[8],z,F3):He(B[8]),sl),B[1]?T?(T.p(B,z),2&z&&d(T,1)):(T=al(B),T.c(),d(T,1),T.m(t,u)):T&&(K(),p(T,1,1,()=>{T=null}),Z()),B[1]?O?(O.p(B,z),2&z&&d(O,1)):(O=cl(B),O.c(),d(O,1),O.m(t,null)):O&&(K(),p(O,1,1,()=>{O=null}),Z()),(!g||8&z&&f!==(f=Sr(`l-threads-menu ${B[3]}`)+" svelte-k6qn47"))&&A(e,"class",f),(!g||10&z)&&Ne(e,"l-threads-menu--active",B[1])},i(B){g||(d(s.$$.fragment,B),d(_,B),d(T),d(O),g=!0)},o(B){p(s.$$.fragment,B),p(_,B),p(T),p(O),g=!1},d(B){B&&w(e),x(s),_&&_.d(B),T&&T.d(),O&&O.d(),i[7](null),h=!1,Nt(k)}}}function B3(i,e,n){let{$$slots:t={},$$scope:o}=e,{active:r=!1}=e,{element:s}=e,{title:c=""}=e,{class:a=""}=e;return i.$$set=l=>{"active"in l&&n(1,r=l.active),"element"in l&&n(0,s=l.element),"title"in l&&n(2,c=l.title),"class"in l&&n(3,a=l.class),"$$scope"in l&&n(8,o=l.$$scope)},[s,r,c,a,t,function(l){Hn.call(this,i,l)},function(l){Hn.call(this,i,l)},function(l){ft[l?"unshift":"push"](()=>{s=l,n(0,s)})},o]}class z3 extends oe{constructor(e){super(),re(this,e,B3,O3,ne,{active:1,element:0,title:2,class:3})}}const j3=i=>({}),ll=i=>({}),H3=i=>({}),ul=i=>({});function U3(i){let e,n;const t=i[2].title,o=ze(t,i,i[6],ul);return{c(){e=F("div"),o&&o.c(),A(e,"class","l-thread-menu-item__title svelte-1iwlval")},m(r,s){M(r,e,s),o&&o.m(e,null),n=!0},p(r,s){o&&o.p&&(!n||64&s)&&je(o,t,r,r[6],n?Ue(t,r[6],s,H3):He(r[6]),ul)},i(r){n||(d(o,r),n=!0)},o(r){p(o,r),n=!1},d(r){r&&w(e),o&&o.d(r)}}}function W3(i){let e,n,t,o,r,s,c;n=new Oe({props:{size:1,weight:"regular",$$slots:{default:[U3]},$$scope:{ctx:i}}});const a=i[2].right,l=ze(a,i,i[6],ll);return{c(){e=F("div"),y(n.$$.fragment),t=U(),o=F("div"),l&&l.c(),A(o,"class","l-thread-menu-item__right svelte-1iwlval"),A(e,"class","l-thread-menu-item svelte-1iwlval"),A(e,"data-testid","thread-menu-item"),A(e,"role","button"),A(e,"tabindex","0"),Ne(e,"l-thread-menu-item--selected",i[0]&&i[1]),Ne(e,"l-thread-menu-item--selectable",i[1])},m(u,f){M(u,e,f),b(n,e,null),H(e,t),H(e,o),l&&l.m(o,null),r=!0,s||(c=[ke(e,"click",i[3]),ke(e,"mousedown",i[4]),ke(e,"keydown",i[5])],s=!0)},p(u,[f]){const g={};64&f&&(g.$$scope={dirty:f,ctx:u}),n.$set(g),l&&l.p&&(!r||64&f)&&je(l,a,u,u[6],r?Ue(a,u[6],f,j3):He(u[6]),ll),(!r||3&f)&&Ne(e,"l-thread-menu-item--selected",u[0]&&u[1]),(!r||2&f)&&Ne(e,"l-thread-menu-item--selectable",u[1])},i(u){r||(d(n.$$.fragment,u),d(l,u),r=!0)},o(u){p(n.$$.fragment,u),p(l,u),r=!1},d(u){u&&w(e),x(n),l&&l.d(u),s=!1,Nt(c)}}}function q3(i,e,n){let{$$slots:t={},$$scope:o}=e,{selected:r=!1}=e,{isSelectable:s=!1}=e;return i.$$set=c=>{"selected"in c&&n(0,r=c.selected),"isSelectable"in c&&n(1,s=c.isSelectable),"$$scope"in c&&n(6,o=c.$$scope)},[r,s,t,function(c){Hn.call(this,i,c)},function(c){Hn.call(this,i,c)},function(c){Hn.call(this,i,c)},o]}class od extends oe{constructor(e){super(),re(this,e,q3,W3,ne,{selected:0,isSelectable:1})}}function G3(i){let e,n,t,o;return{c(){e=F("div"),n=X(i[1]),A(e,"class","c-editable-text__text svelte-1kpc8s8"),A(e,"role","button"),A(e,"tabindex","0"),Ne(e,"c-editable-text--disabled",i[3])},m(r,s){M(r,e,s),H(e,n),t||(o=ke(e,"dblclick",i[4]),t=!0)},p(r,s){2&s&&Te(n,r[1]),8&s&&Ne(e,"c-editable-text--disabled",r[3])},i:N,o:N,d(r){r&&w(e),t=!1,o()}}}function V3(i){let e,n,t,o;function r(a){i[15](a)}function s(a){i[16](a)}let c={size:1,variant:"surface",placeholder:i[2]};return i[5]!==void 0&&(c.textInput=i[5]),i[6]!==void 0&&(c.value=i[6]),e=new Gr({props:c}),ft.push(()=>Zt(e,"textInput",r)),ft.push(()=>Zt(e,"value",s)),e.$on("click",X3),e.$on("keydown",i[7]),{c(){y(e.$$.fragment)},m(a,l){b(e,a,l),o=!0},p(a,l){const u={};4&l&&(u.placeholder=a[2]),!n&&32&l&&(n=!0,u.textInput=a[5],tn(()=>n=!1)),!t&&64&l&&(t=!0,u.value=a[6],tn(()=>t=!1)),e.$set(u)},i(a){o||(d(e.$$.fragment,a),o=!0)},o(a){p(e.$$.fragment,a),o=!1},d(a){x(e,a)}}}function Y3(i){let e,n,t,o,r,s,c;const a=[V3,G3],l=[];function u(f,g){return!f[3]&&f[0]?0:1}return n=u(i),t=l[n]=a[n](i),{c(){e=U(),t.c(),o=de()},m(f,g){M(f,e,g),l[n].m(f,g),M(f,o,g),r=!0,s||(c=ke(document.body,"click",i[8]),s=!0)},p(f,[g]){let h=n;n=u(f),n===h?l[n].p(f,g):(K(),p(l[h],1,1,()=>{l[h]=null}),Z(),t=l[n],t?t.p(f,g):(t=l[n]=a[n](f),t.c()),d(t,1),t.m(o.parentNode,o))},i(f){r||(d(t),r=!0)},o(f){p(t),r=!1},d(f){f&&(w(e),w(o)),l[n].d(f),s=!1,c()}}}const X3=i=>i.stopPropagation();function K3(i,e,n){let t,{isEditing:o=!1}=e,{value:r}=e,{cancelOnClickOutside:s=!0}=e,{placeholder:c=""}=e,{disabled:a=!1}=e,{onStartEdit:l}=e,{onAcceptEdit:u}=e,{onCancelEdit:f}=e,g=r;function h(I){o&&(u(g),n(0,o=!1),n(6,g=""),I==null||I.stopPropagation())}function k(I){o&&s&&(f(),n(0,o=!1),n(6,g=""),I==null||I.stopPropagation())}return i.$$set=I=>{"isEditing"in I&&n(0,o=I.isEditing),"value"in I&&n(1,r=I.value),"cancelOnClickOutside"in I&&n(9,s=I.cancelOnClickOutside),"placeholder"in I&&n(2,c=I.placeholder),"disabled"in I&&n(3,a=I.disabled),"onStartEdit"in I&&n(10,l=I.onStartEdit),"onAcceptEdit"in I&&n(11,u=I.onAcceptEdit),"onCancelEdit"in I&&n(12,f=I.onCancelEdit)},i.$$.update=()=>{32&i.$$.dirty&&(t==null||t.focus())},[o,r,c,a,function(I){o||a||(n(6,g=r),n(0,o=!0),l(),I==null||I.stopPropagation())},t,g,function(I){o&&(I.key==="Enter"?h(I):I.key==="Escape"&&k(I))},function(I){const _=I.target;_&&_.closest(`.${id}`)||k(I)},s,l,u,f,h,k,function(I){t=I,n(5,t)},function(I){g=I,n(6,g)}]}class Z3 extends oe{constructor(e){super(),re(this,e,K3,Y3,ne,{isEditing:0,value:1,cancelOnClickOutside:9,placeholder:2,disabled:3,onStartEdit:10,onAcceptEdit:11,onCancelEdit:12,startEdit:4,acceptEdit:13,cancelEdit:14})}get startEdit(){return this.$$.ctx[4]}get acceptEdit(){return this.$$.ctx[13]}get cancelEdit(){return this.$$.ctx[14]}}function Q3(i){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),A(n,"fill-rule","evenodd"),A(n,"clip-rule","evenodd"),A(n,"d","M6 3.5C6 2.67157 6.67157 2 7.5 2C8.32843 2 9 2.67157 9 3.5C9 4.32843 8.32843 5 7.5 5C6.67157 5 6 4.32843 6 3.5ZM8 5.94999C9.14112 5.71836 10 4.70948 10 3.5C10 2.11929 8.88071 1 7.5 1C6.11929 1 5 2.11929 5 3.5C5 4.70948 5.85888 5.71836 7 5.94999V13.5C7 13.7761 7.22386 14 7.5 14C7.77614 14 8 13.7761 8 13.5V5.94999Z"),A(n,"fill","currentColor"),A(e,"width","15"),A(e,"height","15"),A(e,"viewBox","0 0 15 15"),A(e,"fill","none"),A(e,"xmlns","http://www.w3.org/2000/svg")},m(t,o){M(t,e,o),H(e,n)},p:N,i:N,o:N,d(t){t&&w(e)}}}class J3 extends oe{constructor(e){super(),re(this,e,null,Q3,ne,{})}}function ey(i){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),A(n,"fill-rule","evenodd"),A(n,"clip-rule","evenodd"),A(n,"d","M10 3.5C10 4.70948 9.14112 5.71836 8 5.94999V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.94999C5.85888 5.71836 5 4.70948 5 3.5C5 2.11929 6.11929 1 7.5 1C8.88071 1 10 2.11929 10 3.5Z"),A(n,"fill","currentColor"),A(e,"width","15"),A(e,"height","15"),A(e,"viewBox","0 0 15 15"),A(e,"fill","none"),A(e,"xmlns","http://www.w3.org/2000/svg")},m(t,o){M(t,e,o),H(e,n)},p:N,i:N,o:N,d(t){t&&w(e)}}}class ty extends oe{constructor(e){super(),re(this,e,null,ey,ne,{})}}const ny=i=>({}),dl=i=>({});function fl(i){let e,n,t,o;const r=[ry,oy],s=[];function c(a,l){return a[9]?0:1}return e=c(i),n=s[e]=r[e](i),{c(){n.c(),t=de()},m(a,l){s[e].m(a,l),M(a,t,l),o=!0},p(a,l){let u=e;e=c(a),e!==u&&(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),n=s[e],n||(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t))},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),s[e].d(a)}}}function oy(i){let e,n;return e=new mo.Root({props:{color:"accent",size:1,variant:"soft",$$slots:{default:[iy]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function ry(i){let e,n;return e=new mo.Root({props:{color:"accent",size:1,variant:"solid",highContrast:!0,$$slots:{default:[sy]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function iy(i){let e;return{c(){e=X("Agent")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function sy(i){let e;return{c(){e=X("Agent")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function ay(i){let e,n,t,o,r,s=Tt(i[2]);function c(u){i[22](u)}let a={value:vn.getDisplayName(i[2]),placeholder:"Conversation name",onAcceptEdit:i[20],onStartEdit:zy,onCancelEdit:jy};i[0]!==void 0&&(a.isEditing=i[0]),n=new Z3({props:a}),i[21](n),ft.push(()=>Zt(n,"isEditing",c));let l=s&&fl(i);return{c(){e=F("span"),y(n.$$.fragment),o=U(),l&&l.c(),A(e,"class","l-thread-menu-item__title svelte-nvsyjc"),A(e,"data-testid","thread-menu-item-title"),A(e,"slot","title")},m(u,f){M(u,e,f),b(n,e,null),H(e,o),l&&l.m(e,null),r=!0},p(u,f){const g={};4&f&&(g.value=vn.getDisplayName(u[2])),12&f&&(g.onAcceptEdit=u[20]),!t&&1&f&&(t=!0,g.isEditing=u[0],tn(()=>t=!1)),n.$set(g),4&f&&(s=Tt(u[2])),s?l?(l.p(u,f),4&f&&d(l,1)):(l=fl(u),l.c(),d(l,1),l.m(e,null)):l&&(K(),p(l,1,1,()=>{l=null}),Z())},i(u){r||(d(n.$$.fragment,u),d(l),r=!0)},o(u){p(n.$$.fragment,u),p(l),r=!1},d(u){u&&w(e),i[21](null),x(n),l&&l.d()}}}function cy(i){let e,n;return e=new Ae.Root({props:{open:i[7],$$slots:{default:[Sy]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};128&o&&(r.open=t[7]),33555942&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function ly(i){let e,n,t,o;return e=new At({props:{size:1,variant:"soft",color:"success",title:"Save",$$slots:{default:[Ry]},$$scope:{ctx:i}}}),e.$on("click",function(){yt(i[1].acceptEdit)&&i[1].acceptEdit.apply(this,arguments)}),t=new At({props:{size:1,variant:"soft",color:"neutral",title:"Cancel",$$slots:{default:[Py]},$$scope:{ctx:i}}}),t.$on("click",function(){yt(i[1].cancelEdit)&&i[1].cancelEdit.apply(this,arguments)}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){i=r;const c={};33554432&s&&(c.$$scope={dirty:s,ctx:i}),e.$set(c);const a={};33554432&s&&(a.$$scope={dirty:s,ctx:i}),t.$set(a)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function uy(i){let e,n;return e=new Eo({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function dy(i){let e,n,t;return n=new At({props:{variant:"ghost-block",color:"neutral",size:1,title:Dy,$$slots:{default:[uy]},$$scope:{ctx:i}}}),n.$on("click",i[13]),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","l-thread-menu-item__options svelte-nvsyjc")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p(o,r){const s={};33554432&r&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function fy(i){let e;return{c(){e=X("Options")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function ml(i){let e,n;return e=new Ae.Item({props:{class:"c-thread-menu__share-link",onSelect:i[14],$$slots:{iconLeft:[xy],default:[gy]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4&o&&(r.onSelect=t[14]),33554688&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function my(i){let e;return{c(){e=X("Share link to session")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function py(i){let e;return{c(){e=X("Unable to create link")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function $y(i){let e;return{c(){e=X("Link copied")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function hy(i){let e;return{c(){e=X("Creating link")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function gy(i){let e;function n(r,s){return r[8]==="retrieving"?hy:r[8]==="copied"?$y:r[8]==="failure"?py:my}let t=n(i),o=t(i);return{c(){o.c(),e=de()},m(r,s){o.m(r,s),M(r,e,s)},p(r,s){t!==(t=n(r))&&(o.d(1),o=t(r),o&&(o.c(),o.m(e.parentNode,e)))},d(r){r&&w(e),o.d(r)}}}function vy(i){let e,n;return e=new gu({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function wy(i){let e,n;return e=new Xo({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function yy(i){let e,n;return e=new Yo({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function by(i){let e,n;return e=new Zn({props:{size:1}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function xy(i){let e,n,t,o;const r=[by,yy,wy,vy],s=[];function c(a,l){return a[8]==="retrieving"?0:a[8]==="copied"?1:a[8]==="failure"?2:3}return e=c(i),n=s[e]=r[e](i),{c(){n.c(),t=de()},m(a,l){s[e].m(a,l),M(a,t,l),o=!0},p(a,l){let u=e;e=c(a),e!==u&&(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),n=s[e],n||(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t))},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),s[e].d(a)}}}function _y(i){let e;return{c(){e=X("Rename")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function Cy(i){let e,n;return e=new Au({props:{slot:"iconLeft"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function My(i){let e,n=i[2].isPinned?"Unpin":"Pin";return{c(){e=X(n)},m(t,o){M(t,e,o)},p(t,o){4&o&&n!==(n=t[2].isPinned?"Unpin":"Pin")&&Te(e,n)},d(t){t&&w(e)}}}function Ay(i){let e,n;return e=new ty({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function ky(i){let e,n;return e=new J3({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Ey(i){let e,n,t,o;const r=[ky,Ay],s=[];function c(a,l){return a[2].isPinned?0:1}return e=c(i),n=s[e]=r[e](i),{c(){n.c(),t=de()},m(a,l){s[e].m(a,l),M(a,t,l),o=!0},p(a,l){let u=e;e=c(a),e!==u&&(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),n=s[e],n||(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t))},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),s[e].d(a)}}}function Iy(i){let e;return{c(){e=X("Delete")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function Ty(i){let e,n;return e=new Xr({props:{slot:"iconLeft"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Ly(i){let e,n,t,o,r,s,c,a,l;e=new Ae.Label({props:{$$slots:{default:[fy]},$$scope:{ctx:i}}});let u=i[10]&&i[2].isShareable&&ml(i);return o=new Ae.Item({props:{onSelect:i[15],$$slots:{iconLeft:[Cy],default:[_y]},$$scope:{ctx:i}}}),s=new Ae.Item({props:{title:Oy,onSelect:i[16],$$slots:{iconLeft:[Ey],default:[My]},$$scope:{ctx:i}}}),a=new Ae.Item({props:{title:By,color:"error",onSelect:i[17],$$slots:{iconLeft:[Ty],default:[Iy]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),u&&u.c(),t=U(),y(o.$$.fragment),r=U(),y(s.$$.fragment),c=U(),y(a.$$.fragment)},m(f,g){b(e,f,g),M(f,n,g),u&&u.m(f,g),M(f,t,g),b(o,f,g),M(f,r,g),b(s,f,g),M(f,c,g),b(a,f,g),l=!0},p(f,g){const h={};33554432&g&&(h.$$scope={dirty:g,ctx:f}),e.$set(h),f[10]&&f[2].isShareable?u?(u.p(f,g),1028&g&&d(u,1)):(u=ml(f),u.c(),d(u,1),u.m(t.parentNode,t)):u&&(K(),p(u,1,1,()=>{u=null}),Z());const k={};130&g&&(k.onSelect=f[15]),33554432&g&&(k.$$scope={dirty:g,ctx:f}),o.$set(k);const I={};196&g&&(I.onSelect=f[16]),33554436&g&&(I.$$scope={dirty:g,ctx:f}),s.$set(I);const _={};164&g&&(_.onSelect=f[17]),33554432&g&&(_.$$scope={dirty:g,ctx:f}),a.$set(_)},i(f){l||(d(e.$$.fragment,f),d(u),d(o.$$.fragment,f),d(s.$$.fragment,f),d(a.$$.fragment,f),l=!0)},o(f){p(e.$$.fragment,f),p(u),p(o.$$.fragment,f),p(s.$$.fragment,f),p(a.$$.fragment,f),l=!1},d(f){f&&(w(n),w(t),w(r),w(c)),x(e,f),u&&u.d(f),x(o,f),x(s,f),x(a,f)}}}function Sy(i){let e,n,t,o;return e=new Ae.Trigger({props:{$$slots:{default:[dy]},$$scope:{ctx:i}}}),t=new Ae.Content({props:{size:1,side:"bottom",align:"end",onClickOutside:i[18],onEscapeKeyDown:i[19],$$slots:{default:[Ly]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};33554560&s&&(c.$$scope={dirty:s,ctx:r}),e.$set(c);const a={};128&s&&(a.onClickOutside=r[18]),128&s&&(a.onEscapeKeyDown=r[19]),33555942&s&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function Ry(i){let e,n;return e=new Yo({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Py(i){let e,n;return e=new Xo({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Ny(i){let e,n,t,o,r;const s=[ly,cy],c=[];function a(f,g){return f[0]?0:1}n=a(i),t=c[n]=s[n](i);const l=i[12].right,u=ze(l,i,i[25],dl);return{c(){e=F("div"),t.c(),o=U(),u&&u.c(),A(e,"slot","right"),A(e,"class","l-thread-menu-item__right svelte-nvsyjc")},m(f,g){M(f,e,g),c[n].m(e,null),H(e,o),u&&u.m(e,null),r=!0},p(f,g){let h=n;n=a(f),n===h?c[n].p(f,g):(K(),p(c[h],1,1,()=>{c[h]=null}),Z(),t=c[n],t?t.p(f,g):(t=c[n]=s[n](f),t.c()),d(t,1),t.m(e,o)),u&&u.p&&(!r||33554432&g)&&je(u,l,f,f[25],r?Ue(l,f[25],g,ny):He(f[25]),dl)},i(f){r||(d(t),d(u,f),r=!0)},o(f){p(t),p(u,f),r=!1},d(f){f&&w(e),c[n].d(),u&&u.d(f)}}}function Fy(i){let e,n;return e=new od({props:{selected:i[9],isSelectable:!0,$$slots:{right:[Ny],title:[ay]},$$scope:{ctx:i}}}),e.$on("click",i[23]),e.$on("keydown",function(){yt(Rn("Enter",i[24]))&&Rn("Enter",i[24]).apply(this,arguments)}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,[o]){i=t;const r={};512&o&&(r.selected=i[9]),33556463&o&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}const Dy="Conversation Options",Oy="Pin session",By="Delete session",zy=()=>{},jy=()=>{};function Hy(i,e,n){let t,o,r,s=N,c=()=>(s(),s=it(f,B=>n(6,r=B)),f);i.$$.on_destroy.push(()=>s());let{$$slots:a={},$$scope:l}=e,{conversation:u}=e,{chatModel:f}=e;c();let g,{onConversationClicked:h}=e,{deleteConversation:k}=e,{editableTitle:I}=e,{isEditingTitle:_=!1}=e,T=!1;async function O(B){if(B!==void 0&&g===void 0){n(8,g=u.lastUrl?"copied":"retrieving");try{const z=await f.getConversationUrl(B);navigator.clipboard.writeText(z),n(8,g="copied")}catch(z){console.error("Failed to get conversation URL: ",z),n(8,g="failure")}finally{setTimeout(()=>{n(7,T=!1),n(8,g=void 0)},1200)}}}return i.$$set=B=>{"conversation"in B&&n(2,u=B.conversation),"chatModel"in B&&c(n(3,f=B.chatModel)),"onConversationClicked"in B&&n(4,h=B.onConversationClicked),"deleteConversation"in B&&n(5,k=B.deleteConversation),"editableTitle"in B&&n(1,I=B.editableTitle),"isEditingTitle"in B&&n(0,_=B.isEditingTitle),"$$scope"in B&&n(25,l=B.$$scope)},i.$$.update=()=>{64&i.$$.dirty&&n(10,t=r.flags.enableShareService),13&i.$$.dirty&&n(9,o=u.id===f.currentConversationId&&!_)},[_,I,u,f,h,k,r,T,g,o,t,O,a,()=>{n(7,T=!T)},()=>O(u.id),B=>{n(7,T=!1),I==null||I.startEdit(B)},()=>{r.toggleConversationPinned(u.id),n(7,T=!1)},async()=>{k(u.id),n(7,T=!1)},()=>n(7,T=!1),()=>n(7,T=!1),B=>{f.renameConversation(u.id,B)},function(B){ft[B?"unshift":"push"](()=>{I=B,n(1,I)})},function(B){_=B,n(0,_)},()=>h(u.id),()=>h(u.id),l]}class Uy extends oe{constructor(e){super(),re(this,e,Hy,Fy,ne,{conversation:2,chatModel:3,onConversationClicked:4,deleteConversation:5,editableTitle:1,isEditingTitle:0})}}function pl(i,e,n){const t=i.slice();return t[10]=e[n],t}function $l(i){let e,n,t,o,r,s;t=new od({props:{$$slots:{right:[Zy],title:[Wy]},$$scope:{ctx:i}}});let c=ct(i[1]),a=[];for(let u=0;u<c.length;u+=1)a[u]=hl(pl(i,c,u));const l=u=>p(a[u],1,1,()=>{a[u]=null});return{c(){e=F("div"),n=F("div"),y(t.$$.fragment),o=U(),r=F("div");for(let u=0;u<a.length;u+=1)a[u].c();A(n,"class","l-thread-group__header svelte-1c3ly67"),A(e,"class","l-thread-group")},m(u,f){M(u,e,f),H(e,n),b(t,n,null),H(e,o),H(e,r);for(let g=0;g<a.length;g+=1)a[g]&&a[g].m(r,null);s=!0},p(u,f){const g={};if(8227&f&&(g.$$scope={dirty:f,ctx:u}),t.$set(g),30&f){let h;for(c=ct(u[1]),h=0;h<c.length;h+=1){const k=pl(u,c,h);a[h]?(a[h].p(k,f),d(a[h],1)):(a[h]=hl(k),a[h].c(),d(a[h],1),a[h].m(r,null))}for(K(),h=c.length;h<a.length;h+=1)l(h);Z()}},i(u){if(!s){d(t.$$.fragment,u);for(let f=0;f<c.length;f+=1)d(a[f]);s=!0}},o(u){p(t.$$.fragment,u),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)p(a[f]);s=!1},d(u){u&&w(e),x(t),cn(a,u)}}}function Wy(i){let e,n;return{c(){e=F("span"),n=X(i[0]),A(e,"slot","title")},m(t,o){M(t,e,o),H(e,n)},p(t,o){1&o&&Te(n,t[0])},d(t){t&&w(e)}}}function qy(i){let e,n;return e=new Eo({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Gy(i){let e,n;return e=new At({props:{variant:"ghost-block",color:"neutral",size:1,title:"Group options",$$slots:{default:[qy]},$$scope:{ctx:i}}}),e.$on("click",i[7]),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};8192&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Vy(i){let e,n,t,o,r=i[1].length+"",s=i[1].length>1?"s":"";return{c(){e=X("Delete "),n=X(r),t=X(" thread"),o=X(s)},m(c,a){M(c,e,a),M(c,n,a),M(c,t,a),M(c,o,a)},p(c,a){2&a&&r!==(r=c[1].length+"")&&Te(n,r),2&a&&s!==(s=c[1].length>1?"s":"")&&Te(o,s)},d(c){c&&(w(e),w(n),w(t),w(o))}}}function Yy(i){let e,n;return e=new Xr({props:{slot:"iconLeft"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Xy(i){let e,n;return e=new Ae.Item({props:{color:"error",onSelect:i[6],$$slots:{iconLeft:[Yy],default:[Vy]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};8194&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Ky(i){let e,n,t,o;return e=new Ae.Trigger({props:{$$slots:{default:[Gy]},$$scope:{ctx:i}}}),t=new Ae.Content({props:{size:1,side:"bottom",align:"end",$$slots:{default:[Xy]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};8224&s&&(c.$$scope={dirty:s,ctx:r}),e.$set(c);const a={};8194&s&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function Zy(i){let e,n,t;return n=new Ae.Root({props:{open:i[5],triggerOn:[Pt.Hover,Pt.Click],onHoverStart:Jy,onHoverEnd:i[8],onOpenChange:i[9],$$slots:{default:[Ky]},$$scope:{ctx:i}}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"slot","right"),A(e,"class","l-thread-group__options")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p(o,r){const s={};32&r&&(s.open=o[5]),32&r&&(s.onHoverEnd=o[8]),8226&r&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function hl(i){let e,n;return e=new Uy({props:{conversation:i[10],chatModel:i[4],onConversationClicked:i[2],deleteConversation:i[3]}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};2&o&&(r.conversation=t[10]),16&o&&(r.chatModel=t[4]),4&o&&(r.onConversationClicked=t[2]),8&o&&(r.deleteConversation=t[3]),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Qy(i){let e,n,t=i[1].length>0&&$l(i);return{c(){t&&t.c(),e=de()},m(o,r){t&&t.m(o,r),M(o,e,r),n=!0},p(o,[r]){o[1].length>0?t?(t.p(o,r),2&r&&d(t,1)):(t=$l(o),t.c(),d(t,1),t.m(e.parentNode,e)):t&&(K(),p(t,1,1,()=>{t=null}),Z())},i(o){n||(d(t),n=!0)},o(o){p(t),n=!1},d(o){o&&w(e),t&&t.d(o)}}}const Jy=()=>{};function e5(i,e,n){let{groupTitle:t}=e,{conversations:o}=e,{onConversationClicked:r}=e,{deleteConversation:s}=e,{chatModel:c}=e,a=!1;return i.$$set=l=>{"groupTitle"in l&&n(0,t=l.groupTitle),"conversations"in l&&n(1,o=l.conversations),"onConversationClicked"in l&&n(2,r=l.onConversationClicked),"deleteConversation"in l&&n(3,s=l.deleteConversation),"chatModel"in l&&n(4,c=l.chatModel)},[t,o,r,s,c,a,async function(){await c.deleteConversations(o.map(l=>l.id))},()=>n(5,a=!a),()=>n(5,a=!1),l=>{var u;l||(u=document.activeElement)!=null&&u.closest(".l-thread-group__options")&&document.activeElement instanceof HTMLElement&&document.activeElement.blur()}]}class t5 extends oe{constructor(e){super(),re(this,e,e5,Qy,ne,{groupTitle:0,conversations:1,onConversationClicked:2,deleteConversation:3,chatModel:4})}}const n5=navigator.platform.toUpperCase().indexOf("MAC")>=0;var rd=(i=>(i.leftBracket="[",i.rightBracket="]",i.forwardSlash="/",i.backSlash="\\",i.ctrl="Ctrl",i.L="L",i.R="R",i))(rd||{});const o5={cmdOrCtrl:n5?"⌘":"Ctrl"};function gl(i,e,n){const t=i.slice();return t[39]=e[n].label,t[40]=e[n].value,t}function vl(i,e,n){const t=i.slice();return t[36]=e[n],t[38]=n,t}function wl(i){let e,n,t={triggerOn:[Pt.Click],$$slots:{content:[u5],default:[i5]},$$scope:{ctx:i}};return e=new ht({props:t}),i[28](e),{c(){y(e.$$.fragment)},m(o,r){b(e,o,r),n=!0},p(o,r){const s={};2144&r[0]|4096&r[1]&&(s.$$scope={dirty:r,ctx:o}),e.$set(s)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){i[28](null),x(e,o)}}}function r5(i){let e,n;return e=new gu({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function i5(i){let e,n;return e=new At({props:{variant:"ghost-block",color:"neutral",size:1,title:"Share session",$$slots:{default:[r5]},$$scope:{ctx:i}}}),e.$on("click",i[27]),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4096&o[1]&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function s5(i){let e;return{c(){e=X("Copy link to thread")},m(n,t){M(n,e,t)},p:N,i:N,o:N,d(n){n&&w(e)}}}function a5(i){let e;return{c(){e=X(i[6])},m(n,t){M(n,e,t)},p(n,t){64&t[0]&&Te(e,n[6])},i:N,o:N,d(n){n&&w(e)}}}function c5(i){let e;return{c(){e=X("Copied link to clipboard!")},m(n,t){M(n,e,t)},p:N,i:N,o:N,d(n){n&&w(e)}}}function l5(i){let e,n,t,o;return n=new Zn({props:{size:1,useCurrentColor:!0}}),{c(){e=F("div"),y(n.$$.fragment),t=X(" Copying link...")},m(r,s){M(r,e,s),b(n,e,null),H(e,t),o=!0},p:N,i(r){o||(d(n.$$.fragment,r),o=!0)},o(r){p(n.$$.fragment,r),o=!1},d(r){r&&w(e),x(n)}}}function u5(i){let e,n,t,o;const r=[l5,c5,a5,s5],s=[];function c(a,l){return a[5]==="retrieving"?0:a[5]==="copied"?1:a[5]==="failure"?2:3}return n=c(i),t=s[n]=r[n](i),{c(){e=F("div"),t.c(),A(e,"slot","content")},m(a,l){M(a,e,l),s[n].m(e,null),o=!0},p(a,l){let u=n;n=c(a),n===u?s[n].p(a,l):(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),t=s[n],t?t.p(a,l):(t=s[n]=r[n](a),t.c()),d(t,1),t.m(e,null))},i(a){o||(d(t),o=!0)},o(a){p(t),o=!1},d(a){a&&w(e),s[n].d()}}}function d5(i){let e,n;return e=new Ko({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function f5(i){let e,n;return e=new wu({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function m5(i){let e,n;return e=new At({props:{variant:"solid",color:"accent",size:1,"data-testid":M5,$$slots:{default:[f5]},$$scope:{ctx:i}}}),e.$on("click",i[29]),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4096&o[1]&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function p5(i){let e,n,t;return n=new Jf({props:{icons:[`${o5.cmdOrCtrl}`,"L"]}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"slot","content"),A(e,"class","c-threads-menu__new-thread-tooltip-content svelte-113v40n")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p:N,i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function $5(i){let e,n,t,o,r,s,c=i[1].flags.enableShareService&&i[10]&&wl(i);return t=new At({props:{variant:"ghost-block",color:"neutral",size:1,title:i[3]?Cl:_l,$$slots:{default:[d5]},$$scope:{ctx:i}}}),t.$on("click",i[14]),t.$on("keydown",Rn("Enter",i[14])),r=new ht({props:{$$slots:{content:[p5],default:[m5]},$$scope:{ctx:i}}}),{c(){e=F("div"),c&&c.c(),n=U(),y(t.$$.fragment),o=U(),y(r.$$.fragment),A(e,"class","c-threads-menu__right-btns svelte-113v40n"),A(e,"slot","buttons")},m(a,l){M(a,e,l),c&&c.m(e,null),H(e,n),b(t,e,null),H(e,o),b(r,e,null),s=!0},p(a,l){a[1].flags.enableShareService&&a[10]?c?(c.p(a,l),1026&l[0]&&d(c,1)):(c=wl(a),c.c(),d(c,1),c.m(e,n)):c&&(K(),p(c,1,1,()=>{c=null}),Z());const u={};8&l[0]&&(u.title=a[3]?Cl:_l),4096&l[1]&&(u.$$scope={dirty:l,ctx:a}),t.$set(u);const f={};4096&l[1]&&(f.$$scope={dirty:l,ctx:a}),r.$set(f)},i(a){s||(d(c),d(t.$$.fragment,a),d(r.$$.fragment,a),s=!0)},o(a){p(c),p(t.$$.fragment,a),p(r.$$.fragment,a),s=!1},d(a){a&&w(e),c&&c.d(),x(t),x(r)}}}function h5(i){let e;return{c(){e=X("Sort by:")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function g5(i){let e,n=i[2]==="lastMessageTimestamp"?"Last Message":"Created Date";return{c(){e=X(n)},m(t,o){M(t,e,o)},p(t,o){4&o[0]&&n!==(n=t[2]==="lastMessageTimestamp"?"Last Message":"Created Date")&&Te(e,n)},d(t){t&&w(e)}}}function v5(i){let e,n,t,o,r;return n=new Oe({props:{size:1,$$slots:{default:[g5]},$$scope:{ctx:i}}}),o=new Ko({}),{c(){e=F("div"),y(n.$$.fragment),t=U(),y(o.$$.fragment),A(e,"class","c-threads-menu__sort-trigger svelte-113v40n")},m(s,c){M(s,e,c),b(n,e,null),H(e,t),b(o,e,null),r=!0},p(s,c){const a={};4&c[0]|4096&c[1]&&(a.$$scope={dirty:c,ctx:s}),n.$set(a)},i(s){r||(d(n.$$.fragment,s),d(o.$$.fragment,s),r=!0)},o(s){p(n.$$.fragment,s),p(o.$$.fragment,s),r=!1},d(s){s&&w(e),x(n),x(o)}}}function w5(i){let e,n,t=i[39]+"";return{c(){e=X(t),n=U()},m(o,r){M(o,e,r),M(o,n,r)},p:N,d(o){o&&(w(e),w(n))}}}function yl(i){let e,n;function t(){return i[25](i[40])}return e=new Ae.Item({props:{onSelect:t,highlight:i[2]===i[40],$$slots:{default:[w5]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(o,r){b(e,o,r),n=!0},p(o,r){i=o;const s={};513&r[0]&&(s.onSelect=t),4&r[0]&&(s.highlight=i[2]===i[40]),4096&r[1]&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(o){n||(d(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){x(e,o)}}}function y5(i){let e,n,t=ct(i[13]),o=[];for(let s=0;s<t.length;s+=1)o[s]=yl(gl(i,t,s));const r=s=>p(o[s],1,1,()=>{o[s]=null});return{c(){for(let s=0;s<o.length;s+=1)o[s].c();e=de()},m(s,c){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(s,c);M(s,e,c),n=!0},p(s,c){if(8709&c[0]){let a;for(t=ct(s[13]),a=0;a<t.length;a+=1){const l=gl(s,t,a);o[a]?(o[a].p(l,c),d(o[a],1)):(o[a]=yl(l),o[a].c(),d(o[a],1),o[a].m(e.parentNode,e))}for(K(),a=t.length;a<o.length;a+=1)r(a);Z()}},i(s){if(!n){for(let c=0;c<t.length;c+=1)d(o[c]);n=!0}},o(s){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)p(o[c]);n=!1},d(s){s&&w(e),cn(o,s)}}}function b5(i){let e,n,t,o;return e=new Ae.Trigger({props:{$$slots:{default:[v5]},$$scope:{ctx:i}}}),t=new Ae.Content({props:{size:1,side:"bottom",align:"start",$$slots:{default:[y5]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};4&s[0]|4096&s[1]&&(c.$$scope={dirty:s,ctx:r}),e.$set(c);const a={};517&s[0]|4096&s[1]&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function x5(i){let e,n,t,o,r,s;t=new Oe({props:{size:1,weight:"medium",$$slots:{default:[h5]},$$scope:{ctx:i}}});let c={$$slots:{default:[b5]},$$scope:{ctx:i}};return r=new Ae.Root({props:c}),i[26](r),{c(){e=F("div"),n=F("div"),y(t.$$.fragment),o=U(),y(r.$$.fragment),A(n,"class","c-threads-menu__sort-label svelte-113v40n"),A(e,"slot","sort-options"),A(e,"class","c-threads-menu__sort-options svelte-113v40n")},m(a,l){M(a,e,l),H(e,n),b(t,n,null),H(e,o),b(r,e,null),s=!0},p(a,l){const u={};4096&l[1]&&(u.$$scope={dirty:l,ctx:a}),t.$set(u);const f={};517&l[0]|4096&l[1]&&(f.$$scope={dirty:l,ctx:a}),r.$set(f)},i(a){s||(d(t.$$.fragment,a),d(r.$$.fragment,a),s=!0)},o(a){p(t.$$.fragment,a),p(r.$$.fragment,a),s=!1},d(a){a&&w(e),x(t),i[26](null),x(r)}}}function bl(i){let e,n,t,o;return n=new kf({props:{size:4}}),{c(){e=F("div"),y(n.$$.fragment),t=U(),A(e,"class","c-threads-menu__separator svelte-113v40n")},m(r,s){M(r,e,s),b(n,e,null),H(e,t),o=!0},i(r){o||(d(n.$$.fragment,r),o=!0)},o(r){p(n.$$.fragment,r),o=!1},d(r){r&&w(e),x(n)}}}function xl(i){let e,n,t,o;e=new t5({props:{groupTitle:i[36].groupTitle,conversations:i[36].conversations,onConversationClicked:i[17],deleteConversation:i[18],chatModel:i[1]}});let r=i[38]<i[4].length-1&&bl();return{c(){y(e.$$.fragment),n=U(),r&&r.c(),t=de()},m(s,c){b(e,s,c),M(s,n,c),r&&r.m(s,c),M(s,t,c),o=!0},p(s,c){const a={};16&c[0]&&(a.groupTitle=s[36].groupTitle),16&c[0]&&(a.conversations=s[36].conversations),2&c[0]&&(a.chatModel=s[1]),e.$set(a),s[38]<s[4].length-1?r?16&c[0]&&d(r,1):(r=bl(),r.c(),d(r,1),r.m(t.parentNode,t)):r&&(K(),p(r,1,1,()=>{r=null}),Z())},i(s){o||(d(e.$$.fragment,s),d(r),o=!0)},o(s){p(e.$$.fragment,s),p(r),o=!1},d(s){s&&(w(n),w(t)),x(e,s),r&&r.d(s)}}}function _5(i){let e,n,t=ct(i[4]),o=[];for(let s=0;s<t.length;s+=1)o[s]=xl(vl(i,t,s));const r=s=>p(o[s],1,1,()=>{o[s]=null});return{c(){e=F("div");for(let s=0;s<o.length;s+=1)o[s].c();A(e,"slot","body"),A(e,"data-testid","threads-menu-body")},m(s,c){M(s,e,c);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null);n=!0},p(s,c){if(393234&c[0]){let a;for(t=ct(s[4]),a=0;a<t.length;a+=1){const l=vl(s,t,a);o[a]?(o[a].p(l,c),d(o[a],1)):(o[a]=xl(l),o[a].c(),d(o[a],1),o[a].m(e,null))}for(K(),a=t.length;a<o.length;a+=1)r(a);Z()}},i(s){if(!n){for(let c=0;c<t.length;c+=1)d(o[c]);n=!0}},o(s){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)p(o[c]);n=!1},d(s){s&&w(e),cn(o,s)}}}function C5(i){let e,n,t,o,r;function s(a){i[30](a)}let c={active:i[3],class:id,title:vn.getDisplayName(i[11]),$$slots:{body:[_5],"sort-options":[x5],buttons:[$5]},$$scope:{ctx:i}};return i[8]!==void 0&&(c.element=i[8]),e=new z3({props:c}),ft.push(()=>Zt(e,"element",s)),e.$on("click",i[14]),e.$on("keydown",Rn("Enter",i[14])),{c(){y(e.$$.fragment)},m(a,l){b(e,a,l),t=!0,o||(r=[ke(window,"blur",i[19]),ke(window,"keydown",Rn("Escape",i[15])),ke(window,"click",i[24],!0)],o=!0)},p(a,l){const u={};8&l[0]&&(u.active=a[3]),2048&l[0]&&(u.title=vn.getDisplayName(a[11])),3839&l[0]|4096&l[1]&&(u.$$scope={dirty:l,ctx:a}),!n&&256&l[0]&&(n=!0,u.element=a[8],tn(()=>n=!1)),e.$set(u)},i(a){t||(d(e.$$.fragment,a),t=!0)},o(a){p(e.$$.fragment,a),t=!1},d(a){x(e,a),o=!1,Nt(r)}}}new Set(Object.values(rd));const id="js-threads-menu",M5="new-thread-button",_l="Show Sessions",Cl="Collapse Sessions";var Mn=(i=>(i.Pinned="Pinned",i.Today="Today",i.ThisWeek="Last 7 days",i.ThisMonth="Last 30 days",i.Older="Older",i))(Mn||{});function A5(i,e,n){let t,o,r,s,c,a,l=N,u=()=>(l(),l=it(h,q=>n(1,s=q)),h),f=N,g=N;i.$$.on_destroy.push(()=>l()),i.$$.on_destroy.push(()=>f()),i.$$.on_destroy.push(()=>g());let{chatModel:h}=e;u();let{onActiveChanged:k=()=>{}}=e,{active:I}=e,_=I||!1;const T=[Mn.Pinned,Mn.Today,Mn.ThisWeek,Mn.ThisMonth,Mn.Older];let O=[];function B(q){I===void 0&&_!==q&&(n(3,_=q),k(q))}function z(){B(!1)}function fe(){h.setCurrentConversation(),z()}let ye,ie=!1,le,Q,_e,ge="";async function be(q){if(q!==void 0){le&&(clearTimeout(void 0),le.requestOpen()),n(5,ye="retrieving"),n(6,ge="");try{const Pe=await h.getConversationUrl(q);navigator.clipboard.writeText(Pe),n(5,ye="copied")}catch(Pe){const Se=Pe;n(5,ye="failure"),n(6,ge=Se.message)}finally{setTimeout(()=>{le==null||le.requestClose()},1200)}}}return i.$$set=q=>{"chatModel"in q&&u(n(0,h=q.chatModel)),"onActiveChanged"in q&&n(21,k=q.onActiveChanged),"active"in q&&n(22,I=q.active)},i.$$.update=()=>{2&i.$$.dirty[0]&&(n(12,t=s.sortConversationsBy),f(),f=it(t,q=>n(2,c=q))),2&i.$$.dirty[0]&&(n(11,o=s.currentConversationModel),g(),g=it(o,q=>n(23,a=q))),8388609&i.$$.dirty[0]&&n(10,r=!!a.id&&h.isConversationShareable(a.id)),7&i.$$.dirty[0]&&(q=>{var Xe;const Pe=new Map,Se=new Date(new Date().setHours(0,0,0,0)),Ye=[{age:Mn.Today,date:Se},{age:Mn.ThisWeek,date:new Date(Se.getTime()-6048e5)},{age:Mn.ThisMonth,date:new Date(Se.getTime()-2592e6)}];for(const Ge of q){const bt=vn.getTime(Ge,c);let Ce=((Xe=Ye.find(Qe=>bt>=Qe.date))==null?void 0:Xe.age)||Mn.Older;Ge.isPinned&&(Ce=Mn.Pinned),Pe.set(Ce,[...Pe.get(Ce)||[],Ge])}n(4,O=T.map(Ge=>({groupTitle:Ge,conversations:Pe.get(Ge)||[]})).filter(Ge=>Ge.conversations.length>0))})(s.orderedConversations(c).filter(q=>!!h.flags.enableAgentMode||!Tt(q)))},[h,s,c,_,O,ye,ge,le,Q,_e,r,o,t,[{label:"Last Message",value:"lastMessageTimestamp"},{label:"Created Date",value:"createdAt"}],function(q){B(!_),q.stopPropagation(),q.preventDefault()},z,fe,function(q){h.setCurrentConversation(q),z()},async function(q){try{ie=!0,await s.deleteConversation(q)}finally{ie=!1}},function(){ie||z()},be,k,I,a,q=>{Q&&q.composedPath().includes(Q)||z()},q=>{h.setSortConversationsBy(q),_e==null||_e.requestClose()},function(q){ft[q?"unshift":"push"](()=>{_e=q,n(9,_e)})},q=>{be(o.id),q.stopPropagation()},function(q){ft[q?"unshift":"push"](()=>{le=q,n(7,le)})},q=>{fe(),q.stopPropagation()},function(q){Q=q,n(8,Q)}]}class k5 extends oe{constructor(e){super(),re(this,e,A5,C5,ne,{chatModel:0,onActiveChanged:21,active:22},null,[-1,-1])}}function Ml(i){let e,n;return e=new bn({props:{color:i[3],size:1,$$slots:{icon:[S5],default:[E5]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};8&o&&(r.color=t[3]),2070&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function E5(i){let e,n,t=i[1]===on.inProgress?` ${i[2].progress}%`:"";return{c(){e=X(i[4]),n=X(t)},m(o,r){M(o,e,r),M(o,n,r)},p(o,r){16&r&&Te(e,o[4]),6&r&&t!==(t=o[1]===on.inProgress?` ${o[2].progress}%`:"")&&Te(n,t)},d(o){o&&(w(e),w(n))}}}function I5(i){let e,n,t;return n=new vu({}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-orientation-status--spin-icon svelte-1a8540p")},m(o,r){M(o,e,r),b(n,e,null),t=!0},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function T5(i){let e,n;return e=new ln({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function L5(i){let e,n;return e=new Yo({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function S5(i){let e,n,t,o;const r=[L5,T5,I5],s=[];function c(a,l){return a[1]===on.succeeded?0:a[1]===on.failed?1:2}return e=c(i),n=s[e]=r[e](i),{c(){n.c(),t=de()},m(a,l){s[e].m(a,l),M(a,t,l),o=!0},p(a,l){let u=e;e=c(a),e!==u&&(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),n=s[e],n||(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t))},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),s[e].d(a)}}}function R5(i){let e,n,t,o,r=i[0]&&Ml(i);return{c(){r&&r.c(),e=de()},m(s,c){r&&r.m(s,c),M(s,e,c),n=!0,t||(o=ke(window,"message",i[5].onMessageFromExtension),t=!0)},p(s,[c]){s[0]?r?(r.p(s,c),1&c&&d(r,1)):(r=Ml(s),r.c(),d(r,1),r.m(e.parentNode,e)):r&&(K(),p(r,1,1,()=>{r=null}),Z())},i(s){n||(d(r),n=!0)},o(s){p(r),n=!1},d(s){s&&w(e),r&&r.d(s),t=!1,o()}}}function P5(i,e,n){let t,o;const r=new Wr(an),s=vt({state:on.idle});Ze(i,s,g=>n(2,o=g));const c=en(s,g=>g.state);Ze(i,c,g=>n(1,t=g));const a={handleMessageFromExtension:g=>!(!g.data||g.data.type!==dt.orientationStatusUpdate)&&(s.set(g.data.data),!0)};let l,u;Qn(()=>{r.registerConsumer(a),an.postMessage({type:dt.getOrientationStatus})});let f=!1;return i.$$.update=()=>{var g;2&i.$$.dirty&&n(3,l=(g=t)===on.succeeded?"success":g===on.failed||g===on.aborted?"error":"warning"),6&i.$$.dirty&&n(4,u=function(h,k){return h===on.succeeded?"Orientation complete! Check out `.augment-guidelines` file.":h===on.failed?k.errorMessage?`Orientation failed: ${k.errorMessage}`:"Orientation failed":h===on.aborted?k.errorMessage?`Orientation aborted: ${k.errorMessage}`:"Orientation aborted":"Orienting to codebase and creating .augment-guidelines file ... "}(t,o)),3&i.$$.dirty&&(f?t!==on.succeeded&&t!==on.failed||setTimeout(()=>{n(0,f=!1)},3e3):t===on.inProgress&&n(0,f=!0))},[f,t,o,l,u,r,s,c]}class N5 extends oe{constructor(e){super(),re(this,e,P5,R5,ne,{})}}function Al(i){let e,n;return e=new bn({props:{color:"error",size:1,$$slots:{icon:[D5],default:[F5]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function F5(i){let e;return{c(){e=X("Syncing disabled")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function D5(i){let e,n;return e=new $f({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function O5(i){let e,n,t=i[1].syncEnabledState==="disabled"&&Al(i);return{c(){t&&t.c(),e=de()},m(o,r){t&&t.m(o,r),M(o,e,r),n=!0},p(o,[r]){o[1].syncEnabledState==="disabled"?t?2&r&&d(t,1):(t=Al(o),t.c(),d(t,1),t.m(e.parentNode,e)):t&&(K(),p(t,1,1,()=>{t=null}),Z())},i(o){n||(d(t),n=!0)},o(o){p(t),n=!1},d(o){o&&w(e),t&&t.d(o)}}}function B5(i,e,n){let t,o=N,r=()=>(o(),o=it(s,c=>n(1,t=c)),s);i.$$.on_destroy.push(()=>o());let{contextModel:s}=e;return r(),i.$$set=c=>{"contextModel"in c&&r(n(0,s=c.contextModel))},[s,t]}class z5 extends oe{constructor(e){super(),re(this,e,B5,O5,ne,{contextModel:0})}}function kl(i){let e,n;return e=new bn({props:{color:i[2],size:1,$$slots:{icon:[W5],default:[j5]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4&o&&(r.color=t[2]),89&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function j5(i){var o;let e,n,t=((o=i[0])==null?void 0:o.status)===jn.done?"":` ${i[4]}%`;return{c(){e=X(i[3]),n=X(t)},m(r,s){M(r,e,s),M(r,n,s)},p(r,s){var c;8&s&&Te(e,r[3]),17&s&&t!==(t=((c=r[0])==null?void 0:c.status)===jn.done?"":` ${r[4]}%`)&&Te(n,t)},d(r){r&&(w(e),w(n))}}}function H5(i){let e,n,t;return n=new vu({}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-sync-status--spin-icon svelte-18a88kw")},m(o,r){M(o,e,r),b(n,e,null),t=!0},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function U5(i){let e,n;return e=new Yo({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function W5(i){let e,n,t,o;const r=[U5,H5],s=[];function c(a,l){var u;return((u=a[0])==null?void 0:u.status)===jn.done?0:1}return e=c(i),n=s[e]=r[e](i),{c(){n.c(),t=de()},m(a,l){s[e].m(a,l),M(a,t,l),o=!0},p(a,l){let u=e;e=c(a),e!==u&&(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),n=s[e],n||(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t))},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),s[e].d(a)}}}function q5(i){let e,n,t=!isNaN(i[4])&&i[1],o=t&&kl(i);return{c(){o&&o.c(),e=de()},m(r,s){o&&o.m(r,s),M(r,e,s),n=!0},p(r,[s]){18&s&&(t=!isNaN(r[4])&&r[1]),t?o?(o.p(r,s),18&s&&d(o,1)):(o=kl(r),o.c(),d(o,1),o.m(e.parentNode,e)):o&&(K(),p(o,1,1,()=>{o=null}),Z())},i(r){n||(d(o),n=!0)},o(r){p(o),n=!1},d(r){r&&w(e),o&&o.d(r)}}}function G5(i,e,n){let t,o,r,s,{progress:c}=e;return i.$$set=a=>{"progress"in a&&n(0,c=a.progress)},i.$$.update=()=>{var a;1&i.$$.dirty&&n(4,t=!(a=c)||a.totalFiles<=0?NaN:a.status===jn.done?100:Math.floor(a.syncedCount/a.totalFiles*100)),1&i.$$.dirty&&n(2,s=(c==null?void 0:c.status)===jn.done?"success":"info"),1&i.$$.dirty&&n(3,o=(c==null?void 0:c.status)===jn.done?"Indexing complete.":"Indexing codebase..."),3&i.$$.dirty&&(r?(c==null?void 0:c.status)===jn.done&&setTimeout(()=>{n(1,r=!1)},3e3):c&&c.status!==jn.done&&(c.status===jn.longRunning||c.newlyTrackedFolders.length>0)&&n(1,r=!0))},n(1,r=!1),[c,r,s,o,t]}class V5 extends oe{constructor(e){super(),re(this,e,G5,q5,ne,{progress:0})}}function Y5(i){let e,n,t,o,r,s;return e=new z5({props:{contextModel:i[0]}}),t=new V5({props:{progress:i[1].syncProgress}}),r=new N5({}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment),o=U(),y(r.$$.fragment)},m(c,a){b(e,c,a),M(c,n,a),b(t,c,a),M(c,o,a),b(r,c,a),s=!0},p(c,[a]){const l={};1&a&&(l.contextModel=c[0]),e.$set(l);const u={};2&a&&(u.progress=c[1].syncProgress),t.$set(u)},i(c){s||(d(e.$$.fragment,c),d(t.$$.fragment,c),d(r.$$.fragment,c),s=!0)},o(c){p(e.$$.fragment,c),p(t.$$.fragment,c),p(r.$$.fragment,c),s=!1},d(c){c&&(w(n),w(o)),x(e,c),x(t,c),x(r,c)}}}function X5(i,e,n){let t,o=N,r=()=>(o(),o=it(s,c=>n(1,t=c)),s);i.$$.on_destroy.push(()=>o());let{contextModel:s}=e;return r(),i.$$set=c=>{"contextModel"in c&&r(n(0,s=c.contextModel))},[s,t]}class K5 extends oe{constructor(e){super(),re(this,e,X5,Y5,ne,{contextModel:0})}}function Z5(i){let e,n,t;return e=new Jn({props:{iconName:"play_arrow"}}),{c(){y(e.$$.fragment),n=X(`
    Feedback`)},m(o,r){b(e,o,r),M(o,n,r),t=!0},p:N,i(o){t||(d(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){o&&w(n),x(e,o)}}}function Q5(i){let e,n,t,o,r,s;function c(l){i[3](l)}let a={disabled:i[1],variant:"surface",size:2};return i[0]!==void 0&&(a.value=i[0]),n=new Gr({props:a}),ft.push(()=>Zt(n,"value",c)),n.$on("keydown",i[2]),r=new pt({props:{disabled:!i[0]||i[1],size:2,variant:"solid",color:"accent",$$slots:{default:[Z5]},$$scope:{ctx:i}}}),r.$on("click",i[4]),{c(){e=F("div"),y(n.$$.fragment),o=U(),y(r.$$.fragment),A(e,"class","simple-input-container svelte-16gfgo6")},m(l,u){M(l,e,u),b(n,e,null),H(e,o),b(r,e,null),s=!0},p(l,[u]){const f={};2&u&&(f.disabled=l[1]),!t&&1&u&&(t=!0,f.value=l[0],tn(()=>t=!1)),n.$set(f);const g={};3&u&&(g.disabled=!l[0]||l[1]),128&u&&(g.$$scope={dirty:u,ctx:l}),r.$set(g)},i(l){s||(d(n.$$.fragment,l),d(r.$$.fragment,l),s=!0)},o(l){p(n.$$.fragment,l),p(r.$$.fragment,l),s=!1},d(l){l&&w(e),x(n),x(r)}}}function J5(i,e,n){const t=qe("autofixConversationModel");if(!t)throw new Error("AutofixConversationModel not found in context");let o="",r=!1;async function s(c){if(c.shiftKey||c.ctrlKey||c.metaKey)return!1;if(c.stopPropagation(),c.key==="Enter"&&o.length>0){n(1,r=!0);try{await t.handleUserSteering(o)}finally{n(1,r=!1)}return n(0,o=""),!0}return c.key==="Escape"}return Qn(()=>{const c=document.querySelector("input");c&&(c.focus(),c.select())}),[o,r,s,function(c){o=c,n(0,o)},()=>s(new KeyboardEvent("keydown",{key:"Enter"}))]}class e6 extends oe{constructor(e){super(),re(this,e,J5,Q5,ne,{})}}function t6(i){let e;return{c(){e=X(`Agent Auto mode allows Augment to run commands automatically on your behalf without your
        explicit approval. Changes can be destructive -- proceed with caution.`)},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function n6(i){let e;return{c(){e=X("Accept")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function o6(i){let e;return{c(){e=X("Back to Manual Mode")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function r6(i){let e,n,t,o,r,s,c,a;return n=new Oe({props:{size:2,$$slots:{default:[t6]},$$scope:{ctx:i}}}),r=new pt({props:{size:1,variant:"solid",color:"accent",class:"c-agent-auto-mode-warning__button",$$slots:{default:[n6]},$$scope:{ctx:i}}}),r.$on("click",i[1]),c=new pt({props:{size:1,variant:"solid",color:"neutral",class:"c-agent-auto-mode-warning__button",$$slots:{default:[o6]},$$scope:{ctx:i}}}),c.$on("click",i[2]),{c(){e=F("div"),y(n.$$.fragment),t=U(),o=F("div"),y(r.$$.fragment),s=U(),y(c.$$.fragment),A(o,"class","c-agent-auto-mode-warning__buttons"),A(e,"class","c-agent-auto-mode-warning__content")},m(l,u){M(l,e,u),b(n,e,null),H(e,t),H(e,o),b(r,o,null),H(o,s),b(c,o,null),a=!0},p(l,u){const f={};8&u&&(f.$$scope={dirty:u,ctx:l}),n.$set(f);const g={};8&u&&(g.$$scope={dirty:u,ctx:l}),r.$set(g);const h={};8&u&&(h.$$scope={dirty:u,ctx:l}),c.$set(h)},i(l){a||(d(n.$$.fragment,l),d(r.$$.fragment,l),d(c.$$.fragment,l),a=!0)},o(l){p(n.$$.fragment,l),p(r.$$.fragment,l),p(c.$$.fragment,l),a=!1},d(l){l&&w(e),x(n),x(r),x(c)}}}function i6(i){let e,n;return e=new ln({props:{slot:"icon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function s6(i){let e,n,t;return n=new bn({props:{color:"warning",variant:"soft",size:1,$$slots:{icon:[i6],default:[r6]},$$scope:{ctx:i}}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-agent-auto-mode-warning svelte-ffctgo")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p(o,[r]){const s={};8&r&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function a6(i){const e=qe("agentConversationModel");return[e,()=>e.acceptAutoMode(),()=>e.rejectAutoMode()]}class c6 extends oe{constructor(e){super(),re(this,e,a6,s6,ne,{})}}function l6(i){let e,n,t=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 512 512"},i[0]],o={};for(let r=0;r<t.length;r+=1)o=Ee(o,t[r]);return{c(){e=Fe("svg"),n=new jt(!0),this.h()},l(r){e=Ht(r,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var s=Ut(e);n=Wt(s,!0),s.forEach(w),this.h()},h(){n.a=null,rt(e,o)},m(r,s){qt(r,e,s),n.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M208 416c0-26.5-21.5-48-48-48H64c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h384c8.8 0 16 7.2 16 16v288c0 8.8-7.2 16-16 16H309.3c-10.4 0-20.5 3.4-28.8 9.6L208 432zm-.2 76.2.2-.2 101.3-76H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5l17.1-12.8zM232 296c0 13.3 10.7 24 24 24s24-10.7 24-24v-64h64c13.3 0 24-10.7 24-24s-10.7-24-24-24h-64v-64c0-13.3-10.7-24-24-24s-24 10.7-24 24v64h-64c-13.3 0-24 10.7-24 24s10.7 24 24 24h64z"/>',e)},p(r,[s]){rt(e,o=wt(t,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 512 512"},1&s&&r[0]]))},i:N,o:N,d(r){r&&w(e)}}}function u6(i,e,n){return i.$$set=t=>{n(0,e=Ee(Ee({},e),et(t)))},[e=et(e)]}class d6 extends oe{constructor(e){super(),re(this,e,u6,l6,ne,{})}}function f6(i){let e;return{c(){e=X("Long threads can lead to worse results.")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function m6(i){let e,n;return e=new d6({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function p6(i){let e,n;return e=new At({props:{size:1,variant:"ghost",color:"neutral","data-testid":"new-thread-warning-button",$$slots:{default:[m6]},$$scope:{ctx:i}}}),e.$on("click",function(){yt(i[0])&&i[0].apply(this,arguments)}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){i=t;const r={};4&o&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function $6(i){let e,n;return e=new Vu({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function h6(i){let e,n;return e=new At({props:{size:1,variant:"ghost",color:"neutral","data-testid":"dismiss-thread-warning-button",$$slots:{default:[$6]},$$scope:{ctx:i}}}),e.$on("click",function(){yt(i[1])&&i[1].apply(this,arguments)}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){i=t;const r={};4&o&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function g6(i){let e,n,t,o,r,s,c,a;return n=new Oe({props:{size:1,$$slots:{default:[f6]},$$scope:{ctx:i}}}),r=new ht({props:{content:"New Thread",triggerOn:[Pt.Hover,Pt.Click],$$slots:{default:[p6]},$$scope:{ctx:i}}}),c=new ht({props:{content:"Dismiss",triggerOn:[Pt.Hover],$$slots:{default:[h6]},$$scope:{ctx:i}}}),{c(){e=F("div"),y(n.$$.fragment),t=U(),o=F("div"),y(r.$$.fragment),s=U(),y(c.$$.fragment),A(o,"class","l-thread-length-warning__right svelte-npaukb"),A(e,"class","l-thread-length-warning__content svelte-npaukb")},m(l,u){M(l,e,u),b(n,e,null),H(e,t),H(e,o),b(r,o,null),H(o,s),b(c,o,null),a=!0},p(l,[u]){const f={};4&u&&(f.$$scope={dirty:u,ctx:l}),n.$set(f);const g={};5&u&&(g.$$scope={dirty:u,ctx:l}),r.$set(g);const h={};6&u&&(h.$$scope={dirty:u,ctx:l}),c.$set(h)},i(l){a||(d(n.$$.fragment,l),d(r.$$.fragment,l),d(c.$$.fragment,l),a=!0)},o(l){p(n.$$.fragment,l),p(r.$$.fragment,l),p(c.$$.fragment,l),a=!1},d(l){l&&w(e),x(n),x(r),x(c)}}}function v6(i,e,n){let{onNewThreadClick:t}=e,{onDismiss:o}=e;return i.$$set=r=>{"onNewThreadClick"in r&&n(0,t=r.onNewThreadClick),"onDismiss"in r&&n(1,o=r.onDismiss)},[t,o]}class w6 extends oe{constructor(e){super(),re(this,e,v6,g6,ne,{onNewThreadClick:0,onDismiss:1})}}class y6{constructor(e,n,t,o){te(this,"_disposables",[]);te(this,"_chatHistoryCheckpoints");te(this,"_currentCheckpoint",vt({request_id:crypto.randomUUID(),uuid:crypto.randomUUID(),chatItemType:Ln.agenticCheckpointDelimiter,status:kt.draft,fromTimestamp:0,toTimestamp:Number.MAX_SAFE_INTEGER}));te(this,"checkpoints");te(this,"uuidToIdx");te(this,"_targetCheckpointIdx",vt(void 0));te(this,"targetCheckpoint");te(this,"isTargetCheckpointLatest");te(this,"totalCheckpointCount");te(this,"_targetCheckpointSummary",vt([]));te(this,"targetCheckpointSummary",yi(this._targetCheckpointSummary));te(this,"targetCheckpointHasChanges",en(this.targetCheckpointSummary,e=>e.some(n=>{var t,o;return(((t=n.changesSummary)==null?void 0:t.totalAddedLines)??!1)||(((o=n.changesSummary)==null?void 0:o.totalRemovedLines)??!1)})));te(this,"_doNothingOnAgentDisabled",e=>(...n)=>{this._flagsModel.enableAgentMode&&e(...n)});te(this,"_doNothingOnNotAgentConversation",e=>(...n)=>{if(this._flagsModel.enableAgentMode&&Tt(ot(this._conversationModel)))return e(...n)});te(this,"_refreshAgentEditsImmediate",async()=>{const e=this._targetCheckpoint;if(!e)return;const n=this._agentConversationModel?this._agentConversationModel.getBaselineTimestamp():0,t=await this.getCheckpointSummary({...e,fromTimestamp:n,toTimestamp:Number.MAX_SAFE_INTEGER});this._targetCheckpointSummary.set(t)});te(this,"_refreshAgentEdits",zu(this._refreshAgentEditsImmediate,500,{leading:!0,trailing:!0}));te(this,"_revertToTimestamp",this._doNothingOnNotAgentConversation(async e=>{await this._extensionClient.revertToTimestamp(e),this.createNewCheckpoint(),this._refreshAgentEdits()}));te(this,"maybeCreateOriginalCheckpoint",this._doNothingOnNotAgentConversation(()=>{ot(this.checkpoints).length===0&&this.createNewCheckpoint()}));te(this,"dispose",()=>{this._disposables.forEach(e=>e.dispose())});this._flagsModel=e,this._conversationModel=n,this._extensionClient=t,this._agentConversationModel=o,this._chatHistoryCheckpoints=en([this._conversationModel],([r],s)=>{var a,l,u,f;const c=r.chatHistory.filter(uu);(c==null?void 0:c.length)===((a=ot(this._chatHistoryCheckpoints))==null?void 0:a.length)&&((l=c==null?void 0:c.at(-1))==null?void 0:l.uuid)===((f=(u=ot(this._chatHistoryCheckpoints))==null?void 0:u.at(-1))==null?void 0:f.uuid)||(this._currentCheckpoint.update(g=>{var h;return{...g,fromTimestamp:((h=c.at(-1))==null?void 0:h.toTimestamp)??0,toTimestamp:Number.MAX_SAFE_INTEGER}}),s(c))}),this.checkpoints=en([this._chatHistoryCheckpoints,this._currentCheckpoint],([r,s])=>[...r,s].filter(c=>c.status!==kt.draft)),this.totalCheckpointCount=en(this.checkpoints,r=>r.length),this.uuidToIdx=en(this.checkpoints,r=>new Map(r.map((s,c)=>[s.uuid,c]))),this.targetCheckpoint=en([this.targetCheckpointIdx,this.checkpoints],([r,s])=>s.at(r??-1)),this.isTargetCheckpointLatest=en([this.targetCheckpointIdx,this.checkpoints],([r,s])=>r===s.length-1||r===void 0),[this._conversationModel.onSendExchange(this._doNothingOnNotAgentConversation(()=>{ot(this._currentCheckpoint).status===kt.draft&&this._currentCheckpoint.update(r=>({...r,status:kt.sent}))})),this.targetCheckpoint.subscribe(this._doNothingOnAgentDisabled(()=>{this._refreshAgentEdits()})),this.checkpoints.subscribe(this._doNothingOnAgentDisabled(()=>{ot(this.isTargetCheckpointLatest)&&this._refreshAgentEdits()})),this._conversationModel.onNewConversation(()=>{this.targetCheckpointIdx.set(void 0),this._targetCheckpointSummary.set([]),this._refreshAgentEdits()}),this._conversationModel.onSendExchange(this._doNothingOnAgentDisabled(()=>this.targetCheckpointIdx.set(void 0)))].forEach(r=>{this._disposables.push({dispose:r})})}registerAgentConversationModel(e){this._agentConversationModel=e}get targetCheckpointIdx(){return{subscribe:this._targetCheckpointIdx.subscribe,set:()=>this._targetCheckpointIdx.set(void 0),update:()=>this._targetCheckpointIdx.set(void 0)}}get currentCheckpoint(){return this._currentCheckpoint}get _checkpoints(){return ot(this.checkpoints)}get _targetCheckpoint(){return ot(this.targetCheckpoint)}getCheckpointIdxForTimestamp(e){return this._checkpoints.findIndex(n=>n.fromTimestamp<=e&&n.toTimestamp>=e)}getCheckpointAtIdx(e){return this._checkpoints.at(e)}createNewCheckpoint(e={}){const n=ot(this._currentCheckpoint),t=Date.now(),o={...n,status:kt.success,toTimestamp:t,...e};this._currentCheckpoint.set({request_id:crypto.randomUUID(),uuid:crypto.randomUUID(),chatItemType:Ln.agenticCheckpointDelimiter,status:kt.draft,fromTimestamp:t,toTimestamp:Number.MAX_SAFE_INTEGER}),this._conversationModel.addChatItem(o)}async getCheckpointSummary(e){return(await this._extensionClient.getAgentEditList(e.fromTimestamp,e.toTimestamp)).edits}async getCheckpointIdxSummary(e){const n=this._checkpoints.at(e);return n?this.getCheckpointSummary(n):[]}async revertToCheckpoint(e){const n=ot(this.uuidToIdx).get(e);if(n===void 0)return!1;const t=this._checkpoints.at(n);if(!t)return!1;const o=ot(this._conversationModel).id,r=await this._extensionClient.revertToTimestamp(t.toTimestamp);return(r||ot(this._conversationModel).id===o)&&this.createNewCheckpoint({revertTarget:{uuid:e}}),r}async revertDocumentToTimestamp(e,n){const t=ot(this._conversationModel).id,o=await this._extensionClient.revertToTimestamp(n,[e]);return o&&ot(this._conversationModel).id===t&&this.createNewCheckpoint({revertTarget:{filePath:e}}),o}async acceptAll(){const e=this._checkpoints.at(-1);if(e){const n=e.toTimestamp;return Tt(ot(this._conversationModel))&&this._agentConversationModel&&this._agentConversationModel.updateBaselineTimestamp(n),await this._extensionClient.acceptAllAgentEdits(),this._refreshAgentEdits(),!0}return!1}async rejectAll(){var n;const e=await this._extensionClient.openConfirmationModal({title:"Discard All Changes",message:"Are you sure you want to discard all changes? This will apply to all changes whether made by the agent or yourself.",confirmButtonText:"Discard",cancelButtonText:"Cancel"});if(e){const t=((n=this._agentConversationModel)==null?void 0:n.getBaselineTimestamp())??0;Tt(ot(this._conversationModel))&&this._agentConversationModel&&this._agentConversationModel.updateBaselineTimestamp(t),await this._revertToTimestamp(t),this._refreshAgentEdits()}return e}handleMessageFromExtension(e){switch(e.data.type){case dt.chatAgentEditListHasUpdates:this._refreshAgentEdits();break;case dt.chatMemoryHasUpdates:Xu.notifyMemoryUpdated()}return!0}async updateBaselineTimestamp(e){Tt(ot(this._conversationModel))&&this._agentConversationModel&&(this._agentConversationModel.updateBaselineTimestamp(e),this._refreshAgentEdits())}}function El(i){let e,n,t,o,r,s,c,a,l,u,f,g,h;r=new Oe({props:{size:1,weight:"medium",truncate:!0,$$slots:{default:[b6]},$$scope:{ctx:i}}}),c=new Ui({props:{totalAddedLines:i[7],totalRemovedLines:i[6]}}),l=new xf({});let k=i[0]&&Il(i);return{c(){e=F("div"),n=F("div"),t=F("div"),o=F("div"),y(r.$$.fragment),s=U(),y(c.$$.fragment),a=U(),y(l.$$.fragment),u=U(),k&&k.c(),A(o,"class","file-changes-info__text svelte-1j09i4t"),A(t,"class","file-changes-info svelte-1j09i4t"),A(t,"role","button"),A(t,"tabindex","0"),Ne(t,"active",i[2].isDiffPanelOpen),A(n,"class","file-changes-header svelte-1j09i4t"),A(e,"class","file-changes-summary svelte-1j09i4t"),Ne(e,"file-changes-summary--has-actions",i[0])},m(I,_){M(I,e,_),H(e,n),H(n,t),H(t,o),b(r,o,null),H(o,s),b(c,o,null),H(t,a),b(l,t,null),H(e,u),k&&k.m(e,null),f=!0,g||(h=[ke(t,"click",i[11]),ke(t,"keydown",i[13])],g=!0)},p(I,_){const T={};32770&_&&(T.$$scope={dirty:_,ctx:I}),r.$set(T);const O={};128&_&&(O.totalAddedLines=I[7]),64&_&&(O.totalRemovedLines=I[6]),c.$set(O),(!f||4&_)&&Ne(t,"active",I[2].isDiffPanelOpen),I[0]?k?(k.p(I,_),1&_&&d(k,1)):(k=Il(I),k.c(),d(k,1),k.m(e,null)):k&&(K(),p(k,1,1,()=>{k=null}),Z()),(!f||1&_)&&Ne(e,"file-changes-summary--has-actions",I[0])},i(I){f||(d(r.$$.fragment,I),d(c.$$.fragment,I),d(l.$$.fragment,I),d(k),f=!0)},o(I){p(r.$$.fragment,I),p(c.$$.fragment,I),p(l.$$.fragment,I),p(k),f=!1},d(I){I&&w(e),x(r),x(c),x(l),k&&k.d(),g=!1,Nt(h)}}}function b6(i){let e,n,t,o,r=i[1]===1?"":"s";return{c(){e=X(i[1]),n=X(" file"),t=X(r),o=X(" changed")},m(s,c){M(s,e,c),M(s,n,c),M(s,t,c),M(s,o,c)},p(s,c){2&c&&Te(e,s[1]),2&c&&r!==(r=s[1]===1?"":"s")&&Te(t,r)},d(s){s&&(w(e),w(n),w(t),w(o))}}}function Il(i){let e,n,t,o,r;return n=new pt({props:{variant:"ghost",color:"neutral",size:1,disabled:i[4],$$slots:{default:[C6]},$$scope:{ctx:i}}}),n.$on("click",i[9]),o=new pt({props:{variant:"ghost",color:"neutral",size:1,disabled:i[3],$$slots:{default:[k6]},$$scope:{ctx:i}}}),o.$on("click",i[10]),{c(){e=F("div"),y(n.$$.fragment),t=U(),y(o.$$.fragment),A(e,"class","file-changes-actions svelte-1j09i4t")},m(s,c){M(s,e,c),b(n,e,null),H(e,t),b(o,e,null),r=!0},p(s,c){const a={};16&c&&(a.disabled=s[4]),32784&c&&(a.$$scope={dirty:c,ctx:s}),n.$set(a);const l={};8&c&&(l.disabled=s[3]),32776&c&&(l.$$scope={dirty:c,ctx:s}),o.$set(l)},i(s){r||(d(n.$$.fragment,s),d(o.$$.fragment,s),r=!0)},o(s){p(n.$$.fragment,s),p(o.$$.fragment,s),r=!1},d(s){s&&w(e),x(n),x(o)}}}function x6(i){let e;return{c(){e=X("Create PR")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function _6(i){let e;return{c(){e=X("Creating PR...")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function C6(i){let e;function n(r,s){return r[4]?_6:x6}let t=n(i),o=t(i);return{c(){o.c(),e=de()},m(r,s){o.m(r,s),M(r,e,s)},p(r,s){t!==(t=n(r))&&(o.d(1),o=t(r),o&&(o.c(),o.m(e.parentNode,e)))},d(r){r&&w(e),o.d(r)}}}function M6(i){let e;return{c(){e=X("Apply locally")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function A6(i){let e;return{c(){e=X("Applied")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function k6(i){let e;function n(r,s){return r[3]?A6:M6}let t=n(i),o=t(i);return{c(){o.c(),e=de()},m(r,s){o.m(r,s),M(r,e,s)},p(r,s){t!==(t=n(r))&&(o.d(1),o=t(r),o&&(o.c(),o.m(e.parentNode,e)))},d(r){r&&w(e),o.d(r)}}}function E6(i){let e,n,t=i[5]&&El(i);return{c(){t&&t.c(),e=de()},m(o,r){t&&t.m(o,r),M(o,e,r),n=!0},p(o,[r]){o[5]?t?(t.p(o,r),32&r&&d(t,1)):(t=El(o),t.c(),d(t,1),t.m(e.parentNode,e)):t&&(K(),p(t,1,1,()=>{t=null}),Z())},i(o){n||(d(t),n=!0)},o(o){p(t),n=!1},d(o){o&&w(e),t&&t.d(o)}}}function I6(i,e,n){let t,o,r,s,c,a,{hasActions:l=!0}=e;const u=qe(uo.key);Ze(i,u,I=>n(2,a=I));const f=qe(xi.key);let g=!1,h=!1;function k(){var T,O,B;if(a.isDiffPanelOpen)return void a.closeRemoteAgentDiffPanel();let I=[],_="";I=$i(((T=a.currentConversation)==null?void 0:T.exchanges)??[]),_=hf(((O=a.currentConversation)==null?void 0:O.exchanges)??[],1),a.showRemoteAgentDiffPanel({turnIdx:-1,changedFiles:I,userPrompt:_,sessionSummary:((B=a.currentAgent)==null?void 0:B.session_summary)??"",isShowingAggregateChanges:!0})}return i.$$set=I=>{"hasActions"in I&&n(0,l=I.hasActions)},i.$$.update=()=>{var I;4&i.$$.dirty&&n(12,t=$i(((I=a.currentConversation)==null?void 0:I.exchanges)??[])),4096&i.$$.dirty&&n(1,o=t.length),4096&i.$$.dirty&&n(7,r=t.reduce((_,T)=>{var B,z;const O=((B=T.new_contents)==null?void 0:B.split(`
`).length)-(((z=T.old_contents)==null?void 0:z.split(`
`).length)||0);return _+(O>0?O:0)},0)),4096&i.$$.dirty&&n(6,s=t.reduce((_,T)=>{var B,z;const O=((B=T.old_contents)==null?void 0:B.split(`
`).length)-(((z=T.new_contents)==null?void 0:z.split(`
`).length)||0);return _+(O>0?O:0)},0)),2&i.$$.dirty&&n(5,c=o>0)},[l,o,a,g,h,c,s,r,u,function(){var I;(I=a.currentAgent)!=null&&I.remote_agent_id?(n(4,h=!0),a.sendMessage("Please create a pull request with the changes you've made.").then(()=>{n(4,h=!1)}).catch(_=>{console.error("Error sending PR creation request:",_),n(4,h=!1)})):console.error("No current agent ID found")},function(){var _;let I=[];I=$i(((_=a.currentConversation)==null?void 0:_.exchanges)??[]),function(T,O){T.length&&O&&T.forEach(B=>{O(B.path,B.originalCode,B.newCode)})}(I.map(T=>({path:T.new_path||T.old_path,originalCode:T.old_contents||"",newCode:T.new_contents||""})).filter(T=>T.path&&T.newCode),(T,O,B)=>{f.applyChanges(T,O,B)}),n(3,g=!0)},k,t,I=>I.key==="Enter"&&k()]}class T6 extends oe{constructor(e){super(),re(this,e,I6,E6,ne,{hasActions:0})}}function Tl(i){let e,n,t,o,r,s,c,a;function l(h,k){return h[0]?S6:L6}let u=l(i),f=u(i),g=i[5]&&Ll(i);return c=new T6({props:{hasActions:!i[6]}}),{c(){e=F("div"),n=F("div"),f.c(),t=U(),o=F("div"),g&&g.c(),r=U(),s=F("div"),y(c.$$.fragment),A(o,"class","c-agent-header__actions svelte-z1wx5a"),A(n,"class","c-agent-header-banner svelte-z1wx5a"),A(s,"class","c-agent-header-status svelte-z1wx5a"),A(e,"class","c-agent-header svelte-z1wx5a")},m(h,k){M(h,e,k),H(e,n),f.m(n,null),H(n,t),H(n,o),g&&g.m(o,null),H(e,r),H(e,s),b(c,s,null),a=!0},p(h,k){u!==(u=l(h))&&(f.d(1),f=u(h),f&&(f.c(),f.m(n,t))),h[5]?g?(g.p(h,k),32&k&&d(g,1)):(g=Ll(h),g.c(),d(g,1),g.m(o,null)):g&&(K(),p(g,1,1,()=>{g=null}),Z());const I={};64&k&&(I.hasActions=!h[6]),c.$set(I)},i(h){a||(d(g),d(c.$$.fragment,h),a=!0)},o(h){p(g),p(c.$$.fragment,h),a=!1},d(h){h&&w(e),f.d(),g&&g.d(),x(c)}}}function L6(i){let e;return{c(){e=F("span"),e.textContent="Running locally"},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function S6(i){let e;return{c(){e=F("span"),e.textContent="Running in the cloud"},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function Ll(i){var r,s,c;let e,n,t,o=(((r=i[2])==null?void 0:r.status)===wn.agentRunning||((s=i[2])==null?void 0:s.status)===wn.agentIdle)&&Sl(i);return n=new Ou({props:{agentId:i[5],selectedBranch:i[4]?"...":(c=i[3])==null?void 0:c.name}}),{c(){o&&o.c(),e=U(),y(n.$$.fragment)},m(a,l){o&&o.m(a,l),M(a,e,l),b(n,a,l),t=!0},p(a,l){var f,g,h;((f=a[2])==null?void 0:f.status)===wn.agentRunning||((g=a[2])==null?void 0:g.status)===wn.agentIdle?o?(o.p(a,l),4&l&&d(o,1)):(o=Sl(a),o.c(),d(o,1),o.m(e.parentNode,e)):o&&(K(),p(o,1,1,()=>{o=null}),Z());const u={};32&l&&(u.agentId=a[5]),24&l&&(u.selectedBranch=a[4]?"...":(h=a[3])==null?void 0:h.name),n.$set(u)},i(a){t||(d(o),d(n.$$.fragment,a),t=!0)},o(a){p(o),p(n.$$.fragment,a),t=!1},d(a){a&&w(e),o&&o.d(a),x(n,a)}}}function Sl(i){let e,n;return e=new pt({props:{size:1,variant:"ghost-block",color:"neutral",title:"SSH into the remote agent's workspace in a new VSCode window",class:"c-agent-header__open-btn",$$slots:{iconRight:[P6],default:[R6]},$$scope:{ctx:i}}}),e.$on("click",i[13]),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};131072&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function R6(i){let e;return{c(){e=F("span"),e.innerHTML='<span class="c-open-button-text__full svelte-z1wx5a">Open in new window</span> <span class="c-open-button-text__short svelte-z1wx5a">Open</span>',A(e,"class","c-open-button-text svelte-z1wx5a")},m(n,t){M(n,e,t)},p:N,d(n){n&&w(e)}}}function P6(i){let e,n;return e=new du({props:{slot:"iconRight"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function N6(i){let e,n,t,o;lo(i[12]);let r=i[0]&&i[2]&&Tl(i);return{c(){r&&r.c(),e=de()},m(s,c){r&&r.m(s,c),M(s,e,c),n=!0,t||(o=ke(window,"resize",i[12]),t=!0)},p(s,[c]){s[0]&&s[2]?r?(r.p(s,c),5&c&&d(r,1)):(r=Tl(s),r.c(),d(r,1),r.m(e.parentNode,e)):r&&(K(),p(r,1,1,()=>{r=null}),Z())},i(s){n||(d(r),n=!0)},o(s){p(r),n=!1},d(s){s&&w(e),r&&r.d(s),t=!1,o()}}}function F6(i,e,n){let t,o,r,s,c,{isRemote:a=!0}=e,l=0;const u=qe(uo.key);Ze(i,u,T=>n(11,c=T));const f=qe(Mo.key);let g,h,k=[],I=!1;async function _(T){if(!T)return;const O=u.agentOverviews.find(B=>B.remote_agent_id===T);O&&await u.sshToRemoteAgent(O)}return Qn(async()=>{await async function(){if(f){n(4,I=!0);try{const T=await f.listBranches();if(n(9,k=T.branches.filter(O=>O.isRemote)),g=T.branches.find(O=>O.isCurrentBranch),s){const O=k.find(B=>B.name===s||B.name===`origin/${s}`||s===`origin/${B.name}`);n(3,h=O||g)}else n(3,h=g)}catch(T){console.error("Failed to fetch branches:",T)}finally{n(4,I=!1)}}}()}),i.$$set=T=>{"isRemote"in T&&n(0,a=T.isRemote)},i.$$.update=()=>{var T,O,B;if(2&i.$$.dirty&&n(6,t=l<700),2048&i.$$.dirty&&n(2,o=c==null?void 0:c.currentAgent),4&i.$$.dirty&&n(5,r=o==null?void 0:o.remote_agent_id),4&i.$$.dirty&&n(10,s=(B=(O=(T=o==null?void 0:o.workspace_setup)==null?void 0:T.starting_files)==null?void 0:O.github_commit_ref)==null?void 0:B.git_ref),1536&i.$$.dirty&&s&&k.length>0){const z=k.find(fe=>fe.name===s||fe.name===`origin/${s}`||s===`origin/${fe.name}`);z&&n(3,h=z)}},[a,l,o,h,I,r,t,u,_,k,s,c,function(){n(1,l=window.innerHeight)},()=>_(r)]}class D6 extends oe{constructor(e){super(),re(this,e,F6,N6,ne,{isRemote:0})}}function O6(i){let e,n;return e=new k5({props:{chatModel:i[20]}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function B6(i){let e,n;return e=new f1({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Rl(i){let e,n;return e=new D6({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function z6(i){let e,n,t,o,r;const s=[B6,O6],c=[];function a(u,f){return u[5].isActive&&u[16].fullFeatured?0:u[16].fullFeatured&&!u[1].doHideThreadSelector?1:-1}~(n=a(i))&&(t=c[n]=s[n](i));let l=i[4]&&i[5].isActive&&Rl();return{c(){e=F("div"),t&&t.c(),o=U(),l&&l.c(),A(e,"class","l-chat-top-bars svelte-179efe3")},m(u,f){M(u,e,f),~n&&c[n].m(e,null),H(e,o),l&&l.m(e,null),r=!0},p(u,f){let g=n;n=a(u),n===g?~n&&c[n].p(u,f):(t&&(K(),p(c[g],1,1,()=>{c[g]=null}),Z()),~n?(t=c[n],t?t.p(u,f):(t=c[n]=s[n](u),t.c()),d(t,1),t.m(e,o)):t=null),u[4]&&u[5].isActive?l?48&f[0]&&d(l,1):(l=Rl(),l.c(),d(l,1),l.m(e,null)):l&&(K(),p(l,1,1,()=>{l=null}),Z())},i(u){r||(d(t),d(l),r=!0)},o(u){p(t),p(l),r=!1},d(u){u&&w(e),~n&&c[n].d(),l&&l.d()}}}function j6(i){let e,n;return e=new T3({props:{chatModel:i[20],onboardingWorkspaceModel:i[24],remoteAgentsModel:i[23],slot:"message-area"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Pl(i){let e,n,t,o,r;e=new K5({props:{contextModel:i[18]}});let s=i[16].enableAgentMode&&Nl(i),c=i[11]&&Dl(i);return{c(){y(e.$$.fragment),n=U(),s&&s.c(),t=U(),c&&c.c(),o=de()},m(a,l){b(e,a,l),M(a,n,l),s&&s.m(a,l),M(a,t,l),c&&c.m(a,l),M(a,o,l),r=!0},p(a,l){a[16].enableAgentMode?s?(s.p(a,l),65536&l[0]&&d(s,1)):(s=Nl(a),s.c(),d(s,1),s.m(t.parentNode,t)):s&&(K(),p(s,1,1,()=>{s=null}),Z()),a[11]?c?(c.p(a,l),2048&l[0]&&d(c,1)):(c=Dl(a),c.c(),d(c,1),c.m(o.parentNode,o)):c&&(K(),p(c,1,1,()=>{c=null}),Z())},i(a){r||(d(e.$$.fragment,a),d(s),d(c),r=!0)},o(a){p(e.$$.fragment,a),p(s),p(c),r=!1},d(a){a&&(w(n),w(t),w(o)),x(e,a),s&&s.d(a),c&&c.d(a)}}}function Nl(i){let e,n,t,o,r,s=i[10]&&Fl();const c=[U6,H6],a=[];function l(u,f){return u[15]?0:1}return n=l(i),t=a[n]=c[n](i),{c(){s&&s.c(),e=U(),t.c(),o=de()},m(u,f){s&&s.m(u,f),M(u,e,f),a[n].m(u,f),M(u,o,f),r=!0},p(u,f){u[10]?s?1024&f[0]&&d(s,1):(s=Fl(),s.c(),d(s,1),s.m(e.parentNode,e)):s&&(K(),p(s,1,1,()=>{s=null}),Z());let g=n;n=l(u),n!==g&&(K(),p(a[g],1,1,()=>{a[g]=null}),Z(),t=a[n],t||(t=a[n]=c[n](u),t.c()),d(t,1),t.m(o.parentNode,o))},i(u){r||(d(s),d(t),r=!0)},o(u){p(s),p(t),r=!1},d(u){u&&(w(e),w(o)),s&&s.d(u),a[n].d(u)}}}function Fl(i){let e,n;return e=new xp({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function H6(i){let e,n;return e=new x$({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function U6(i){let e,n;return e=new c6({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Dl(i){let e,n;return e=new K1({props:{card:i[3].currentCard,flagsModel:i[16]}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};8&o[0]&&(r.card=t[3].currentCard),65536&o[0]&&(r.flagsModel=t[16]),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function W6(i){let e,n,t=i[14]&&Pl(i);return{c(){e=F("div"),t&&t.c(),A(e,"slot","actions-area"),A(e,"class","l-chat-actions-area svelte-179efe3")},m(o,r){M(o,e,r),t&&t.m(e,null),n=!0},p(o,r){o[14]?t?(t.p(o,r),16384&r[0]&&d(t,1)):(t=Pl(o),t.c(),d(t,1),t.m(e,null)):t&&(K(),p(t,1,1,()=>{t=null}),Z())},i(o){n||(d(t),n=!0)},o(o){p(t),n=!1},d(o){o&&w(e),t&&t.d()}}}function q6(i){let e,n,t,o,r,s;function c(l){i[34](l)}let a={};return i[7]!==void 0&&(a.inputArea=i[7]),e=new R3({props:a}),ft.push(()=>Zt(e,"inputArea",c)),r=new Dw({props:{editable:!i[15],placeholder:i[12],$$slots:{banner:[Y6]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),t=U(),o=F("div"),y(r.$$.fragment),A(o,"class","l-input-area-design-system svelte-179efe3")},m(l,u){b(e,l,u),M(l,t,u),M(l,o,u),b(r,o,null),i[37](o),s=!0},p(l,u){const f={};!n&&128&u[0]&&(n=!0,f.inputArea=l[7],tn(()=>n=!1)),e.$set(f);const g={};32768&u[0]&&(g.editable=!l[15]),4096&u[0]&&(g.placeholder=l[12]),257&u[0]|131072&u[1]&&(g.$$scope={dirty:u,ctx:l}),r.$set(g)},i(l){s||(d(e.$$.fragment,l),d(r.$$.fragment,l),s=!0)},o(l){p(e.$$.fragment,l),p(r.$$.fragment,l),s=!1},d(l){l&&(w(t),w(o)),x(e,l),x(r),i[37](null)}}}function G6(i){let e,n;return e=new Fu({props:{borders:["top"],style:"padding-top: 0;",overflowVisible:!0,$$slots:{default:[X6]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};131072&o[1]&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function V6(i){let e,n;return e=new Fu({props:{borders:["top"],style:"padding-top: 0;",overflowVisible:!0,$$slots:{default:[K6]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};131072&o[1]&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Ol(i){let e,n;return e=new w6({props:{onNewThreadClick:i[35],onDismiss:i[36]}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o[0]&&(r.onDismiss=t[36]),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Y6(i){let e,n,t=i[8]&&Ol(i);return{c(){t&&t.c(),e=de()},m(o,r){t&&t.m(o,r),M(o,e,r),n=!0},p(o,r){o[8]?t?(t.p(o,r),256&r[0]&&d(t,1)):(t=Ol(o),t.c(),d(t,1),t.m(e.parentNode,e)):t&&(K(),p(t,1,1,()=>{t=null}),Z())},i(o){n||(d(t),n=!0)},o(o){p(t),n=!1},d(o){o&&w(e),t&&t.d(o)}}}function X6(i){let e,n;return e=new e6({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function K6(i){let e,n;return e=new Xw({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Z6(i){let e,n,t,o;const r=[V6,G6,q6],s=[];function c(a,l){return a[13]===Wo.autofixCommand?0:a[13]===Wo.autofixPrompt?1:2}return e=c(i),n=s[e]=r[e](i),{c(){n.c(),t=de()},m(a,l){s[e].m(a,l),M(a,t,l),o=!0},p(a,l){let u=e;e=c(a),e===u?s[e].p(a,l):(K(),p(s[u],1,1,()=>{s[u]=null}),Z(),n=s[e],n?n.p(a,l):(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t))},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),s[e].d(a)}}}function Q6(i){let e,n,t,o;return e=new Ww({props:{$$slots:{"input-area":[Z6],"actions-area":[W6],"message-area":[j6],"floating-area":[z6]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(r,s){b(e,r,s),n=!0,t||(o=[ke(window,"message",i[17].onMessageFromExtension),ke(window,"beforeunload",i[32]),ke(window,"keydown",i[33])],t=!0)},p(r,s){const c={};130491&s[0]|131072&s[1]&&(c.$$scope={dirty:s,ctx:r}),e.$set(c)},i(r){n||(d(e.$$.fragment,r),n=!0)},o(r){p(e.$$.fragment,r),n=!1},d(r){x(e,r),t=!1,Nt(o)}}}function J6(i,e,n){let t,o,r,s,c,a,l,u,f,g,h,k,I,_,T,O,B,z=N,fe=N,ye=()=>(fe(),fe=it(C,ee=>n(31,T=ee)),C);i.$$.on_destroy.push(()=>z()),i.$$.on_destroy.push(()=>fe());let{initialConversation:ie}=e,{initialFlags:le}=e;const Q=new Wr(an);let _e=new gf;Q.registerConsumer(_e);let ge,be=new vm;Ze(i,be,ee=>n(3,h=ee)),Q.registerConsumer(be);let q=new vf(Q,an,_e,{initialConversation:ie,initialFlags:le,onLoaded:()=>{if(q.flags.enableAgentMode){const ee=h.actions.some(Re=>Re===Mt.workspaceNotPopulated),ue=Object.keys(q.conversations).length<=1&&vn.isEmpty(q.currentConversationModel);ee&&ue&&ge.setToAgentic()}else ge.setToChat()}});Ze(i,q,ee=>n(2,g=ee));let Pe=new Ei(q.currentConversationModel,q.extensionClient,q);const Se=new y6(q.flags,q.currentConversationModel,q.extensionClient);Q.registerConsumer(Se),Q.registerConsumer(q);const Ye=new qw(q.currentConversationModel,q.extensionClient);Ze(i,Ye,ee=>n(30,_=ee)),Q.registerConsumer(Ye),ge=new hp(q,Pe,Se);const{showAutoModeWarning:Xe}=ge;Ze(i,Xe,ee=>n(15,O=ee));const Ge=new uo(Q,!1,q.flags);Ze(i,Ge,ee=>n(5,I=ee));const bt=new Mo(Q),Ce=new xi(Q);Q.registerConsumer(Ge),Q.registerConsumer(Ce),Cn(uo.key,Ge),Cn(Mo.key,bt),Cn(xi.key,Ce);const Qe=vt(-1);Cn(wf,Qe);const Lt=new Or(q,ge,Ge);Q.registerConsumer(Lt),Cn(Or.key,Lt);const $t=new Mv(q,ge);Q.registerConsumer($t);const Vt=new wm(q,q.flags);Q.registerConsumer(Vt),yf(q),Cn("autofixConversationModel",Ye),Cn("agentConversationModel",ge),Cn("toolsWebviewModel",Pe),Cn("checkpointStore",Se),Cn("slashCommandModel",$t);const P=qe(Nr);let C;P?ye(C=P):(ye(C=vt(Fr)),Cn(Nr,C));const S=g.flags;Ze(i,S,ee=>n(16,B=ee));const{isCurrConversationAgentic:j}=ge;Ze(i,j,ee=>n(4,k=ee));let V,se=!1;return Q.registerConsumer(new class{constructor(ee){this._agentConversationModel=ee}handleMessageFromExtension(ee){return ee.data.type===dt.resetAgentOnboarding&&(this._agentConversationModel.resetOnboarding(),!0)}}(ge)),Qn(()=>{const ee=[Pe.dispose,Ge.dispose];return()=>{ee.forEach(ue=>ue())}}),i.$$set=ee=>{"initialConversation"in ee&&n(27,ie=ee.initialConversation),"initialFlags"in ee&&n(28,le=ee.initialFlags)},i.$$.update=()=>{1&i.$$.dirty[1]&&n(1,t=T),1073741826&i.$$.dirty[0]&&n(14,o=!_.isAutofixConversation()&&!t.doHideStatusBars),1073741824&i.$$.dirty[0]&&n(13,r=_.isAutofixConversation()?_.shouldShowAutofixCommandInput()?Wo.autofixCommand:Wo.autofixPrompt:Wo.normal),48&i.$$.dirty[0]&&n(12,s=I.isActive?"Ask Remote Agent (Beta)":k?"Ask or instruct Augment Agent":"Ask or instruct Augment"),8&i.$$.dirty[0]&&n(11,c=h.actions.length>0),8&i.$$.dirty[0]&&n(10,a=h.actions.includes(Mt.allActionsComplete)),4&i.$$.dirty[0]&&(n(9,l=g.currentConversationModel.totalCharactersStore),z(),z=it(l,ee=>n(29,f=ee))),536870913&i.$$.dirty[0]&&n(8,u=!se&&f>6e5)},[se,t,g,h,k,I,C,V,u,l,a,c,s,r,o,O,B,Q,_e,be,q,Ye,Xe,Ge,Vt,S,j,ie,le,f,_,T,()=>{g.saveImmediate()},ee=>function(ue,Re,We){var Le,xt;!ue.ctrlKey&&!ue.metaKey||ue.key!=="l"||ue.shiftKey||(We.isActive?We.setCurrentAgent(void 0):(Re.setCurrentConversation(),Re.extensionClient.reportWebviewClientEvent(co.chatNewConversation)),ue.preventDefault()),Re.flags.enableDebugFeatures&&!We.isActive&&((ue.ctrlKey||ue.metaKey)&&ue.shiftKey&&ue.key==="l"&&(Re.popCurrentConversation(),ue.preventDefault()),ue.altKey&&ue.code==="BracketRight"&&(Re.setCurrentConversation((Le=Re.nextConversation)==null?void 0:Le.id,!1),ue.preventDefault()),ue.altKey&&ue.code==="BracketLeft"&&(Re.setCurrentConversation((xt=Re.previousConversation)==null?void 0:xt.id,!1),ue.preventDefault()),(ue.ctrlKey||ue.metaKey)&&ue.key==="]"&&(Re.currentConversationModel.focusModel.focusNext(),ue.preventDefault()),(ue.ctrlKey||ue.metaKey)&&ue.key==="["&&(Re.currentConversationModel.focusModel.focusPrev(),ue.preventDefault()),ue.key==="Escape"&&(Re.currentConversationModel.focusModel.setFocusIdx(void 0),ue.preventDefault()))}(ee,q,Ge),function(ee){V=ee,n(7,V)},()=>q.setCurrentConversation(),()=>n(0,se=!0),function(ee){ft[ee?"unshift":"push"](()=>{V=ee,n(7,V)})}]}class eb extends oe{constructor(e){super(),re(this,e,J6,Q6,ne,{initialConversation:27,initialFlags:28},null,[-1,-1])}}function Bl(i){let e,n,t,o,r,s,c,a;n=new Oe({props:{size:1,$$slots:{default:[tb]},$$scope:{ctx:i}}}),o=new Oe({props:{size:1,$$slots:{default:[nb]},$$scope:{ctx:i}}}),s=new Oe({props:{size:1,$$slots:{default:[ob]},$$scope:{ctx:i}}});let l=i[0]!=="intellij"&&jl(i);return{c(){e=F("div"),y(n.$$.fragment),t=U(),y(o.$$.fragment),r=U(),y(s.$$.fragment),c=U(),l&&l.c(),A(e,"class","c-augment-features svelte-1jb2nyh")},m(u,f){M(u,e,f),b(n,e,null),H(e,t),b(o,e,null),H(e,r),b(s,e,null),H(e,c),l&&l.m(e,null),a=!0},p(u,f){const g={};2&f&&(g.$$scope={dirty:f,ctx:u}),n.$set(g);const h={};2&f&&(h.$$scope={dirty:f,ctx:u}),o.$set(h);const k={};3&f&&(k.$$scope={dirty:f,ctx:u}),s.$set(k),u[0]!=="intellij"?l?1&f&&d(l,1):(l=jl(u),l.c(),d(l,1),l.m(e,null)):l&&(K(),p(l,1,1,()=>{l=null}),Z())},i(u){a||(d(n.$$.fragment,u),d(o.$$.fragment,u),d(s.$$.fragment,u),d(l),a=!0)},o(u){p(n.$$.fragment,u),p(o.$$.fragment,u),p(s.$$.fragment,u),p(l),a=!1},d(u){u&&w(e),x(n),x(o),x(s),l&&l.d()}}}function tb(i){let e;return{c(){e=X("Augment Features:")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function nb(i){let e,n,t;return{c(){e=F("a"),e.textContent="Chat",n=X(` &
      `),t=F("a"),t.textContent="Agent,",A(e,"href","https://docs.augmentcode.com/using-augment/chat"),A(e,"class","svelte-1jb2nyh"),A(t,"href","https://docs.augmentcode.com/using-augment/agent"),A(t,"class","svelte-1jb2nyh")},m(o,r){M(o,e,r),M(o,n,r),M(o,t,r)},p:N,d(o){o&&(w(e),w(n),w(t))}}}function zl(i){let e,n,t;return{c(){e=X(`,
        `),n=F("a"),n.textContent="Instructions",t=X(","),A(n,"href","https://docs.augmentcode.com/using-augment/instructions"),A(n,"class","svelte-1jb2nyh")},m(o,r){M(o,e,r),M(o,n,r),M(o,t,r)},d(o){o&&(w(e),w(n),w(t))}}}function ob(i){let e,n,t=i[0]!=="intellij"&&zl();return{c(){e=F("a"),e.textContent="Code Completions",t&&t.c(),n=de(),A(e,"href","https://docs.augmentcode.com/using-augment/completions"),A(e,"class","svelte-1jb2nyh")},m(o,r){M(o,e,r),t&&t.m(o,r),M(o,n,r)},p(o,r){o[0]!=="intellij"?t||(t=zl(),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},d(o){o&&(w(e),w(n)),t&&t.d(o)}}}function jl(i){let e,n;return e=new Oe({props:{size:1,$$slots:{default:[rb]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function rb(i){let e;return{c(){e=F("a"),e.textContent="Next Edit",A(e,"href","https://docs.augmentcode.com/using-augment/next-edit"),A(e,"class","svelte-1jb2nyh")},m(n,t){M(n,e,t)},p:N,d(n){n&&w(e)}}}function ib(i){let e,n,t=i[0]!==void 0&&Bl(i);return{c(){t&&t.c(),e=de()},m(o,r){t&&t.m(o,r),M(o,e,r),n=!0},p(o,[r]){o[0]!==void 0?t?(t.p(o,r),1&r&&d(t,1)):(t=Bl(o),t.c(),d(t,1),t.m(e.parentNode,e)):t&&(K(),p(t,1,1,()=>{t=null}),Z())},i(o){n||(d(t),n=!0)},o(o){p(t),n=!1},d(o){o&&w(e),t&&t.d(o)}}}function sb(i,e,n){let{client:t}=e;return i.$$set=o=>{"client"in o&&n(0,t=o.client)},[t]}class sd extends oe{constructor(e){super(),re(this,e,sb,ib,ne,{client:0})}}function ab(i){let e,n;return{c(){e=Fe("svg"),n=Fe("ellipse"),A(n,"cx","51"),A(n,"cy","4.5"),A(n,"rx","51"),A(n,"ry","4.5"),A(n,"fill","currentColor"),A(e,"width","102"),A(e,"height","9"),A(e,"viewBox","0 0 102 9"),A(e,"fill","none"),A(e,"xmlns","http://www.w3.org/2000/svg")},m(t,o){M(t,e,o),H(e,n)},p:N,i:N,o:N,d(t){t&&w(e)}}}class cb extends oe{constructor(e){super(),re(this,e,null,ab,ne,{})}}function Hl(i){let e,n,t;return n=new cb({}),{c(){e=F("div"),y(n.$$.fragment),A(e,"class","c-augment-logo-animated__shadow svelte-hwxi20")},m(o,r){M(o,e,r),b(n,e,null),t=!0},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function lb(i){let e,n,t,o;const r=i[8].default,s=ze(r,i,i[7],null),c=s||function(l){let u,f;return u=new tm({}),{c(){y(u.$$.fragment)},m(g,h){b(u,g,h),f=!0},i(g){f||(d(u.$$.fragment,g),f=!0)},o(g){p(u.$$.fragment,g),f=!1},d(g){x(u,g)}}}();let a=i[0]&&Hl();return{c(){e=F("div"),n=F("div"),c&&c.c(),t=U(),a&&a.c(),A(n,"class","c-augment-logo-animated__icon svelte-hwxi20"),A(e,"class","c-augment-logo-animated svelte-hwxi20"),A(e,"style",i[2]),Ne(e,"c-augment-logo-animated--animated",i[1])},m(l,u){M(l,e,u),H(e,n),c&&c.m(n,null),H(e,t),a&&a.m(e,null),o=!0},p(l,[u]){s&&s.p&&(!o||128&u)&&je(s,r,l,l[7],o?Ue(r,l[7],u,null):He(l[7]),null),l[0]?a?1&u&&d(a,1):(a=Hl(),a.c(),d(a,1),a.m(e,null)):a&&(K(),p(a,1,1,()=>{a=null}),Z()),(!o||4&u)&&A(e,"style",l[2]),(!o||2&u)&&Ne(e,"c-augment-logo-animated--animated",l[1])},i(l){o||(d(c,l),d(a),o=!0)},o(l){p(c,l),p(a),o=!1},d(l){l&&w(e),c&&c.d(l),a&&a.d()}}}function ub(i,e,n){let t,o,{$$slots:r={},$$scope:s}=e,{heightPx:c=160}=e,{floatHeight:a=20}=e,{animationDuration:l=3}=e,{showShadow:u=!0}=e,{animated:f=!0}=e;return i.$$set=g=>{"heightPx"in g&&n(3,c=g.heightPx),"floatHeight"in g&&n(4,a=g.floatHeight),"animationDuration"in g&&n(5,l=g.animationDuration),"showShadow"in g&&n(0,u=g.showShadow),"animated"in g&&n(1,f=g.animated),"$$scope"in g&&n(7,s=g.$$scope)},i.$$.update=()=>{8&i.$$.dirty&&n(6,t=Math.round(.875*c)),120&i.$$.dirty&&n(2,o=`
    --augment-logo-height: ${c}px;
    --augment-logo-icon-size: ${t}px;
    --augment-logo-float-height: ${a}px;
    --animation-duration: ${l}s;
  `)},[u,f,o,c,a,l,t,s,r]}class ad extends oe{constructor(e){super(),re(this,e,ub,lb,ne,{heightPx:3,floatHeight:4,animationDuration:5,showShadow:0,animated:1})}}const db=i=>({}),Ul=i=>({}),fb=i=>({}),Wl=i=>({});function ql(i){let e,n;const t=i[2].logo,o=ze(t,i,i[1],Wl);return{c(){e=F("div"),o&&o.c(),A(e,"class","c-onboarding-layout__logo svelte-72kwkw")},m(r,s){M(r,e,s),o&&o.m(e,null),n=!0},p(r,s){o&&o.p&&(!n||2&s)&&je(o,t,r,r[1],n?Ue(t,r[1],s,fb):He(r[1]),Wl)},i(r){n||(d(o,r),n=!0)},o(r){p(o,r),n=!1},d(r){r&&w(e),o&&o.d(r)}}}function Gl(i){let e,n;const t=i[2].error,o=ze(t,i,i[1],Ul);return{c(){e=F("div"),o&&o.c(),A(e,"class","c-onboarding-layout__error svelte-72kwkw")},m(r,s){M(r,e,s),o&&o.m(e,null),n=!0},p(r,s){o&&o.p&&(!n||2&s)&&je(o,t,r,r[1],n?Ue(t,r[1],s,db):He(r[1]),Ul)},i(r){n||(d(o,r),n=!0)},o(r){p(o,r),n=!1},d(r){r&&w(e),o&&o.d(r)}}}function mb(i){let e,n,t,o,r,s=i[0].logo&&ql(i);const c=i[2].default,a=ze(c,i,i[1],null);let l=i[0].error&&Gl(i);return{c(){e=F("div"),s&&s.c(),n=U(),t=F("div"),a&&a.c(),o=U(),l&&l.c(),A(t,"class","c-onboarding-layout__content svelte-72kwkw"),A(e,"class","c-onboarding-layout svelte-72kwkw"),Ne(e,"c-onboarding-layout__has-logo",i[0].logo)},m(u,f){M(u,e,f),s&&s.m(e,null),H(e,n),H(e,t),a&&a.m(t,null),H(e,o),l&&l.m(e,null),r=!0},p(u,[f]){u[0].logo?s?(s.p(u,f),1&f&&d(s,1)):(s=ql(u),s.c(),d(s,1),s.m(e,n)):s&&(K(),p(s,1,1,()=>{s=null}),Z()),a&&a.p&&(!r||2&f)&&je(a,c,u,u[1],r?Ue(c,u[1],f,null):He(u[1]),null),u[0].error?l?(l.p(u,f),1&f&&d(l,1)):(l=Gl(u),l.c(),d(l,1),l.m(e,null)):l&&(K(),p(l,1,1,()=>{l=null}),Z()),(!r||1&f)&&Ne(e,"c-onboarding-layout__has-logo",u[0].logo)},i(u){r||(d(s),d(a,u),d(l),r=!0)},o(u){p(s),p(a,u),p(l),r=!1},d(u){u&&w(e),s&&s.d(),a&&a.d(u),l&&l.d()}}}function pb(i,e,n){let{$$slots:t={},$$scope:o}=e;const r=ou(t);return i.$$set=s=>{"$$scope"in s&&n(1,o=s.$$scope)},[r,o,t]}class qi extends oe{constructor(e){super(),re(this,e,pb,mb,ne,{})}}function $b(i){let e;return{c(){e=X(i[0])},m(n,t){M(n,e,t)},p(n,t){1&t&&Te(e,n[0])},d(n){n&&w(e)}}}function hb(i){let e;return{c(){e=X(i[1])},m(n,t){M(n,e,t)},p(n,t){2&t&&Te(e,n[1])},d(n){n&&w(e)}}}function gb(i){let e,n,t,o,r;return n=new Oe({props:{size:2,weight:"bold",class:"c-sign-in__welcome",$$slots:{default:[$b]},$$scope:{ctx:i}}}),o=new Oe({props:{size:1,$$slots:{default:[hb]},$$scope:{ctx:i}}}),{c(){e=F("div"),y(n.$$.fragment),t=U(),y(o.$$.fragment),A(e,"class","c-sign-in__title svelte-yuxz62")},m(s,c){M(s,e,c),b(n,e,null),H(e,t),b(o,e,null),r=!0},p(s,[c]){const a={};5&c&&(a.$$scope={dirty:c,ctx:s}),n.$set(a);const l={};6&c&&(l.$$scope={dirty:c,ctx:s}),o.$set(l)},i(s){r||(d(n.$$.fragment,s),d(o.$$.fragment,s),r=!0)},o(s){p(n.$$.fragment,s),p(o.$$.fragment,s),r=!1},d(s){s&&w(e),x(n),x(o)}}}function vb(i,e,n){let{title:t}=e,{subtitle:o}=e;return i.$$set=r=>{"title"in r&&n(0,t=r.title),"subtitle"in r&&n(1,o=r.subtitle)},[t,o]}class cd extends oe{constructor(e){super(),re(this,e,vb,gb,ne,{title:0,subtitle:1})}}function wb(i){let e,n,t,o,r,s;return{c(){e=Fe("svg"),n=Fe("g"),t=Fe("path"),o=Fe("defs"),r=Fe("clipPath"),s=Fe("rect"),A(t,"d","M16 7.99201C16 3.58042 12.416 0 8 0C3.584 0 0 3.58042 0 7.99201C0 10.4216 1.104 12.6114 2.832 14.0819C2.848 14.0979 2.864 14.0979 2.864 14.1139C3.008 14.2258 3.152 14.3377 3.312 14.4496C3.392 14.4975 3.456 14.5614 3.536 14.6254C4.816 15.4885 6.352 16 8.016 16C9.68 16 11.216 15.4885 12.496 14.6254C12.576 14.5774 12.64 14.5135 12.72 14.4655C12.864 14.3536 13.024 14.2418 13.168 14.1299C13.184 14.1139 13.2 14.1139 13.2 14.0979C14.896 12.6114 16 10.4216 16 7.99201ZM8 14.993C6.496 14.993 5.12 14.5135 3.984 13.7143C4 13.5864 4.032 13.4585 4.064 13.3307C4.16 12.979 4.304 12.6434 4.48 12.3397C4.656 12.036 4.864 11.7642 5.12 11.5245C5.36 11.2847 5.648 11.0609 5.936 10.8851C6.24 10.7093 6.56 10.5814 6.912 10.4855C7.264 10.3896 7.632 10.3417 8 10.3417C8.592 10.3417 9.136 10.4535 9.632 10.6613C10.128 10.8691 10.56 11.1568 10.928 11.5085C11.296 11.8761 11.584 12.3077 11.792 12.8032C11.904 13.0909 11.984 13.3946 12.032 13.7143C10.88 14.5135 9.504 14.993 8 14.993ZM5.552 7.59241C5.408 7.27273 5.344 6.92108 5.344 6.56943C5.344 6.21778 5.408 5.86613 5.552 5.54645C5.696 5.22677 5.888 4.93906 6.128 4.6993C6.368 4.45954 6.656 4.26773 6.976 4.12388C7.296 3.98002 7.648 3.91608 8 3.91608C8.368 3.91608 8.704 3.98002 9.024 4.12388C9.344 4.26773 9.632 4.45954 9.872 4.6993C10.112 4.93906 10.304 5.22677 10.448 5.54645C10.592 5.86613 10.656 6.21778 10.656 6.56943C10.656 6.93706 10.592 7.27273 10.448 7.59241C10.304 7.91209 10.112 8.1998 9.872 8.43956C9.632 8.67932 9.344 8.87113 9.024 9.01499C8.384 9.28671 7.6 9.28671 6.96 9.01499C6.64 8.87113 6.352 8.67932 6.112 8.43956C5.872 8.1998 5.68 7.91209 5.552 7.59241ZM12.976 12.8991C12.976 12.8671 12.96 12.8511 12.96 12.8192C12.8 12.3237 12.576 11.8442 12.272 11.4126C11.968 10.981 11.616 10.5974 11.184 10.2777C10.864 10.038 10.512 9.83017 10.144 9.67033C10.32 9.55844 10.48 9.41459 10.608 9.28671C10.848 9.04695 11.056 8.79121 11.232 8.5035C11.408 8.21579 11.536 7.91209 11.632 7.57642C11.728 7.24076 11.76 6.9051 11.76 6.56943C11.76 6.04196 11.664 5.54645 11.472 5.0989C11.28 4.65135 11.008 4.25175 10.656 3.9001C10.32 3.56444 9.904 3.29271 9.456 3.1009C9.008 2.90909 8.512 2.81319 7.984 2.81319C7.456 2.81319 6.96 2.90909 6.512 3.1009C6.064 3.29271 5.648 3.56444 5.312 3.91608C4.976 4.25175 4.704 4.66733 4.512 5.11489C4.32 5.56244 4.224 6.05794 4.224 6.58541C4.224 6.93706 4.272 7.27273 4.368 7.59241C4.464 7.92807 4.592 8.23177 4.768 8.51948C4.928 8.80719 5.152 9.06294 5.392 9.3027C5.536 9.44655 5.696 9.57443 5.872 9.68631C5.488 9.86214 5.136 10.0699 4.832 10.3097C4.416 10.6294 4.048 11.013 3.744 11.4286C3.44 11.8601 3.216 12.3237 3.056 12.8352C3.04 12.8671 3.04 12.8991 3.04 12.9151C1.776 11.6364 0.992 9.91009 0.992 7.99201C0.992 4.13986 4.144 0.991009 8 0.991009C11.856 0.991009 15.008 4.13986 15.008 7.99201C15.008 9.91009 14.224 11.6364 12.976 12.8991Z"),A(t,"fill","currentColor"),A(n,"clip-path","url(#clip0_9570_7560)"),A(s,"width","16"),A(s,"height","16"),A(s,"fill","currentColor"),A(r,"id","clip0_9570_7560"),A(e,"width","16"),A(e,"height","16"),A(e,"viewBox","0 0 16 16"),A(e,"fill","none"),A(e,"xmlns","http://www.w3.org/2000/svg")},m(c,a){M(c,e,a),H(e,n),H(n,t),H(e,o),H(o,r),H(r,s)},p:N,i:N,o:N,d(c){c&&w(e)}}}class yb extends oe{constructor(e){super(),re(this,e,null,wb,ne,{})}}function bb(i){let e;return{c(){e=X("Sign In")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function xb(i){let e,n;return e=new yb({props:{slot:"iconLeft"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function _b(i){let e,n,t,o,r,s,c;return n=new cd({props:{title:"Welcome!",subtitle:"Please sign in below."}}),o=new pt({props:{variant:"solid",color:"accent","data-testid":"sign-in-button",$$slots:{iconLeft:[xb],default:[bb]},$$scope:{ctx:i}}}),o.$on("click",i[1]),s=new sd({props:{client:i[0]}}),{c(){e=F("div"),y(n.$$.fragment),t=U(),y(o.$$.fragment),r=U(),y(s.$$.fragment),A(e,"class","c-sign-in svelte-77uw5c")},m(a,l){M(a,e,l),b(n,e,null),H(e,t),b(o,e,null),H(e,r),b(s,e,null),c=!0},p(a,l){const u={};8&l&&(u.$$scope={dirty:l,ctx:a}),o.$set(u);const f={};1&l&&(f.client=a[0]),s.$set(f)},i(a){c||(d(n.$$.fragment,a),d(o.$$.fragment,a),d(s.$$.fragment,a),c=!0)},o(a){p(n.$$.fragment,a),p(o.$$.fragment,a),p(s.$$.fragment,a),c=!1},d(a){a&&w(e),x(n),x(o),x(s)}}}function Cb(i){let e,n;return e=new ad({props:{slot:"logo"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Mb(i){let e,n,t,o;return e=new qi({props:{$$slots:{logo:[Cb],default:[_b]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(r,s){b(e,r,s),n=!0,t||(o=ke(window,"message",i[2]),t=!0)},p(r,[s]){const c={};9&s&&(c.$$scope={dirty:s,ctx:r}),e.$set(c)},i(r){n||(d(e.$$.fragment,r),n=!0)},o(r){p(e.$$.fragment,r),n=!1},d(r){x(e,r),t=!1,o()}}}function Ab(i,e,n){let t;return an.postMessage({type:dt.signInLoaded}),[t,function(){an.postMessage({type:dt.mainPanelPerformAction,data:"sign-in"})},o=>{const r=o.data;r.type===dt.signInLoadedResponse&&n(0,t=r.data.client)}]}class kb extends oe{constructor(e){super(),re(this,e,Ab,Mb,ne,{})}}function Eb(i){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),A(n,"d","M14.5 3H7.70996L6.85999 2.15002L6.51001 2H1.51001L1.01001 2.5V6.5V13.5L1.51001 14H14.51L15.01 13.5V9V3.5L14.5 3ZM13.99 11.49V13H1.98999V11.49V7.48999V7H6.47998L6.82996 6.84998L7.68994 5.98999H14V7.48999L13.99 11.49ZM13.99 5H7.48999L7.14001 5.15002L6.28003 6.01001H2V3.01001H6.29004L7.14001 3.85999L7.5 4.01001H14L13.99 5Z"),A(n,"fill","#C5C5C5"),A(e,"width","16"),A(e,"height","16"),A(e,"viewBox","0 0 16 16"),A(e,"fill","none"),A(e,"xmlns","http://www.w3.org/2000/svg")},m(t,o){M(t,e,o),H(e,n)},p:N,i:N,o:N,d(t){t&&w(e)}}}class Ib extends oe{constructor(e){super(),re(this,e,null,Eb,ne,{})}}const Tb=i=>({}),Vl=i=>({slot:"icon"}),Lb=i=>({}),Yl=i=>({slot:"icon"});function Sb(i){let e,n;return e=new bn({props:{variant:"soft",size:1,color:i[0],$$slots:{icon:[Fb],default:[Nb]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};1&o&&(r.color=t[0]),74&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Rb(i){let e,n,t,o;return e=new bn({props:{variant:"soft",size:1,color:i[0],$$slots:{default:[Db]},$$scope:{ctx:i}}}),t=new bn({props:{variant:"soft",size:1,color:"info",$$slots:{icon:[Bb],default:[Ob]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment),n=U(),y(t.$$.fragment)},m(r,s){b(e,r,s),M(r,n,s),b(t,r,s),o=!0},p(r,s){const c={};1&s&&(c.color=r[0]),66&s&&(c.$$scope={dirty:s,ctx:r}),e.$set(c);const a={};68&s&&(a.$$scope={dirty:s,ctx:r}),t.$set(a)},i(r){o||(d(e.$$.fragment,r),d(t.$$.fragment,r),o=!0)},o(r){p(e.$$.fragment,r),p(t.$$.fragment,r),o=!1},d(r){r&&w(n),x(e,r),x(t,r)}}}function Xl(i){let e,n;return e=new At({props:{variant:"ghost",color:"neutral",size:1,$$slots:{default:[Pb]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};64&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Pb(i){let e,n;return e=new Xo({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Nb(i){let e,n,t,o;n=new ko({props:{markdown:i[1]}});let r=!!i[3]&&Xl(i);return{c(){e=F("div"),y(n.$$.fragment),t=U(),r&&r.c(),A(e,"class","c-callout-wrapper svelte-fh6sa8")},m(s,c){M(s,e,c),b(n,e,null),H(e,t),r&&r.m(e,null),o=!0},p(s,c){const a={};2&c&&(a.markdown=s[1]),n.$set(a),s[3]?r?(r.p(s,c),8&c&&d(r,1)):(r=Xl(s),r.c(),d(r,1),r.m(e,null)):r&&(K(),p(r,1,1,()=>{r=null}),Z())},i(s){o||(d(n.$$.fragment,s),d(r),o=!0)},o(s){p(n.$$.fragment,s),p(r),o=!1},d(s){s&&w(e),x(n),r&&r.d()}}}function Fb(i){let e;const n=i[4].icon,t=ze(n,i,i[6],Vl);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||64&r)&&je(t,n,o,o[6],e?Ue(n,o[6],r,Tb):He(o[6]),Vl)},i(o){e||(d(t,o),e=!0)},o(o){p(t,o),e=!1},d(o){t&&t.d(o)}}}function Db(i){let e,n;return e=new ko({props:{markdown:i[1]}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};2&o&&(r.markdown=t[1]),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Ob(i){let e,n;return e=new ko({props:{markdown:i[2]}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4&o&&(r.markdown=t[2]),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Bb(i){let e;const n=i[4].icon,t=ze(n,i,i[6],Yl);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||64&r)&&je(t,n,o,o[6],e?Ue(n,o[6],r,Lb):He(o[6]),Yl)},i(o){e||(d(t,o),e=!0)},o(o){p(t,o),e=!1},d(o){t&&t.d(o)}}}function zb(i){let e,n,t,o,r;const s=[Rb,Sb],c=[];function a(f,g){return f[2]?0:1}n=a(i),t=c[n]=s[n](i);const l=i[4].default,u=ze(l,i,i[6],null);return{c(){e=F("div"),t.c(),o=U(),u&&u.c(),A(e,"class","c-base-card svelte-fh6sa8")},m(f,g){M(f,e,g),c[n].m(e,null),H(e,o),u&&u.m(e,null),r=!0},p(f,[g]){let h=n;n=a(f),n===h?c[n].p(f,g):(K(),p(c[h],1,1,()=>{c[h]=null}),Z(),t=c[n],t?t.p(f,g):(t=c[n]=s[n](f),t.c()),d(t,1),t.m(e,o)),u&&u.p&&(!r||64&g)&&je(u,l,f,f[6],r?Ue(l,f[6],g,null):He(f[6]),null)},i(f){r||(d(t),d(u,f),r=!0)},o(f){p(t),p(u,f),r=!1},d(f){f&&w(e),c[n].d(),u&&u.d(f)}}}function jb(i,e,n){let{$$slots:t={},$$scope:o}=e,{color:r}=e,{description:s}=e,{callout:c}=e,{onClose:a}=e;return i.$$set=l=>{"color"in l&&n(0,r=l.color),"description"in l&&n(1,s=l.description),"callout"in l&&n(2,c=l.callout),"onClose"in l&&n(3,a=l.onClose),"$$scope"in l&&n(6,o=l.$$scope)},[r,s,c,a,t,()=>a(),o]}class Gi extends oe{constructor(e){super(),re(this,e,jb,zb,ne,{color:0,description:1,callout:2,onClose:3})}}function Kl(i,e,n){const t=i.slice();return t[9]=e[n].text,t[10]=e[n].action,t[11]=e[n].appearance,t}const Hb=i=>({}),Zl=i=>({slot:"icon"});function Ub(i){let e,n,t=i[9]+"";return{c(){e=X(t),n=U()},m(o,r){M(o,e,r),M(o,n,r)},p(o,r){4&r&&t!==(t=o[9]+"")&&Te(e,t)},d(o){o&&(w(e),w(n))}}}function Ql(i){let e,n;return e=new pt({props:{size:2,variant:"solid",color:i[11]?i[11]:"accent",class:"c-btns-card__button",title:i[9],$$slots:{default:[Ub]},$$scope:{ctx:i}}}),e.$on("click",function(){return i[7](i[10])}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){i=t;const r={};4&o&&(r.color=i[11]?i[11]:"accent"),4&o&&(r.title=i[9]),260&o&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Jl(i){let e,n;return e=new Bu({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Wb(i){let e,n,t,o,r=ct(i[2]),s=[];for(let l=0;l<r.length;l+=1)s[l]=Ql(Kl(i,r,l));const c=l=>p(s[l],1,1,()=>{s[l]=null});let a=i[3]&&Jl();return{c(){e=F("div");for(let l=0;l<s.length;l+=1)s[l].c();n=U(),a&&a.c(),t=de(),A(e,"class","c-btns-card__buttons svelte-1701q2d")},m(l,u){M(l,e,u);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);M(l,n,u),a&&a.m(l,u),M(l,t,u),o=!0},p(l,u){if(36&u){let f;for(r=ct(l[2]),f=0;f<r.length;f+=1){const g=Kl(l,r,f);s[f]?(s[f].p(g,u),d(s[f],1)):(s[f]=Ql(g),s[f].c(),d(s[f],1),s[f].m(e,null))}for(K(),f=r.length;f<s.length;f+=1)c(f);Z()}l[3]?a?8&u&&d(a,1):(a=Jl(),a.c(),d(a,1),a.m(t.parentNode,t)):a&&(K(),p(a,1,1,()=>{a=null}),Z())},i(l){if(!o){for(let u=0;u<r.length;u+=1)d(s[u]);d(a),o=!0}},o(l){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)p(s[u]);p(a),o=!1},d(l){l&&(w(e),w(n),w(t)),cn(s,l),a&&a.d(l)}}}function qb(i){let e;const n=i[6].icon,t=ze(n,i,i[8],Zl);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||256&r)&&je(t,n,o,o[8],e?Ue(n,o[8],r,Hb):He(o[8]),Zl)},i(o){e||(d(t,o),e=!0)},o(o){p(t,o),e=!1},d(o){t&&t.d(o)}}}function Gb(i){let e,n;return e=new Gi({props:{color:i[1],description:i[0],callout:i[4],$$slots:{icon:[qb],default:[Wb]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,[o]){const r={};2&o&&(r.color=t[1]),1&o&&(r.description=t[0]),16&o&&(r.callout=t[4]),268&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Vb(i,e,n){let{$$slots:t={},$$scope:o}=e,{description:r}=e,{color:s}=e,{buttons:c=[]}=e,{inProgress:a=!1}=e,{callout:l}=e;function u(f){an.postMessage({type:dt.mainPanelPerformAction,data:f})}return i.$$set=f=>{"description"in f&&n(0,r=f.description),"color"in f&&n(1,s=f.color),"buttons"in f&&n(2,c=f.buttons),"inProgress"in f&&n(3,a=f.inProgress),"callout"in f&&n(4,l=f.callout),"$$scope"in f&&n(8,o=f.$$scope)},[r,s,c,a,l,u,t,f=>u(f),o]}class Jo extends oe{constructor(e){super(),re(this,e,Vb,Gb,ne,{description:0,color:1,buttons:2,inProgress:3,callout:4})}}function Yb(i){return{c:N,m:N,p:N,i:N,o:N,d:N}}function Xb(i){let e,n;return e=new Gi({props:{color:"warning",description:"Current workspace contains your home directory. Augment cannot upload your home directory to the cloud. Please open a different workspace",$$slots:{icon:[n8]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};8&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Kb(i){let e,n;return e=new Gi({props:{color:"warning",description:`The workspace you have opened exceeds Augment's ${i[1].maxTrackableFileCount} file upload limit. Please use a .augmentignore or .gitignore to exclude files from being uploaded, or open a smaller workspace.`,$$slots:{icon:[o8]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};2&o&&(r.description=`The workspace you have opened exceeds Augment's ${t[1].maxTrackableFileCount} file upload limit. Please use a .augmentignore or .gitignore to exclude files from being uploaded, or open a smaller workspace.`),8&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Zb(i){let e,n;return e=new Jo({props:{color:"neutral",description:"To provide the best quality responses, Augment will index your code in our secure cloud. Your data always stays secure and private. [Learn More](https://docs.augmentcode.com/setup-augment/workspace-indexing)",callout:i[2].userTier==="community"?"You are subscribed to the Community plan, we may use any code you share to train our AI models.":void 0,buttons:[{text:"Enable Indexing",action:"grant-sync-permission"}],$$slots:{icon:[r8]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4&o&&(r.callout=t[2].userTier==="community"?"You are subscribed to the Community plan, we may use any code you share to train our AI models.":void 0),8&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Qb(i){let e,n;return e=new Jo({props:{color:"warning",description:"Codeium suggestions will collide with Augment's suggestions. Turn off Codeium to fix this.",buttons:[{text:"Disable Codeium",action:"disable-codeium"}],$$slots:{icon:[i8]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};8&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Jb(i){let e,n;return e=new Jo({props:{color:"warning",description:"GitHub Copilot suggestions will collide with Augment's suggestions. Turn off Copilot to fix this.",buttons:[{text:"Disable Github Copilot",action:"disable-github-copilot"}],$$slots:{icon:[s8]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};8&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function e8(i){let e,n;return e=new Jo({props:{color:"neutral",description:"Please complete the sign-in process in your browser.",buttons:[{text:"Cancel",action:"cancel-sign-in",appearance:"neutral"}],inProgress:!0,$$slots:{icon:[a8]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};8&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function t8(i){let e,n;return e=new Jo({props:{color:"neutral",description:"Welcome to Augment! Sign in to your existing account or create a new one to get started.",buttons:[{text:"Start using Augment",action:"sign-in"}],$$slots:{icon:[c8]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};8&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function n8(i){let e,n;return e=new ln({props:{slot:"icon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function o8(i){let e,n;return e=new ln({props:{slot:"icon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function r8(i){let e,n;return e=new po({props:{slot:"icon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function i8(i){let e,n;return e=new ln({props:{slot:"icon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function s8(i){let e,n;return e=new ln({props:{slot:"icon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function a8(i){let e,n;return e=new po({props:{slot:"icon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function c8(i){let e,n;return e=new po({props:{slot:"icon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function l8(i){let e,n,t,o;const r=[t8,e8,Jb,Qb,Zb,Kb,Xb,Yb],s=[];function c(a,l){return a[0]===Mt.signInRequired?0:a[0]===ji.signInInProgress?1:a[0]===Mt.disableCopilot?2:a[0]===Mt.disableCodeium?3:a[0]===Mt.syncingPermissionNeeded?4:a[0]===Mt.workspaceTooLarge?5:a[0]===Mt.uploadingHomeDir?6:a[0]===Mt.allActionsComplete?7:-1}return~(e=c(i))&&(n=s[e]=r[e](i)),{c(){n&&n.c(),t=de()},m(a,l){~e&&s[e].m(a,l),M(a,t,l),o=!0},p(a,[l]){let u=e;e=c(a),e===u?~e&&s[e].p(a,l):(n&&(K(),p(s[u],1,1,()=>{s[u]=null}),Z()),~e?(n=s[e],n?n.p(a,l):(n=s[e]=r[e](a),n.c()),d(n,1),n.m(t.parentNode,t)):n=null)},i(a){o||(d(n),o=!0)},o(a){p(n),o=!1},d(a){a&&w(t),~e&&s[e].d(a)}}}function u8(i,e,n){let t,o=N,r=()=>(o(),o=it(c,a=>n(2,t=a)),c);i.$$.on_destroy.push(()=>o());let{card:s}=e,{flagsModel:c}=e;return r(),i.$$set=a=>{"card"in a&&n(0,s=a.card),"flagsModel"in a&&r(n(1,c=a.flagsModel))},[s,c,t]}class d8 extends oe{constructor(e){super(),re(this,e,u8,l8,ne,{card:0,flagsModel:1})}}class f8{constructor(){te(this,"subscribers",new Set);te(this,"_actions",[]);te(this,"_currentIndex",0);te(this,"subscribe",e=>(this.subscribers.add(e),e(this),()=>{this.subscribers.delete(e)}))}get currentCard(){return this.actions[this._currentIndex]}notifySubscribers(){this.subscribers.forEach(e=>e(this))}get actions(){return this._actions}handleMessageFromExtension(e){const n=e.data;return n.type===dt.mainPanelActions&&(this.onActionsUpdates(n.data),!0)}onActionsUpdates(e){this._actions=e,this._currentIndex=0,this.notifySubscribers()}nextAction(){this._currentIndex=(this._currentIndex+1)%this._actions.length,this.notifySubscribers()}prevAction(){this._currentIndex=(this._currentIndex-1+this._actions.length)%this._actions.length,this.notifySubscribers()}isCollapsible(e){return e===Mt.allActionsComplete}}function m8(i){let e,n,t;return e=new Ef({}),{c(){y(e.$$.fragment),n=X(`
        Back`)},m(o,r){b(e,o,r),M(o,n,r),t=!0},i(o){t||(d(e.$$.fragment,o),t=!0)},o(o){p(e.$$.fragment,o),t=!1},d(o){o&&w(n),x(e,o)}}}function p8(i){let e;return{c(){e=X("Index Codebase")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function $8(i){let e;return{c(){e=X(`Indexing allows Augment to make tailored code suggestions and explain common practices or
        patterns.`)},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function h8(i){let e;return{c(){e=F("a"),e.textContent="Learn More",A(e,"href","https://docs.augmentcode.com/setup-augment/workspace-indexing"),A(e,"class","svelte-f8zg6u")},m(n,t){M(n,e,t)},p:N,d(n){n&&w(e)}}}function g8(i){let e,n,t;return n=new Oe({props:{size:1,$$slots:{default:[h8]},$$scope:{ctx:i}}}),{c(){e=X(`Your data always stays secure, private and anonymized.
        `),y(n.$$.fragment)},m(o,r){M(o,e,r),b(n,o,r),t=!0},p(o,r){const s={};4096&r&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n,o)}}}function v8(i){let e,n=(i[2]??eu)+"";return{c(){e=X(n)},m(t,o){M(t,e,o)},p(t,o){4&o&&n!==(n=(t[2]??eu)+"")&&Te(e,n)},d(t){t&&w(e)}}}function w8(i){let e,n;return e=new Ib({props:{slot:"iconLeft"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function y8(i){let e,n;return e=new pt({props:{variant:"outline",color:"neutral",size:2,$$slots:{iconLeft:[w8],default:[v8]},$$scope:{ctx:i}}}),e.$on("click",i[7]),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,o){const r={};4100&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function b8(i){let e;return{c(){e=X("Index Codebase")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function x8(i){let e,n,t,o,r,s,c,a,l,u,f,g,h,k=su(),I=k&&function(_){let T,O,B;return O=new pt({props:{variant:"ghost",color:"neutral",size:1,$$slots:{default:[m8]},$$scope:{ctx:_}}}),O.$on("click",_[8]),{c(){T=F("div"),y(O.$$.fragment),A(T,"class","c-back-button-container svelte-f8zg6u")},m(z,fe){M(z,T,fe),b(O,T,null),B=!0},p(z,fe){const ye={};4096&fe&&(ye.$$scope={dirty:fe,ctx:z}),O.$set(ye)},i(z){B||(d(O.$$.fragment,z),B=!0)},o(z){p(O.$$.fragment,z),B=!1},d(z){z&&w(T),x(O)}}}(i);return t=new Oe({props:{size:2,weight:"bold",class:"c-awaiting-syncing-permission__title",$$slots:{default:[p8]},$$scope:{ctx:i}}}),s=new Oe({props:{size:1,$$slots:{default:[$8]},$$scope:{ctx:i}}}),a=new Oe({props:{size:1,$$slots:{default:[g8]},$$scope:{ctx:i}}}),u=new ht({props:{content:"Open a new project",$$slots:{default:[y8]},$$scope:{ctx:i}}}),g=new pt({props:{variant:"solid",color:"accent",size:2,disabled:!i[2]||i[3],loading:i[1],$$slots:{default:[b8]},$$scope:{ctx:i}}}),g.$on("click",i[6]),{c(){I&&I.c(),e=U(),n=F("div"),y(t.$$.fragment),o=U(),r=F("div"),y(s.$$.fragment),c=U(),y(a.$$.fragment),l=U(),y(u.$$.fragment),f=U(),y(g.$$.fragment),A(r,"class","c-awaiting-syncing-permission__text svelte-f8zg6u"),A(n,"class","c-awaiting-syncing-permission svelte-f8zg6u")},m(_,T){I&&I.m(_,T),M(_,e,T),M(_,n,T),b(t,n,null),H(n,o),H(n,r),b(s,r,null),H(r,c),b(a,r,null),H(n,l),b(u,n,null),H(n,f),b(g,n,null),h=!0},p(_,T){k&&I.p(_,T);const O={};4096&T&&(O.$$scope={dirty:T,ctx:_}),t.$set(O);const B={};4096&T&&(B.$$scope={dirty:T,ctx:_}),s.$set(B);const z={};4096&T&&(z.$$scope={dirty:T,ctx:_}),a.$set(z);const fe={};4100&T&&(fe.$$scope={dirty:T,ctx:_}),u.$set(fe);const ye={};12&T&&(ye.disabled=!_[2]||_[3]),2&T&&(ye.loading=_[1]),4096&T&&(ye.$$scope={dirty:T,ctx:_}),g.$set(ye)},i(_){h||(d(I),d(t.$$.fragment,_),d(s.$$.fragment,_),d(a.$$.fragment,_),d(u.$$.fragment,_),d(g.$$.fragment,_),h=!0)},o(_){p(I),p(t.$$.fragment,_),p(s.$$.fragment,_),p(a.$$.fragment,_),p(u.$$.fragment,_),p(g.$$.fragment,_),h=!1},d(_){_&&(w(e),w(n)),I&&I.d(_),x(t),x(s),x(a),x(u),x(g)}}}function _8(i){let e,n,t;return n=new d8({props:{card:i[0].currentCard,flagsModel:i[5]}}),{c(){e=F("div"),y(n.$$.fragment),A(e,"slot","error")},m(o,r){M(o,e,r),b(n,e,null),t=!0},p(o,r){const s={};1&r&&(s.card=o[0].currentCard),n.$set(s)},i(o){t||(d(n.$$.fragment,o),t=!0)},o(o){p(n.$$.fragment,o),t=!1},d(o){o&&w(e),x(n)}}}function C8(i){let e,n,t,o;return e=new qi({props:{$$slots:{error:[_8],default:[x8]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(r,s){b(e,r,s),n=!0,t||(o=ke(window,"message",i[9]),t=!0)},p(r,[s]){const c={};4111&s&&(c.$$scope={dirty:s,ctx:r}),e.$set(c)},i(r){n||(d(e.$$.fragment,r),n=!0)},o(r){p(e.$$.fragment,r),n=!1},d(r){x(e,r),t=!1,o()}}}const eu="Open a folder";function M8(i,e,n){let t;const o=new Wr(an);let r=new f8;Ze(i,r,f=>n(0,t=f)),o.registerConsumer(r);const s=new Cu,c=new Mu(an,o,s);let a,l=!1,u=!1;return an.postMessage({type:dt.awaitingSyncingPermissionLoaded}),i.$$.update=()=>{1&i.$$.dirty&&n(3,u=t.currentCard===Mt.workspaceTooLarge||t.currentCard===Mt.uploadingHomeDir)},[t,l,a,u,r,s,function(){n(1,l=!0),c.grantSyncPermission()},function(){c.openProjectFolder()},function(){c.closeProjectFolder()},function(f){const g=f.data;switch(g.type){case dt.awaitingSyncingPermissionInitialize:{const{enableDebugFeatures:h,maxTrackableFileCount:k,userTier:I}=g.data;n(2,a=g.data.workspaceName),s.update({enableDebugFeatures:h,maxTrackableFileCount:k,userTier:I});break}case dt.mainPanelActions:r.onActionsUpdates(function(h){const k=new Set([Mt.workspaceNotSelected,Mt.workspaceTooLarge,Mt.uploadingHomeDir]);return h.filter(I=>k.has(I))}(g.data))}}]}class A8 extends oe{constructor(e){super(),re(this,e,M8,C8,ne,{})}}function k8(i){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),A(n,"fill-rule","evenodd"),A(n,"clip-rule","evenodd"),A(n,"d","M8.14645 3.14645C8.34171 2.95118 8.65829 2.95118 8.85355 3.14645L12.8536 7.14645C13.0488 7.34171 13.0488 7.65829 12.8536 7.85355L8.85355 11.8536C8.65829 12.0488 8.34171 12.0488 8.14645 11.8536C7.95118 11.6583 7.95118 11.3417 8.14645 11.1464L11.2929 8H2.5C2.22386 8 2 7.77614 2 7.5C2 7.22386 2.22386 7 2.5 7H11.2929L8.14645 3.85355C7.95118 3.65829 7.95118 3.34171 8.14645 3.14645Z"),A(n,"fill","currentColor"),A(e,"width","15"),A(e,"height","15"),A(e,"viewBox","0 0 15 15"),A(e,"fill","none"),A(e,"xmlns","http://www.w3.org/2000/svg")},m(t,o){M(t,e,o),H(e,n)},p:N,i:N,o:N,d(t){t&&w(e)}}}class E8 extends oe{constructor(e){super(),re(this,e,null,k8,ne,{})}}function I8(i){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),A(n,"fill-rule","evenodd"),A(n,"clip-rule","evenodd"),A(n,"d","M2 3.5C2 3.22386 2.22386 3 2.5 3H12.5C12.7761 3 13 3.22386 13 3.5V9.5C13 9.77614 12.7761 10 12.5 10H2.5C2.22386 10 2 9.77614 2 9.5V3.5ZM2 10.9146C1.4174 10.7087 1 10.1531 1 9.5V3.5C1 2.67157 1.67157 2 2.5 2H12.5C13.3284 2 14 2.67157 14 3.5V9.5C14 10.1531 13.5826 10.7087 13 10.9146V11.5C13 12.3284 12.3284 13 11.5 13H3.5C2.67157 13 2 12.3284 2 11.5V10.9146ZM12 11V11.5C12 11.7761 11.7761 12 11.5 12H3.5C3.22386 12 3 11.7761 3 11.5V11H12ZM5 6.5C5 6.22386 5.22386 6 5.5 6H7V4.5C7 4.22386 7.22386 4 7.5 4C7.77614 4 8 4.22386 8 4.5V6H9.5C9.77614 6 10 6.22386 10 6.5C10 6.77614 9.77614 7 9.5 7H8V8.5C8 8.77614 7.77614 9 7.5 9C7.22386 9 7 8.77614 7 8.5V7H5.5C5.22386 7 5 6.77614 5 6.5Z"),A(n,"fill","currentColor"),A(e,"width","15"),A(e,"height","15"),A(e,"viewBox","0 0 15 15"),A(e,"fill","none"),A(e,"xmlns","http://www.w3.org/2000/svg")},m(t,o){M(t,e,o),H(e,n)},p:N,i:N,o:N,d(t){t&&w(e)}}}class T8 extends oe{constructor(e){super(),re(this,e,null,I8,ne,{})}}function L8(i){let e;return{c(){e=X("Create a new project")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function S8(i){let e,n;return e=new Au({props:{slot:"iconLeft"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function tu(i){let e,n,t,o,r,s,c;function a(f){i[9](f)}function l(f){i[10](f)}let u={color:i[2]?"error":"neutral",placeholder:"Project Name"};return i[1]!==void 0&&(u.value=i[1]),i[3]!==void 0&&(u.textInput=i[3]),n=new Gr({props:u}),ft.push(()=>Zt(n,"value",a)),ft.push(()=>Zt(n,"textInput",l)),n.$on("keydown",i[11]),s=new At({props:{disabled:i[4],$$slots:{default:[R8]},$$scope:{ctx:i}}}),s.$on("click",i[12]),{c(){e=F("div"),y(n.$$.fragment),r=U(),y(s.$$.fragment),A(e,"class","c-folder-selection__project-name-input svelte-1hmau15")},m(f,g){M(f,e,g),b(n,e,null),H(e,r),b(s,e,null),c=!0},p(f,g){const h={};4&g&&(h.color=f[2]?"error":"neutral"),!t&&2&g&&(t=!0,h.value=f[1],tn(()=>t=!1)),!o&&8&g&&(o=!0,h.textInput=f[3],tn(()=>o=!1)),n.$set(h);const k={};16&g&&(k.disabled=f[4]),16384&g&&(k.$$scope={dirty:g,ctx:f}),s.$set(k)},i(f){c||(d(n.$$.fragment,f),d(s.$$.fragment,f),c=!0)},o(f){p(n.$$.fragment,f),p(s.$$.fragment,f),c=!1},d(f){f&&w(e),x(n),x(s)}}}function R8(i){let e,n;return e=new E8({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function P8(i){let e;return{c(){e=X("Open a local folder")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function N8(i){let e,n;return e=new au({props:{slot:"iconLeft"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function F8(i){let e;return{c(){e=X("Clone a repository")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function D8(i){let e,n;return e=new T8({props:{slot:"iconLeft"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function O8(i){let e,n,t,o,r,s,c,a,l,u,f,g,h;n=new cd({props:{title:"Welcome back!",subtitle:"Please open a project folder to begin."}}),r=new pt({props:{variant:"outline",color:"neutral",size:2,alignment:"left",$$slots:{iconLeft:[S8],default:[L8]},$$scope:{ctx:i}}}),r.$on("click",i[8]);let k=i[0]&&tu(i);return a=new pt({props:{variant:"outline",color:"neutral",size:2,alignment:"left",$$slots:{iconLeft:[N8],default:[P8]},$$scope:{ctx:i}}}),a.$on("click",i[6]),u=new pt({props:{variant:"outline",color:"neutral",size:2,alignment:"left",$$slots:{iconLeft:[D8],default:[F8]},$$scope:{ctx:i}}}),u.$on("click",i[7]),g=new sd({}),{c(){e=F("div"),y(n.$$.fragment),t=U(),o=F("div"),y(r.$$.fragment),s=U(),k&&k.c(),c=U(),y(a.$$.fragment),l=U(),y(u.$$.fragment),f=U(),y(g.$$.fragment),A(o,"class","c-folder-selection__buttons svelte-1hmau15"),A(e,"class","c-folder-selection svelte-1hmau15")},m(I,_){M(I,e,_),b(n,e,null),H(e,t),H(e,o),b(r,o,null),H(o,s),k&&k.m(o,null),H(o,c),b(a,o,null),H(o,l),b(u,o,null),H(e,f),b(g,e,null),h=!0},p(I,_){const T={};16384&_&&(T.$$scope={dirty:_,ctx:I}),r.$set(T),I[0]?k?(k.p(I,_),1&_&&d(k,1)):(k=tu(I),k.c(),d(k,1),k.m(o,c)):k&&(K(),p(k,1,1,()=>{k=null}),Z());const O={};16384&_&&(O.$$scope={dirty:_,ctx:I}),a.$set(O);const B={};16384&_&&(B.$$scope={dirty:_,ctx:I}),u.$set(B)},i(I){h||(d(n.$$.fragment,I),d(r.$$.fragment,I),d(k),d(a.$$.fragment,I),d(u.$$.fragment,I),d(g.$$.fragment,I),h=!0)},o(I){p(n.$$.fragment,I),p(r.$$.fragment,I),p(k),p(a.$$.fragment,I),p(u.$$.fragment,I),p(g.$$.fragment,I),h=!1},d(I){I&&w(e),x(n),x(r),k&&k.d(),x(a),x(u),x(g)}}}function B8(i){let e,n;return e=new ad({props:{slot:"logo"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function nu(i){let e,n;return e=new bn({props:{variant:"soft",color:"error",size:1,$$slots:{icon:[j8],default:[z8]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function z8(i){let e;return{c(){e=X("Must contain only letters, numbers, hyphens, underscores, and spaces")},m(n,t){M(n,e,t)},d(n){n&&w(e)}}}function j8(i){let e,n;return e=new ln({props:{slot:"icon"}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p:N,i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function H8(i){let e,n,t=i[2]&&nu(i);return{c(){e=F("div"),t&&t.c(),A(e,"slot","error")},m(o,r){M(o,e,r),t&&t.m(e,null),n=!0},p(o,r){o[2]?t?4&r&&d(t,1):(t=nu(o),t.c(),d(t,1),t.m(e,null)):t&&(K(),p(t,1,1,()=>{t=null}),Z())},i(o){n||(d(t),n=!0)},o(o){p(t),n=!1},d(o){o&&w(e),t&&t.d()}}}function U8(i){let e,n;return e=new qi({props:{$$slots:{error:[H8],logo:[B8],default:[O8]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},p(t,[o]){const r={};16415&o&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function W8(i,e,n){const t=new Mu(an,new Wr(an),new Cu);function o(u){t.createProject(u)}let r,s=!1,c="",a=!0,l=!1;return i.$$.update=()=>{7&i.$$.dirty&&(n(2,l=!/^[a-zA-Z0-9\-_ ]+$/.test(c)&&c.trim().length>0),n(4,a=!s||!c.trim().length||l))},[s,c,l,r,a,o,function(){t.openProjectFolder()},function(){t.cloneRepository()},function(){s?n(0,s=!1):(n(0,s=!0),setTimeout(()=>{r==null||r.focus()},0))},function(u){c=u,n(1,c)},function(u){r=u,n(3,r)},u=>{u.key!=="Enter"||a||(u.preventDefault(),o(c.trim()))},()=>o(c.trim())]}class q8 extends oe{constructor(e){super(),re(this,e,W8,U8,ne,{})}}function G8(i){let e,n;return e=new q8({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function V8(i){let e,n;return e=new A8({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Y8(i){let e,n;return e=new eb({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function X8(i){let e,n;return e=new kb({}),{c(){y(e.$$.fragment)},m(t,o){b(e,t,o),n=!0},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function K8(i){let e,n,t,o;const r=[X8,Y8,V8,G8],s=[];function c(a,l){return a[0]===Cr.signIn?0:a[0]===Cr.chat?1:a[0]===Cr.awaitingSyncingPermission?2:a[0]===Cr.folderSelection?3:-1}return~(n=c(i))&&(t=s[n]=r[n](i)),{c(){e=F("main"),t&&t.c()},m(a,l){M(a,e,l),~n&&s[n].m(e,null),o=!0},p(a,l){let u=n;n=c(a),n!==u&&(t&&(K(),p(s[u],1,1,()=>{s[u]=null}),Z()),~n?(t=s[n],t||(t=s[n]=r[n](a),t.c()),d(t,1),t.m(e,null)):t=null)},i(a){o||(d(t),o=!0)},o(a){p(t),o=!1},d(a){a&&w(e),~n&&s[n].d()}}}function Z8(i){let e,n,t,o;return e=new Ud.Root({props:{$$slots:{default:[K8]},$$scope:{ctx:i}}}),{c(){y(e.$$.fragment)},m(r,s){b(e,r,s),n=!0,t||(o=ke(window,"message",i[1]),t=!0)},p(r,[s]){const c={};5&s&&(c.$$scope={dirty:s,ctx:r}),e.$set(c)},i(r){n||(d(e.$$.fragment,r),n=!0)},o(r){p(e.$$.fragment,r),n=!1},d(r){x(e,r),t=!1,o()}}}function Q8(i,e,n){let t;return an.postMessage({type:dt.mainPanelLoaded}),[t,o=>{const r=o.data;r.type===dt.mainPanelDisplayApp&&n(0,t=r.data)}]}new class extends oe{constructor(i){super(),re(this,i,Q8,Z8,ne,{})}}({target:document.getElementById("app")});export{L4 as A,td as C,I$ as D,Ui as E,Mo as G,Dr as I,nh as R,Ex as S,Xr as T,x4 as a,y2 as b,Pn as c,Hv as d,i$ as e,Ix as f};
