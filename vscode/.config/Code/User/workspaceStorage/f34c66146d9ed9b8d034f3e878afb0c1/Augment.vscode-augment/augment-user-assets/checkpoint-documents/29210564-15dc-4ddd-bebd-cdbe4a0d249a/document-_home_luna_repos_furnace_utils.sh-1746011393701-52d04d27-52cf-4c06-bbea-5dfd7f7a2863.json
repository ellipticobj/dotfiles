{"path":{"rootPath":"/home/luna/repos/furnace","relPath":"utils.sh"},"originalCode":"#!/bin/bash\n\n# Function to check if a package is installed\nis_installed() {\n  pacman -Qi \"$1\" &> /dev/null\n}\n\n# Function to check if a package is installed\nis_group_installed() {\n  pacman -Qg \"$1\" &> /dev/null\n}\n\n# Function to install packages if not already installed\ninstall_packages() {\n  local packages=(\"$@\")\n  local to_install=()\n\n  for pkg in \"${packages[@]}\"; do\n    if ! is_installed \"$pkg\" && ! is_group_installed \"$pkg\"; then\n      to_install+=(\"$pkg\")\n    fi\n  done\n\n  if [ ${#to_install[@]} -ne 0 ]; then\n    echo \"Installing: ${to_install[*]}\"\n    yay -S --noconfirm \"${to_install[@]}\"\n  fi\n}","modifiedCode":"#!/bin/bash\n\n# Function to check if a package is installed\nis_installed() {\n  pacman -Qi \"$1\" &> /dev/null\n}\n\n# Function to check if a package is installed\nis_group_installed() {\n  pacman -Qg \"$1\" &> /dev/null\n}\n\n# Function to install packages if not already installed\ninstall_packages() {\n  local packages=(\"$@\")\n  local to_install=()\n\n  for pkg in \"${packages[@]}\"; do\n    if ! is_installed \"$pkg\" && ! is_group_installed \"$pkg\"; then\n      to_install+=(\"$pkg\")\n    fi\n  done\n\n  if [ ${#to_install[@]} -ne 0 ]; then\n    echo \"Installing: ${to_install[*]}\"\n    yay -S --noconfirm \"${to_install[@]}\"\n  fi\n}\n\n# Function to export currently installed packages\nexport_installed_packages() {\n  local output_file=\"$1\"\n\n  echo \"Exporting installed packages to $output_file...\"\n\n  # Create directory if it doesn't exist\n  mkdir -p \"$(dirname \"$output_file\")\"\n\n  # Export explicitly installed packages (not dependencies)\n  pacman -Qe > \"$output_file\"\n\n  # Export AUR packages if yay is installed\n  if command -v yay &> /dev/null; then\n    echo -e \"\\n# AUR Packages\" >> \"$output_file\"\n    yay -Qm >> \"$output_file\"\n  fi\n\n  echo \"Package list exported successfully to $output_file\"\n}"}